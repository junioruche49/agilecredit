{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/react app/agilecreditportal/src/pages/LoanRequests.tsx\";\nimport React from \"react\";\nimport { withRouter } from \"react-router\";\nimport { getLoanApplications } from \"../clients/loan\";\nimport { getProducts } from \"../clients/products\";\nimport { useQuery } from \"react-query\";\nimport useAuthStore from \"../stores/authStore\";\n\nconst LoanRequests = props => {\n  var _data$data;\n\n  const token = useAuthStore(state => state.accessToken);\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery(\"applications\", () => getLoanApplications(token));\n  const {\n    isLoading: isProductLoading,\n    error: productError,\n    data: productData\n  } = useQuery(\"products\", () => getProducts(token));\n\n  const getProductName = productNo => {\n    let products = productData === null || productData === void 0 ? void 0 : productData.data;\n\n    if (!products) {\n      return;\n    }\n\n    let currentProduct = products.find(prod => prod.no === productNo);\n    return currentProduct.description;\n  };\n\n  const statusClass = status => {\n    switch (status) {\n      case \"Pending\":\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative inline-block px-3 py-1 font-semibold text-orange-900 leading-tight\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          \"aria-hidden\": true,\n          className: \"absolute inset-0 bg-orange-200 opacity-50 rounded-full\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }\n        }, status));\n\n      case \"Rejected\":\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative inline-block px-3 py-1 font-semibold text-red-900 leading-tight\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          \"aria-hidden\": true,\n          className: \"absolute inset-0 bg-red-200 opacity-50 rounded-full\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }\n        }, status));\n\n      default:\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          \"aria-hidden\": true,\n          className: \"absolute inset-0 bg-green-200 opacity-50 rounded-full\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }\n        }, status));\n    }\n  };\n\n  if (isLoading || isProductLoading) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-full m-auto px-8 relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/img/loading-gif.gif\",\n      alt: \"\",\n      className: \"w-1/8 m-auto py-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"md:pl-12 set-bg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center mt-10 lg:mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, \"My Applications\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 bg-white flex rounded py-0 md:py-4 shadow-lg md:border-t-8 md:border-blue-600 mb-0 md:mb-20 m-auto md:m-0 rounded-t-3xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full mb-6 px-8 py-6 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"block text-blue-800 text-lg font-bold mb-6 fade-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Recent loan applications:\"), (data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.length) > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 md:py-4 overflow-auto  fade-in mt-5 mb-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inline-block min-w-full shadow rounded-lg overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"min-w-full w-full leading-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 29\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, \"Loan Type\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }, \"Duration\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }, \"Status\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    className: \"flex flex-col items-center overflow-y-scroll w-full schedule-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, data && data.data.map(d => /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 33\n    }\n  }, new Date(d.created_at).toDateString()), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 33\n    }\n  }, getProductName(d.product_code)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  }, \"\\u20A6\", Number(d.loan_amount).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }, d.number_of_payments, \" months\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 33\n    }\n  }, statusClass(d.status)))))))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full m-auto mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/check-files.svg\",\n    alt: \"\",\n    className: \"w-3/4 md:w-1/3 m-auto opacity-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-3/4 m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-gray-700 font-medium text-center my-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 23\n    }\n  }, \"You have not requested for any loan so far...\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full mb-8 lg:mb-16 m-auto text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => props.history.push(\"/new-loan-request\"),\n    className: \"inline-flex m-auto shadow-xl text-xl text-white px-8 lg:px-10 py-2 lg:py-3 items-center bg-blue-700 rounded-md hover:bg-blue-600 transition-colors duration-150 ease-in-out\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"24\",\n    height: \"25\",\n    viewBox: \"0 0 24 25\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"add_24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"icon/content/add_24px\",\n    d: \"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z\",\n    fill: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 31\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-2 text-lg font-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 27\n    }\n  }, \"Take a loan\"))))))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default withRouter(LoanRequests);","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/LoanRequests.tsx"],"names":["React","withRouter","getLoanApplications","getProducts","useQuery","useAuthStore","LoanRequests","props","token","state","accessToken","isLoading","error","data","isProductLoading","productError","productData","getProductName","productNo","products","currentProduct","find","prod","no","description","statusClass","status","length","map","d","Date","created_at","toDateString","product_code","Number","loan_amount","toLocaleString","undefined","maximumFractionDigits","number_of_payments","history","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router\";\nimport { getLoanApplications } from \"../clients/loan\";\nimport { getProducts } from \"../clients/products\";\nimport { useQuery } from \"react-query\";\nimport useAuthStore from \"../stores/authStore\";\n\nconst LoanRequests = (props: any) => {\n  const token = useAuthStore((state) => state.accessToken);\n\n  const { isLoading, error, data } = useQuery(\"applications\", () =>\n    getLoanApplications(token)\n  );\n\n  const {\n    isLoading: isProductLoading,\n    error: productError,\n    data: productData,\n  } = useQuery(\"products\", () => getProducts(token));\n\n  const getProductName = (productNo) => {\n    let products: any[] | null = productData?.data;\n\n    if (!products) {\n      return;\n    }\n    let currentProduct = products.find((prod) => prod.no === productNo);\n\n    return currentProduct.description;\n  };\n\n  const statusClass = (status) => {\n    switch (status) {\n      case \"Pending\":\n        return (\n          <span className=\"relative inline-block px-3 py-1 font-semibold text-orange-900 leading-tight\">\n            <span\n              aria-hidden\n              className=\"absolute inset-0 bg-orange-200 opacity-50 rounded-full\"\n            ></span>\n            <span className=\"relative\">{status}</span>\n          </span>\n        );\n      case \"Rejected\":\n        return (\n          <span className=\"relative inline-block px-3 py-1 font-semibold text-red-900 leading-tight\">\n            <span\n              aria-hidden\n              className=\"absolute inset-0 bg-red-200 opacity-50 rounded-full\"\n            ></span>\n            <span className=\"relative\">{status}</span>\n          </span>\n        );\n      default:\n        return (\n          <span className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\">\n            <span\n              aria-hidden\n              className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\"\n            ></span>\n            <span className=\"relative\">{status}</span>\n          </span>\n        );\n    }\n  };\n\n  if (isLoading || isProductLoading) {\n    return (\n      <>\n        <div className=\"w-full m-auto px-8 relative\">\n          <img\n            src=\"/img/loading-gif.gif\"\n            alt=\"\"\n            className=\"w-1/8 m-auto py-20\"\n          />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <main className=\"md:pl-12 set-bg\">\n        <div className=\"flex \">\n          <div className=\"w-full \">\n            <div className=\"flex items-center mt-10 lg:mt-0\">\n              <div className=\"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\"></div>\n              <h4 className=\"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\">\n                My Applications\n              </h4>\n            </div>\n            <br />\n\n            <div className=\"w-11/12 bg-white flex rounded py-0 md:py-4 shadow-lg md:border-t-8 md:border-blue-600 mb-0 md:mb-20 m-auto md:m-0 rounded-t-3xl\">\n              <div className=\"w-full mb-6 px-8 py-6 relative\">\n                <h1 className=\"block text-blue-800 text-lg font-bold mb-6 fade-in\">\n                  Recent loan applications:\n                </h1>\n\n                {data?.data?.length > 0 ? (\n                  <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 md:py-4 overflow-auto  fade-in mt-5 mb-10\">\n                    <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\n                      <table className=\"min-w-full w-full leading-normal\">\n                        <thead className=\"flex w-full\">\n                          <tr className=\"flex w-full\">\n                            <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n                              Date\n                            </th>\n                            <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n                              Loan Type\n                            </th>\n                            <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">\n                              Amount\n                            </th>\n                            <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">\n                              Duration\n                            </th>\n                            <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">\n                              Status\n                            </th>\n                          </tr>\n                        </thead>\n                        <tbody className=\"flex flex-col items-center overflow-y-scroll w-full schedule-table\">\n                          {data &&\n                            data.data.map((d) => (\n                              <tr className=\"flex w-full\">\n                                <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700\">\n                                  {new Date(d.created_at).toDateString()}\n                                </td>\n                                <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700\">\n                                  {getProductName(d.product_code)}\n                                </td>\n                                <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center\">\n                                  â‚¦\n                                  {Number(\n                                    d.loan_amount\n                                  ).toLocaleString(undefined, {\n                                    maximumFractionDigits: 2,\n                                  })}\n                                </td>\n                                <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700 text-center\">\n                                  {d.number_of_payments} months\n                                </td>\n                                <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center\">\n                                  {statusClass(d.status)}\n                                </td>\n                              </tr>\n                            ))}\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"w-full m-auto mb-6\">\n                      <img\n                        src=\"/img/check-files.svg\"\n                        alt=\"\"\n                        className=\"w-3/4 md:w-1/3 m-auto opacity-50\"\n                      />\n                    </div>\n                    <div className=\"w-3/4 m-auto\">\n                      <p className=\"text-gray-700 font-medium text-center my-6\">\n                        You have not requested for any loan so far...\n                      </p>\n                      <div className=\"w-full mb-8 lg:mb-16 m-auto text-center\">\n                        <button\n                          onClick={() =>\n                            props.history.push(\"/new-loan-request\")\n                          }\n                          className=\"inline-flex m-auto shadow-xl text-xl text-white px-8 lg:px-10 py-2 lg:py-3 items-center bg-blue-700 rounded-md hover:bg-blue-600 transition-colors duration-150 ease-in-out\"\n                        >\n                          <svg\n                            width=\"24\"\n                            height=\"25\"\n                            viewBox=\"0 0 24 25\"\n                            fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                          >\n                            <g id=\"add_24px\">\n                              <path\n                                id=\"icon/content/add_24px\"\n                                d=\"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z\"\n                                fill=\"white\"\n                              />\n                            </g>\n                          </svg>\n                          <span className=\"ml-2 text-lg font-normal\">\n                            Take a loan\n                          </span>\n                        </button>\n                      </div>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n        <br />\n      </main>\n    </>\n  );\n};\n\nexport default withRouter(LoanRequests);\n"]},"metadata":{},"sourceType":"module"}