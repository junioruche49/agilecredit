{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/react app/agilecreditportal/src/pages/Onboarding.tsx\";\nimport React from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useHistory, Route, Switch, useLocation } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport Bvn from \"./Bvn\";\nimport PersonalDetails from \"./PersonalDetails\";\nimport EducationalDetails from \"./EducationalDetails\";\nimport AccountDetails from \"./AccountDetails\";\nimport Employment from \"./Employment\";\nimport IdentificationUpload from \"./IdentificationUpload\";\nimport NextofKin from \"./NextofKin\";\nimport ContactInformation from \"./ContactInformation\";\nimport useProfileStore from \"../stores/profileStore\";\nimport useAuthStore from \"../stores/authStore\";\nimport { getProfileSection } from \"../clients/onboarding\";\n\nfunction Onboarding(props) {\n  const profile = useProfileStore(state => state.profileSection); // const [checkList, setcheckList] = useState([]);\n\n  const token = useAuthStore(state => state.accessToken); // console.log(\"profile\",  profile[7]);\n\n  const history = useHistory();\n  const location = useLocation();\n  const {\n    isLoading: checklistLoading,\n    error: checklistError,\n    data: checklistData\n  } = useQuery(\"sections\", () => getProfileSection(token));\n  const checklist = checklistData ? checklistData : [];\n  const completedKyc = checklist.every(loan => loan.completed === true);\n\n  if (completedKyc && location.pathname.includes(\"/onboarding\")) {\n    history.replace(\"/profile\");\n  }\n\n  let pageType = \"profile\";\n\n  if (history.location.pathname.includes(\"/onboarding\")) {\n    pageType = \"onboarding\";\n  }\n\n  if (location.pathname === \"/onboarding/\" || location.pathname === \"/onboarding\") {\n    history.replace(\"/onboarding/bvn\");\n  }\n\n  if (location.pathname === \"/profile/\" || location.pathname === \"/profile\") {\n    history.replace(\"/profile/bvn\");\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"md:pl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center mt-10 lg:mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-8 h-1 bg-blue-700 rounded mr-3 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"Profile Update\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/bvn-mobile-card-bg.svg\",\n    alt: \"\",\n    className: \"md:hidden absolute mobile-card-bg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0 mt-12 md:mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: pageType === \"onboarding\" ? \"/onboarding/next_of_kin\" : \"/profile/next_of_kin\",\n    component: NextofKin,\n    pageType: pageType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: pageType === \"onboarding\" ? \"/onboarding/contact\" : \"/profile/contact\",\n    component: ContactInformation,\n    pageType: pageType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: pageType === \"onboarding\" ? \"/onboarding/employment\" : \"/profile/employment\",\n    component: Employment,\n    pageType: pageType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: pageType === \"onboarding\" ? \"/onboarding/account\" : \"/profile/account\",\n    component: AccountDetails,\n    pageType: pageType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: pageType === \"onboarding\" ? \"/onboarding/personal\" : \"/profile/personal\",\n    component: PersonalDetails,\n    pageType: pageType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: pageType === \"onboarding\" ? \"/onboarding/education\" : \"/profile/education\",\n    component: EducationalDetails,\n    pageType: pageType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: pageType === \"onboarding\" ? \"/onboarding/documents\" : \"/profile/documents\",\n    component: IdentificationUpload,\n    pageType: pageType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: pageType === \"onboarding\" ? \"/onboarding/bvn\" : \"/profile/bvn\",\n    component: Bvn,\n    pageType: pageType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 mt-8 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default withRouter(Onboarding);","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/Onboarding.tsx"],"names":["React","useQuery","useHistory","Route","Switch","useLocation","withRouter","Bvn","PersonalDetails","EducationalDetails","AccountDetails","Employment","IdentificationUpload","NextofKin","ContactInformation","useProfileStore","useAuthStore","getProfileSection","Onboarding","props","profile","state","profileSection","token","accessToken","history","location","isLoading","checklistLoading","error","checklistError","data","checklistData","checklist","completedKyc","every","loan","completed","pathname","includes","replace","pageType"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { NavLink, useHistory, Route, Switch, useLocation } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport Bvn from \"./Bvn\";\nimport PersonalDetails from \"./PersonalDetails\";\nimport EducationalDetails from \"./EducationalDetails\";\nimport OnboardingSideBar from \"../components/OnboardingSideBar\";\nimport AccountDetails from \"./AccountDetails\";\nimport LoanRequest from \"./LoanApplication\";\nimport Employment from \"./Employment\";\nimport IdentificationUpload from \"./IdentificationUpload\";\nimport NextofKin from \"./NextofKin\";\nimport ContactInformation from \"./ContactInformation\";\n\nimport useProfileStore from \"../stores/profileStore\";\nimport useAuthStore from \"../stores/authStore\";\nimport { getProfileSection } from \"../clients/onboarding\";\n\nfunction Onboarding(props: any) {\n  const profile = useProfileStore((state) => state.profileSection);\n  // const [checkList, setcheckList] = useState([]);\n  const token = useAuthStore((state) => state.accessToken);\n  // console.log(\"profile\",  profile[7]);\n\n  const history = useHistory();\n  const location = useLocation();\n\n  const { isLoading : checklistLoading, error: checklistError, data: checklistData } = useQuery(\"sections\", () =>\n    getProfileSection(token)\n  );\n\n  const checklist = checklistData? checklistData : [];\n\n  const completedKyc = checklist.every((loan) => loan.completed === true);\n\n  if(completedKyc && location.pathname.includes(\"/onboarding\")) {\n    history.replace(\"/profile\");\n  }\n  \n  let pageType = \"profile\";\n\n  if(history.location.pathname.includes(\"/onboarding\")){\n    pageType = \"onboarding\";\n  } \n\n  if(location.pathname === \"/onboarding/\" || location.pathname === \"/onboarding\") {\n    history.replace(\"/onboarding/bvn\");\n  }\n\n  if(location.pathname === \"/profile/\" || location.pathname === \"/profile\" ) {\n    history.replace(\"/profile/bvn\");\n  }\n\n\n\n\n  return (\n    <>\n      <main className=\"md:pl-12\">\n        <div className=\"flex \">\n          <div className=\"w-full \">\n            <div className=\"flex items-center mt-10 lg:mt-0\">\n              <div className=\"w-8 h-1 bg-blue-700 rounded mr-3 hidden md:block\"></div>\n              <h4 className=\"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\">\n                Profile Update\n              </h4>\n            </div>\n            <br />\n            <img\n              src=\"/img/bvn-mobile-card-bg.svg\"\n              alt=\"\"\n              className=\"md:hidden absolute mobile-card-bg\"\n            />\n            <div className=\"relative w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0 mt-12 md:mt-0\">\n\n                  <Switch>\n                    <Route path={pageType === \"onboarding\" ?  \"/onboarding/next_of_kin\": \"/profile/next_of_kin\"} component={NextofKin} pageType={pageType}/>\n                    <Route path={pageType === \"onboarding\" ?  \"/onboarding/contact\" : \"/profile/contact\"} component={ContactInformation} pageType={pageType}/>\n                    <Route path={pageType === \"onboarding\" ?  \"/onboarding/employment\" : \"/profile/employment\"} component={Employment} pageType={pageType}/>\n                    <Route path={pageType === \"onboarding\" ?  \"/onboarding/account\" : \"/profile/account\"} component={AccountDetails} pageType={pageType}/>\n                    <Route path={pageType === \"onboarding\" ?  \"/onboarding/personal\" : \"/profile/personal\"} component={PersonalDetails} pageType={pageType}/>\n                    <Route path={pageType === \"onboarding\" ?  \"/onboarding/education\" : \"/profile/education\"} component={EducationalDetails} pageType={pageType}/>\n                    <Route path={pageType === \"onboarding\" ?  \"/onboarding/documents\" : \"/profile/documents\"} component={IdentificationUpload} pageType={pageType}/>\n                    <Route path={pageType === \"onboarding\" ?  \"/onboarding/bvn\" : \"/profile/bvn\"} component={Bvn} pageType={pageType}/>\n                  </Switch>\n                  <br />\n                {/* <Switch>\n                  <Route path=\"/onboarding/next_of_kin\" component={NextofKin} />\n                  <Route\n                    path=\"/onboarding/contact\"\n                    component={ContactInformation}\n                  />\n                  <Route path=\"/onboarding/employment\" component={Employment} />\n                  <Route\n                    path=\"/onboarding/account\"\n                    component={AccountDetails}\n                  />\n                  <Route\n                    path=\"/onboarding/personal\"\n                    component={PersonalDetails}\n                  />\n                  <Route\n                    path=\"/onboarding/education\"\n                    component={EducationalDetails}\n                  />\n                  <Route\n                    path=\"/onboarding/documents\"\n                    component={IdentificationUpload}\n                  />\n                  <Route path=\"/onboarding/bvn\" component={Bvn} />\n                </Switch> */}\n            </div>\n            <div className=\"w-11/12 mt-8 hidden md:block\">\n              <hr className=\"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\"></hr>\n            </div>\n          </div>\n        </div>\n        <br />\n      </main>\n    </>\n  );\n}\n\nexport default withRouter(Onboarding);\n"]},"metadata":{},"sourceType":"module"}