{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from\"react\";import{withRouter}from\"react-router\";import useAuthStore from\"../stores/authStore\";import useProfileStore from\"../stores/profileStore\";import{getCards,setDefaultCard,removeCard}from\"../clients/cards\";var MyCards=function MyCards(props){var goToAddCard=function goToAddCard(){props.history.push(\"/cards/add\");};var token=useAuthStore(function(state){return state.accessToken;});var profile=useProfileStore(useCallback(function(state){return state.data;},[]));var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),responseData=_useState4[0],setResponse=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),responseMessage=_useState6[0],setResponseMessage=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),defaultCardResponseMessage=_useState8[0],setDefaultCardResponseMessage=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),removeCardResponseMessage=_useState10[0],setRemoveCardResponseMessage=_useState10[1];var _useState11=useState(function(){if(props.location.state&&props.location.state.message){return props.location.state.message;}return null;}),_useState12=_slicedToArray(_useState11,2),incomingStateMessage=_useState12[0],setIncomingStateMessage=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),errorMsg=_useState14[0],setErrorMsg=_useState14[1];var updateErrors=function updateErrors(errors){setErrorMsg(Object.values(errors).flat());};var postCardOwner=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var values,_yield$getCards,message,data,success,msg,_msg,_msg2,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:values={email:profile.e_mail};setLoading(true);_context.prev=2;_context.next=5;return getCards(token,values);case 5:_yield$getCards=_context.sent;message=_yield$getCards.message;data=_yield$getCards.data;success=_yield$getCards.success;if(!(success===false)){_context.next=15;break;}msg=[];msg.push(message);setErrorMsg(msg);setLoading(false);return _context.abrupt(\"return\");case 15:setResponseMessage(message);setTimeout(function(){setResponseMessage(null);},3000);//   const { data } = postData;\nsetResponse(data);setErrorMsg([]);setLoading(false);_context.next=37;break;case 22:_context.prev=22;_context.t0=_context[\"catch\"](2);setLoading(false);if(!(_context.t0&&!_context.t0.response)){_context.next=30;break;}_msg=[];_msg.push(\"Network Error, Check Your Internet Connection\");setErrorMsg(_msg);return _context.abrupt(\"return\");case 30:if(!(_context.t0&&_context.t0.response.status===500)){_context.next=35;break;}_msg2=[];_msg2.push(_context.t0.response.data.message);setErrorMsg(_msg2);return _context.abrupt(\"return\");case 35:_data=_context.t0.response.data;_data.errors&&updateErrors(_data.errors);case 37:case\"end\":return _context.stop();}}},_callee,null,[[2,22]]);})),[token,profile.e_mail]);useEffect(function(){if(profile&&profile.e_mail)postCardOwner();var addCardMessageTimeout=setTimeout(function(){setIncomingStateMessage(null);},8000);return function(){return clearTimeout(addCardMessageTimeout);};},[setIncomingStateMessage,profile]);var postMakeDefaultCard=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(selectedDefaultCard){var values,_yield$setDefaultCard,message,data,success,msg,_msg3,_msg4,_data2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:values={id:selectedDefaultCard};setLoading(true);_context2.prev=2;_context2.next=5;return setDefaultCard(token,values);case 5:_yield$setDefaultCard=_context2.sent;message=_yield$setDefaultCard.message;data=_yield$setDefaultCard.data;success=_yield$setDefaultCard.success;if(!(success===false)){_context2.next=15;break;}msg=[];msg.push(message);setErrorMsg(msg);setLoading(false);return _context2.abrupt(\"return\");case 15:setDefaultCardResponseMessage(message);setTimeout(function(){setDefaultCardResponseMessage(null);// props.history.push(\"/cards\");\n},8000);//   const { data } = postData;\npostCardOwner();setResponse(data);setErrorMsg([]);setLoading(false);_context2.next=38;break;case 23:_context2.prev=23;_context2.t0=_context2[\"catch\"](2);setLoading(false);if(!(_context2.t0&&!_context2.t0.response)){_context2.next=31;break;}_msg3=[];_msg3.push(\"Network Error, Check Your Internet Connection\");setErrorMsg(_msg3);return _context2.abrupt(\"return\");case 31:if(!(_context2.t0&&_context2.t0.response.status===500)){_context2.next=36;break;}_msg4=[];_msg4.push(_context2.t0.response.data.message);setErrorMsg(_msg4);return _context2.abrupt(\"return\");case 36:_data2=_context2.t0.response.data;_data2.errors&&updateErrors(_data2.errors);case 38:case\"end\":return _context2.stop();}}},_callee2,null,[[2,23]]);}));return function postMakeDefaultCard(_x){return _ref2.apply(this,arguments);};}();var makeDefaultCard=function makeDefaultCard(id){postMakeDefaultCard(id);};var postRemoveCard=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(selectedDefaultCard){var values,_yield$removeCard,message,data,success,msg,_msg5,_msg6,_data3;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:values={id:selectedDefaultCard};setLoading(true);_context3.prev=2;_context3.next=5;return removeCard(token,values);case 5:_yield$removeCard=_context3.sent;message=_yield$removeCard.message;data=_yield$removeCard.data;success=_yield$removeCard.success;if(!(success===false)){_context3.next=15;break;}msg=[];msg.push(message);setErrorMsg(msg);setLoading(false);return _context3.abrupt(\"return\");case 15:setRemoveCardResponseMessage(message);setTimeout(function(){setRemoveCardResponseMessage(null);// props.history.push(\"/cards\");\n},8000);//   const { data } = postData;\npostCardOwner();setResponse(data);setErrorMsg([]);setLoading(false);_context3.next=38;break;case 23:_context3.prev=23;_context3.t0=_context3[\"catch\"](2);setLoading(false);if(!(_context3.t0&&!_context3.t0.response)){_context3.next=31;break;}_msg5=[];_msg5.push(\"Network Error, Check Your Internet Connection\");setErrorMsg(_msg5);return _context3.abrupt(\"return\");case 31:if(!(_context3.t0&&_context3.t0.response.status===500)){_context3.next=36;break;}_msg6=[];_msg6.push(_context3.t0.response.data.message);setErrorMsg(_msg6);return _context3.abrupt(\"return\");case 36:_data3=_context3.t0.response.data;_data3.errors&&updateErrors(_data3.errors);case 38:case\"end\":return _context3.stop();}}},_callee3,null,[[2,23]]);}));return function postRemoveCard(_x2){return _ref3.apply(this,arguments);};}();var deleteCard=function deleteCard(id){postRemoveCard(id);};var cardIcon=function cardIcon(type){switch(type){case\"mastercard\":return\"/img/mastercard.png\";case\"visa\":return\"/img/visa.png\";default:return\"/img/credit-card.png\";}};if(isLoading||!profile.e_mail){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative mt-20\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/img/loading-gif.gif\",alt:\"\",className:\"w-1/8 m-auto py-10\"}),/*#__PURE__*/React.createElement(\"h6\",{className:\"m-auto text-lg text-gray-700 text-center\"},\"Please wait while we load your cards...\")));}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"main\",{className:\"md:pl-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex \"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-full \"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center mt-10 lg:mt-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\"}),/*#__PURE__*/React.createElement(\"h4\",{className:\"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\"},\"My Cards\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"w-11/12 bg-white flex rounded py-6 md:py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"hidden md:block w-5/12 mb-6 border-r-2 border-gray-300 px-4\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/img/add-card-bg.svg\",alt:\"\",className:\"w-9/12 m-auto pt-32 pb-4 fade-in\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-7/12 w-full mb-6 md:px-12 px-6 md:py-6 py-3 relative\"},errorMsg.length?/*#__PURE__*/React.createElement(\"div\",{className:\"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-red-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",{style:{listStyleType:\"none\"}},errorMsg.map(function(error,i){return/*#__PURE__*/React.createElement(\"li\",{key:i},error);}))))):\"\",incomingStateMessage&&incomingStateMessage.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in mb-5\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-teal-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-sm\"},incomingStateMessage)))):null,defaultCardResponseMessage&&(defaultCardResponseMessage===null||defaultCardResponseMessage===void 0?void 0:defaultCardResponseMessage.length)>0?/*#__PURE__*/React.createElement(\"div\",{className:\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-teal-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-sm\"},defaultCardResponseMessage)))):removeCardResponseMessage&&(removeCardResponseMessage===null||removeCardResponseMessage===void 0?void 0:removeCardResponseMessage.length)>0?/*#__PURE__*/React.createElement(\"div\",{className:\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-teal-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-sm\"},removeCardResponseMessage)))):responseMessage&&(responseData===null||responseData===void 0?void 0:responseData.length)>0?/*#__PURE__*/React.createElement(\"div\",{className:\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-teal-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-sm\"},responseMessage)))):null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-end items-center h-16 my-2 md:my-6\"},/*#__PURE__*/React.createElement(\"button\",{className:\"flex bg-blue-200 hover:bg-blue-300 items-center py-2 px-4 rounded-lg transition-colors duration-150 ease-in-out cursor-pointer\",onClick:goToAddCard},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"svg\",{width:\"24\",height:\"25\",viewBox:\"0 0 24 25\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"g\",{id:\"add_24px\"},/*#__PURE__*/React.createElement(\"path\",{id:\"icon/content/add_24px\",d:\"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z\",fill:\"#0A54A2\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-2 text-blue-700 text-md\"},\"Add Card\"))),(responseData===null||responseData===void 0?void 0:responseData.length)>0?/*#__PURE__*/React.createElement(\"h1\",{className:\"block text-blue-800 text-lg font-bold mb-6 fade-in\"},\"Your available cards:\"):null,(responseData===null||responseData===void 0?void 0:responseData.length)>0?responseData&&responseData.map(function(card,key){return/*#__PURE__*/React.createElement(\"div\",{className:\"\",key:key},/*#__PURE__*/React.createElement(\"div\",{className:\"w-full flex\"},/*#__PURE__*/React.createElement(\"div\",{className:card.default?\"w-full m-auto\":\"w-10/12 m-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:card.default?\"flex justify-between items-center h-16 p-4 my-5 rounded-lg shadow-xl default-card\":\"flex justify-between items-center h-16 p-4 my-5  rounded-lg border border-blue-300 shadow-xl\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:\"h-6 md:h-8 w-6 md:w-8\",src:cardIcon(card.card_type.trim()),alt:\"icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:card.default?\"text-xs md:text-base font-normal text-gray-300\":\"text-xs md:text-base font-normal text-blue-600\"},\"XXXX - \",card.last4),card.default?/*#__PURE__*/React.createElement(\"div\",{className:\"text-xs px-2 font-light rounded text-gray-400 bg-gray-800\"},/*#__PURE__*/React.createElement(\"span\",{className:\"default-card-label\"},\"Default\")):null,/*#__PURE__*/React.createElement(\"div\",{className:card.default?\"text-xs md:text-base font-normal text-gray-300\":\"text-xs md:text-base font-normal text-blue-600\"},card.exp_month,\"/\",card.exp_year.slice(-2)))),!card.default?/*#__PURE__*/React.createElement(\"div\",{className:\"w-2/12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"group inline-block h-16 p-4 my-5 rounded-lg\"},/*#__PURE__*/React.createElement(\"button\",{className:\"outline-none focus:outline-none border rounded-lg px-3 py-2 bg-white flex items-center shadow-xl\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-4 w-4 transform group-hover:-rotate-180 transition duration-150 ease-in-out\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"})))),/*#__PURE__*/React.createElement(\"ul\",{className:\"bg-white border rounded-sm transform scale-0 group-hover:scale-100 absolute  transition duration-150 ease-in-out origin-top dropdown-wrap\"},/*#__PURE__*/React.createElement(\"li\",{className:\"rounded-sm px-3 py-1 hover:bg-gray-200 cursor-pointer\",onClick:function onClick(){return makeDefaultCard(card===null||card===void 0?void 0:card.id);}},\"Make Default\"),/*#__PURE__*/React.createElement(\"li\",{className:\"rounded-sm px-3 py-1 hover:bg-gray-200 cursor-pointer\",onClick:function onClick(){return deleteCard(card.id);}},\"Delete\")))):null));}):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"w-full m-auto mb-6\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/img/check-files.svg\",alt:\"\",className:\"w-3/4 md:w-2/4 m-auto opacity-50\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"w-3/4 m-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-gray-700 font-medium text-center\"},\"Looks like you have no card on file. Please click on the add card button to add a new card.\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"w-11/12 mt-8 hidden md:block\"},/*#__PURE__*/React.createElement(\"hr\",{className:\"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\"})))),/*#__PURE__*/React.createElement(\"br\",null)));};export default withRouter(MyCards);","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/MyCards.tsx"],"names":["React","useState","useEffect","useCallback","withRouter","useAuthStore","useProfileStore","getCards","setDefaultCard","removeCard","MyCards","props","goToAddCard","history","push","token","state","accessToken","profile","data","isLoading","setLoading","responseData","setResponse","responseMessage","setResponseMessage","defaultCardResponseMessage","setDefaultCardResponseMessage","removeCardResponseMessage","setRemoveCardResponseMessage","location","message","incomingStateMessage","setIncomingStateMessage","errorMsg","setErrorMsg","updateErrors","errors","Object","values","flat","postCardOwner","email","e_mail","success","msg","setTimeout","response","status","addCardMessageTimeout","clearTimeout","postMakeDefaultCard","selectedDefaultCard","id","makeDefaultCard","postRemoveCard","deleteCard","cardIcon","type","length","listStyleType","map","error","i","card","key","default","card_type","trim","last4","exp_month","exp_year","slice"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { withRouter } from \"react-router\";\nimport useAuthStore from \"../stores/authStore\";\nimport useProfileStore from \"../stores/profileStore\";\nimport {getCards, setDefaultCard, removeCard} from \"../clients/cards\";\n\nconst MyCards = (props: any) => {\n\n    const goToAddCard = () => {\n        props.history.push(\"/cards/add\")\n    }\n\n    const token = useAuthStore((state) => state.accessToken);\n    const profile: any = useProfileStore(\n      useCallback((state) => state.data, [])\n    );\n    const [isLoading, setLoading] = useState(false);\n    const [responseData, setResponse]:any = useState();\n    const [responseMessage, setResponseMessage]:any = useState(null);\n    const [defaultCardResponseMessage, setDefaultCardResponseMessage]:any = useState(null);\n    const [removeCardResponseMessage, setRemoveCardResponseMessage]:any = useState(null);\n    const [incomingStateMessage, setIncomingStateMessage] = useState<string | null>(() => {\n      if (props.location.state && props.location.state.message) {\n        return props.location.state.message;\n      }\n      return null;\n    });\n\n    const [errorMsg, setErrorMsg] = useState([]);\n\n    const updateErrors = (errors: []) => {\n      setErrorMsg(Object.values(errors).flat());\n    };\n\n\n\n    const postCardOwner = useCallback(async () => {\n      let values = {\n          email: profile.e_mail\n      }\n      setLoading(true);\n      try {\n        // let postData = await getCards(token,values);\n        const { message, data, success } = await getCards(token,values);\n\n        if (success === false) {\n          let msg = [] as any;\n          msg.push(message);\n          setErrorMsg(msg);\n          setLoading(false);\n          return;\n        }\n        setResponseMessage(message);\n        setTimeout(function () {\n            setResponseMessage(null);\n          }, 3000);\n          //   const { data } = postData;\n        setResponse(data);\n        setErrorMsg([]);\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        if (error && !error.response) {\n          let msg = [] as any;\n          msg.push(\"Network Error, Check Your Internet Connection\");\n          setErrorMsg(msg);\n          return;\n        }\n        if (error && error.response.status === 500) {\n          let msg = [] as any;\n          msg.push(error.response.data.message);\n          setErrorMsg(msg);\n          return;\n        }\n        const {\n          response: { data },\n        } = error;\n        data.errors && updateErrors(data.errors);\n      }\n    }, [token, profile.e_mail]);\n\n    useEffect(() => {\n      if (profile && profile.e_mail) postCardOwner();\n\n      const addCardMessageTimeout = setTimeout(() => {\n        setIncomingStateMessage(null);\n      }, 8000);\n\n      return () => clearTimeout(addCardMessageTimeout);\n    }, [setIncomingStateMessage, profile]);\n\n\n    const postMakeDefaultCard = async (selectedDefaultCard) =>  {\n      let values = {\n        id: selectedDefaultCard\n      }\n      setLoading(true);\n      try {\n        // let postData = await getCards(token,values);\n        const { message, data, success } = await setDefaultCard(token,values);\n\n        if (success === false) {\n          let msg = [] as any;\n          msg.push(message);\n          setErrorMsg(msg);\n          setLoading(false);\n          return;\n        }\n        setDefaultCardResponseMessage(message);\n        setTimeout(function () {\n          setDefaultCardResponseMessage(null);\n            // props.history.push(\"/cards\");\n          }, 8000);\n          //   const { data } = postData;\n        postCardOwner()\n        setResponse(data);\n        setErrorMsg([]);\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        if (error && !error.response) {\n          let msg = [] as any;\n          msg.push(\"Network Error, Check Your Internet Connection\");\n          setErrorMsg(msg);\n          return;\n        }\n        if (error && error.response.status === 500) {\n          let msg = [] as any;\n          msg.push(error.response.data.message);\n          setErrorMsg(msg);\n          return;\n        }\n        const {\n          response: { data },\n        } = error;\n        data.errors && updateErrors(data.errors);\n      }\n    }\n\n    const makeDefaultCard = (id) => {\n      postMakeDefaultCard(id);\n    }\n\n\n    const postRemoveCard = async (selectedDefaultCard) =>  {\n      let values = {\n        id: selectedDefaultCard\n      }\n      setLoading(true);\n      try {\n        // let postData = await getCards(token,values);\n        const { message, data, success } = await removeCard(token,values);\n\n        if (success === false) {\n          let msg = [] as any;\n          msg.push(message);\n          setErrorMsg(msg);\n          setLoading(false);\n          return;\n        }\n        setRemoveCardResponseMessage(message);\n        setTimeout(function () {\n          setRemoveCardResponseMessage(null);\n            // props.history.push(\"/cards\");\n          }, 8000);\n          //   const { data } = postData;\n        postCardOwner()\n        setResponse(data);\n        setErrorMsg([]);\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        if (error && !error.response) {\n          let msg = [] as any;\n          msg.push(\"Network Error, Check Your Internet Connection\");\n          setErrorMsg(msg);\n          return;\n        }\n        if (error && error.response.status === 500) {\n          let msg = [] as any;\n          msg.push(error.response.data.message);\n          setErrorMsg(msg);\n          return;\n        }\n        const {\n          response: { data },\n        } = error;\n        data.errors && updateErrors(data.errors);\n      }\n    }\n\n    const deleteCard = (id) => {\n      postRemoveCard(id);\n    }\n\n    const cardIcon = (type) => {\n        switch(type) {\n            case \"mastercard\":\n                return \"/img/mastercard.png\";\n            case \"visa\":\n                return \"/img/visa.png\";\n            default:\n                return \"/img/credit-card.png\";\n\n        }\n\n    }\n\n  if (isLoading || !profile.e_mail) {\n      return (\n          <>\n          <div className=\"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative mt-20\">\n              <img\n              src=\"/img/loading-gif.gif\"\n              alt=\"\"\n              className=\"w-1/8 m-auto py-10\"\n              />\n              <h6 className=\"m-auto text-lg text-gray-700 text-center\">Please wait while we load your cards...</h6>\n          </div>\n          </>\n      );\n  }\n\n  return (\n    <>\n      <main className=\"md:pl-12\">\n        <div className=\"flex \">\n          <div className=\"w-full \">\n            <div className=\"flex items-center mt-10 lg:mt-0\">\n              <div className=\"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\"></div>\n              <h4 className=\"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\">\n                My Cards\n              </h4>\n            </div>\n            <br />\n\n            <div className=\"w-11/12 bg-white flex rounded py-6 md:py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0\">\n              <div className=\"hidden md:block w-5/12 mb-6 border-r-2 border-gray-300 px-4\">\n                <img\n                  src=\"/img/add-card-bg.svg\"\n                  alt=\"\"\n                  className=\"w-9/12 m-auto pt-32 pb-4 fade-in\"\n                />\n              </div>\n              <div className=\"md:w-7/12 w-full mb-6 md:px-12 px-6 md:py-6 py-3 relative\">\n              {errorMsg.length ? (\n                <div\n                  className=\"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\"\n                  role=\"alert\"\n                >\n                  <div className=\"flex\">\n                    <div className=\"py-1\">\n                      <svg\n                        className=\"fill-current h-6 w-6 text-red-500 mr-4\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 20 20\"\n                      >\n                        <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                      </svg>\n                    </div>\n                    <div>\n                      <ul style={{ listStyleType: \"none\" }}>\n                        {errorMsg.map((error, i) => (\n                          <li key={i}>{error}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              ) : (\n                \"\"\n              )}\n              {incomingStateMessage && incomingStateMessage.length > 0? \n                (\n                  <div\n                    className=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in mb-5\"\n                    role=\"alert\"\n                  >\n                    <div className=\"flex\">\n                      <div className=\"py-1\">\n                        <svg\n                          className=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          viewBox=\"0 0 20 20\"\n                        >\n                          <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                        </svg>\n                      </div>\n                      <div>\n                        <p className=\"text-sm\">{incomingStateMessage}</p>\n                      </div>\n                    </div>\n                  </div>\n                )\n                :\n                null\n              }\n              {\n              (defaultCardResponseMessage && defaultCardResponseMessage?.length > 0)? (\n                <div\n                  className=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\"\n                  role=\"alert\"\n                >\n                  <div className=\"flex\">\n                    <div className=\"py-1\">\n                      <svg\n                        className=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 20 20\"\n                      >\n                        <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                      </svg>\n                    </div>\n                    <div>\n                      <p className=\"text-sm\">{defaultCardResponseMessage}</p>\n                    </div>\n                  </div>\n                </div>\n              ) \n              :\n              (removeCardResponseMessage && removeCardResponseMessage?.length > 0)? (\n                <div\n                  className=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\"\n                  role=\"alert\"\n                >\n                  <div className=\"flex\">\n                    <div className=\"py-1\">\n                      <svg\n                        className=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 20 20\"\n                      >\n                        <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                      </svg>\n                    </div>\n                    <div>\n                      <p className=\"text-sm\">{removeCardResponseMessage}</p>\n                    </div>\n                  </div>\n                </div>\n              ) \n              :\n              (responseMessage && responseData?.length > 0)? \n              (\n                  <div\n                    className=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\"\n                    role=\"alert\"\n                  >\n                    <div className=\"flex\">\n                      <div className=\"py-1\">\n                        <svg\n                          className=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          viewBox=\"0 0 20 20\"\n                        >\n                          <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                        </svg>\n                      </div>\n                      <div>\n                        <p className=\"text-sm\">{responseMessage}</p>\n                      </div>\n                    </div>\n                  </div>\n                ) \n                : null\n                }\n                <>\n                  <div className=\"flex justify-end items-center h-16 my-2 md:my-6\">\n                    <button className=\"flex bg-blue-200 hover:bg-blue-300 items-center py-2 px-4 rounded-lg transition-colors duration-150 ease-in-out cursor-pointer\" onClick={goToAddCard}>\n                      <div>\n                        <svg\n                            width=\"24\"\n                            height=\"25\"\n                            viewBox=\"0 0 24 25\"\n                            fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                        >\n                            <g id=\"add_24px\">\n                            <path\n                                id=\"icon/content/add_24px\"\n                                d=\"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z\"\n                                fill=\"#0A54A2\"\n                            />\n                            </g>\n                        </svg>\n                      </div>\n                      <div className=\"ml-2 text-blue-700 text-md\">\n                        Add Card\n                      </div>\n                    </button>\n                  </div>\n                  {responseData?.length > 0?\n                    <h1 className=\"block text-blue-800 text-lg font-bold mb-6 fade-in\">\n                      Your available cards:\n                    </h1>\n                    : null\n                  }\n\n                  {responseData?.length > 0 ? \n\n                    responseData && responseData.map((card, key) => (\n                      <div className=\"\" key={key}>\n                        <div className=\"w-full flex\">\n                          <div className={card.default ? \"w-full m-auto\" : \"w-10/12 m-auto\"}>\n                            <div className={card.default ? \"flex justify-between items-center h-16 p-4 my-5 rounded-lg shadow-xl default-card\" : \"flex justify-between items-center h-16 p-4 my-5  rounded-lg border border-blue-300 shadow-xl\"}>\n                              <div>\n                                <img\n                                  className=\"h-6 md:h-8 w-6 md:w-8\"\n                                  src={cardIcon(card.card_type.trim())}\n                                  alt=\"icon\"\n                                />\n                              </div>\n                              <div className={card.default? \"text-xs md:text-base font-normal text-gray-300\" :\"text-xs md:text-base font-normal text-blue-600\"}>\n                                XXXX - {card.last4}\n                              </div>\n                              {card.default ?\n                                <div className=\"text-xs px-2 font-light rounded text-gray-400 bg-gray-800\">\n                                  <span className=\"default-card-label\">Default</span>\n                                </div>\n                                : null \n                              }\n                              <div className={card.default? \"text-xs md:text-base font-normal text-gray-300\" : \"text-xs md:text-base font-normal text-blue-600\"}>\n                                {card.exp_month}/{card.exp_year.slice(-2)}\n                              </div>\n                            </div>\n                          </div>\n                          {!card.default?\n                            <div className=\"w-2/12\">\n                              <div className=\"group inline-block h-16 p-4 my-5 rounded-lg\">\n                                <button className=\"outline-none focus:outline-none border rounded-lg px-3 py-2 bg-white flex items-center shadow-xl\">\n                                  <span>\n                                    <svg\n                                      className=\"fill-current h-4 w-4 transform group-hover:-rotate-180\n                                              transition duration-150 ease-in-out\"\n                                      xmlns=\"http://www.w3.org/2000/svg\"\n                                      viewBox=\"0 0 20 20\"\n                                    >\n                                      <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n                                    </svg>\n                                  </span>\n                                </button>\n                                <ul\n                                  className=\"bg-white border rounded-sm transform scale-0 group-hover:scale-100 absolute \n                                          transition duration-150 ease-in-out origin-top dropdown-wrap\"\n                                >\n                                  <li className=\"rounded-sm px-3 py-1 hover:bg-gray-200 cursor-pointer\" onClick={() => makeDefaultCard(card?.id)}>\n                                    Make Default\n                                  </li>\n                                  <li className=\"rounded-sm px-3 py-1 hover:bg-gray-200 cursor-pointer\" onClick={()=> deleteCard(card.id)}>\n                                    Delete\n                                  </li>\n                                </ul>\n                              </div>\n                            </div>\n                             :\n                            null\n                          } \n                        </div>\n                      </div>\n                    ))\n                    : (\n                      <>\n                        <div className=\"w-full m-auto mb-6\">\n                          <img\n                            src=\"/img/check-files.svg\"\n                            alt=\"\"\n                            className=\"w-3/4 md:w-2/4 m-auto opacity-50\"\n                          />\n                        </div>\n                        <div className=\"w-3/4 m-auto\">\n                          <p className=\"text-gray-700 font-medium text-center\">\n                            Looks like you have no card on file. Please click on the add card button to add a new card.\n                          </p>\n                        </div>\n                      </>\n                    )\n                  }\n                </>\n              </div>\n            </div>\n            <div className=\"w-11/12 mt-8 hidden md:block\">\n              <hr className=\"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\"></hr>\n            </div>\n          </div>\n        </div>\n        <br />\n      </main>\n    </>\n  );\n};\n\nexport default withRouter(MyCards);\n"]},"metadata":{},"sourceType":"module"}