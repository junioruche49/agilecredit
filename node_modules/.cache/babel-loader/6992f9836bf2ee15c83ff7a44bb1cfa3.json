{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/react app/agilecreditportal/src/pages/LoanRequests.tsx\";\nimport React from \"react\";\nimport { withRouter } from \"react-router\";\nimport { getLoanApplications } from \"../clients/loan\";\nimport { getProducts } from \"../clients/products\";\nimport { useQuery } from \"react-query\";\nimport useAuthStore from \"../stores/authStore\";\n\nconst LoanRequests = () => {\n  var _data$data;\n\n  const token = useAuthStore(state => state.accessToken);\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery(\"applications\", () => getLoanApplications(token));\n  const {\n    isLoading: isProductLoading,\n    error: productError,\n    data: productData\n  } = useQuery(\"products\", () => getProducts(token));\n\n  const getProductName = productNo => {\n    let products = productData === null || productData === void 0 ? void 0 : productData.data;\n\n    if (!products) {\n      return;\n    }\n\n    let currentProduct = products.find(prod => prod.no === productNo);\n    return currentProduct.description;\n  };\n\n  const statusClass = status => {\n    switch (status) {\n      case \"Pending\":\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative inline-block px-3 py-1 font-semibold text-orange-900 leading-tight\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          \"aria-hidden\": true,\n          className: \"absolute inset-0 bg-orange-200 opacity-50 rounded-full\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }\n        }, status));\n\n      case \"Rejected\":\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative inline-block px-3 py-1 font-semibold text-red-900 leading-tight\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          \"aria-hidden\": true,\n          className: \"absolute inset-0 bg-red-200 opacity-50 rounded-full\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }\n        }, status));\n\n      default:\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          \"aria-hidden\": true,\n          className: \"absolute inset-0 bg-green-200 opacity-50 rounded-full\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"relative\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }\n        }, status));\n    }\n  };\n\n  if (isLoading || isProductLoading) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-full m-auto px-8 relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/img/loading-gif.gif\",\n      alt: \"\",\n      className: \"w-1/8 m-auto py-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"md:pl-12 set-bg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center mt-10 lg:mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"My Applications\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full md:w-11/12 bg-none md:bg-white flex rounded py-0 md:py-4 shadow-none md:shadow-lg md:border-b-4 md:border-t-8 md:border-blue-600 mb-0 md:mb-20 m-auto md:m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full mb-6 px-8 py-6 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"block text-blue-800 text-lg font-bold mb-6 fade-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, \"Recent loan applications:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 md:py-4 overflow-auto  fade-in mt-5 mb-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inline-block min-w-full shadow rounded-lg overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"min-w-full w-full leading-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 49\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 49\n    }\n  }, \"Loan Type\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 49\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 49\n    }\n  }, \"Duration\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 49\n    }\n  }, \"Status\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    className: \"flex flex-col items-center overflow-y-scroll w-full schedule-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 41\n    }\n  }, (data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.length) > 0 ? data && data.data.map(d => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 57\n    }\n  }, new Date(d.created_at).toDateString()), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 57\n    }\n  }, getProductName(d.product_code)), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 57\n    }\n  }, \"\\u20A6\", Number(d.loan_amount).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 57\n    }\n  }, d.number_of_payments, \" months\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 57\n    }\n  }, statusClass(d.status))))) : null)))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 mt-8 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default withRouter(LoanRequests);","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/LoanRequests.tsx"],"names":["React","withRouter","getLoanApplications","getProducts","useQuery","useAuthStore","LoanRequests","token","state","accessToken","isLoading","error","data","isProductLoading","productError","productData","getProductName","productNo","products","currentProduct","find","prod","no","description","statusClass","status","length","map","d","Date","created_at","toDateString","product_code","Number","loan_amount","toLocaleString","undefined","maximumFractionDigits","number_of_payments"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router\";\nimport {getLoanApplications} from \"../clients/loan\";\nimport { getProducts } from \"../clients/products\";\nimport { useQuery } from \"react-query\";\nimport useAuthStore from \"../stores/authStore\";\n\n\nconst LoanRequests = () =>{\n    \n    \n    const token = useAuthStore((state) => state.accessToken);\n\n    const { isLoading, error, data } = useQuery(\"applications\", () =>\n        getLoanApplications(token)\n    );\n\n    const { isLoading : isProductLoading, error: productError, data: productData } = useQuery(\"products\", () =>\n        getProducts(token)\n    );\n\n    const getProductName = (productNo) =>{\n        let products: any[] | null = productData?.data;\n\n        if (!products) {\n            return;\n        }\n        let currentProduct = products.find((prod) => prod.no === productNo);\n\n        return currentProduct.description;\n\n    }\n\n    const statusClass = (status) => {\n        switch(status) {\n            case \"Pending\":\n                return (\n                    <span className=\"relative inline-block px-3 py-1 font-semibold text-orange-900 leading-tight\">\n                        <span aria-hidden className=\"absolute inset-0 bg-orange-200 opacity-50 rounded-full\"></span>\n                        <span className=\"relative\">{status}</span>\n                    </span>\n                );\n            case \"Rejected\":\n                return (\n                    <span className=\"relative inline-block px-3 py-1 font-semibold text-red-900 leading-tight\">\n                        <span aria-hidden className=\"absolute inset-0 bg-red-200 opacity-50 rounded-full\"></span>\n                        <span className=\"relative\">{status}</span>\n                    </span>\n                );\n            default:\n                return (\n                    <span className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\">\n                        <span aria-hidden className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\"></span>\n                        <span className=\"relative\">{status}</span>\n                    </span>\n                );\n\n        }\n\n    }\n\n    if (isLoading || isProductLoading) {\n        return (\n        <>\n            <div className=\"w-full m-auto px-8 relative\">\n            <img\n                src=\"/img/loading-gif.gif\"\n                alt=\"\"\n                className=\"w-1/8 m-auto py-20\"\n            />\n            </div>\n        </>\n        );\n    }\n\n    return (\n        <>\n        <main className=\"md:pl-12 set-bg\">\n            <div className=\"flex \">\n                <div className=\"w-full \">\n                    <div className=\"flex items-center mt-10 lg:mt-0\">\n                        <div className=\"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\"></div>\n                        <h4 className=\"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\">\n                            My Applications\n                        </h4>\n                    </div>\n                    <br />\n                    \n                    <div className=\"w-full md:w-11/12 bg-none md:bg-white flex rounded py-0 md:py-4 shadow-none md:shadow-lg md:border-b-4 md:border-t-8 md:border-blue-600 mb-0 md:mb-20 m-auto md:m-0\">\n                        <div className=\"w-full mb-6 px-8 py-6 relative\">\n                            <h1 className=\"block text-blue-800 text-lg font-bold mb-6 fade-in\">\n                                Recent loan applications:\n                            </h1>\n                            <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 md:py-4 overflow-auto  fade-in mt-5 mb-10\">\n                                <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\n                                    <table className=\"min-w-full w-full leading-normal\">\n                                        <thead className=\"flex w-full\">\n                                            <tr className=\"flex w-full\">\n                                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">Date</th>\n                                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">Loan Type</th>\n                                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">Amount</th>\n                                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">Duration</th>\n                                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">Status</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody className=\"flex flex-col items-center overflow-y-scroll w-full schedule-table\">\n                                        {data?.data?.length > 0\n                                            ?\n                                            data && data.data.map((d) => (\n                                                <>\n                                                    <tr className=\"flex w-full\">\n                                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700\">{ new Date(d.created_at).toDateString()}</td>\n                                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700\">{getProductName(d.product_code)}</td>\n                                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center\">₦{Number(d.loan_amount).toLocaleString(undefined, {maximumFractionDigits: 2})}</td>\n                                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700 text-center\">{d.number_of_payments} months</td>\n                                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center\">{statusClass(d.status)}</td>\n                                                    </tr>\n                                                </>\n                                            ))\n                                            :\n                                            null\n                                        }\n\n                                        </tbody>\n                                    </table>  \n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                    <div className=\"w-11/12 mt-8 hidden md:block\">\n                        <hr className=\"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\"></hr>\n                    </div>\n                </div>\n            </div>\n            <br />\n        </main>\n        </>\n    )\n}\n\nexport default withRouter(LoanRequests);"]},"metadata":{},"sourceType":"module"}