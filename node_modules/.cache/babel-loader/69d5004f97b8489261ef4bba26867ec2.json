{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/react app/agilecreditportal/src/pages/Home.tsx\";\nimport React, { useMemo } from \"react\";\nimport { useQuery } from \"react-query\";\nimport useAuthStore from \"../stores/authStore\";\nimport { getTotalLoanAmount, getTotalOutstandingBalance, getNextLoanDueDate, getRecentLoanAmountTable, getRecentRepaymentsTable } from \"../clients/reports\";\nimport DoughnutChart from \"../components/Dashboard/DoughnutChart\";\nimport { withRouter } from \"react-router-dom\";\nimport RepaymentsGraph from \"../components/Dashboard/RepaymentsGraph\";\n\nconst getMonth = dateString => {\n  const monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\n  return monthNames[new Date(dateString).getMonth()];\n};\n\nfunction Home(props) {\n  var _lastTenPayments;\n\n  const token = useAuthStore(state => state.accessToken);\n  const user = useAuthStore(state => state.currentUser);\n  const {\n    isLoading: isTotalLoanAmountLoading,\n    error: totalLoanAmountError,\n    data: totalLoanAmountData\n  } = useQuery(\"totalLoanAMount\", () => getTotalLoanAmount(token), {\n    retry: 1\n  });\n  const {\n    isLoading: isTotalOutstandingBalanceLoading,\n    error: totalOutstandingBalanceError,\n    data: totalOutstandingBalanceData\n  } = useQuery(\"totalOutstandingBalance\", () => getTotalOutstandingBalance(token), {\n    retry: 1\n  });\n  const {\n    isLoading: isNextLoanDueDateLoading,\n    error: nextLoanDueDateError,\n    data: nextLoanDueDateBalanceData\n  } = useQuery(\"nextLoanDueDate\", () => getNextLoanDueDate(token), {\n    retry: 1\n  });\n  const {\n    isLoading: isRecentLoanAmountTableLoading,\n    error: recentLoanAmountTableError,\n    data: recentLoanAmountTableData\n  } = useQuery(\"recentLoanAmountTable\", () => getRecentLoanAmountTable(token), {\n    retry: 1\n  });\n  const {\n    isLoading: isRecentRepaymentsTableLoading,\n    error: recentRepaymentsTableError,\n    data: recentRepaymentsTableData\n  } = useQuery(\"recentRepaymentsTable\", () => getRecentRepaymentsTable(token), {\n    retry: 1\n  });\n  const doughnutChartData = useMemo(() => {\n    if (!recentLoanAmountTableData) {\n      return {\n        labels: [],\n        values: []\n      };\n    }\n\n    let labels = Object.keys(recentLoanAmountTableData === null || recentLoanAmountTableData === void 0 ? void 0 : recentLoanAmountTableData.data).map(label => {\n      return new Date(label).toDateString();\n    });\n    return {\n      labels: labels,\n      values: Object.values(recentLoanAmountTableData === null || recentLoanAmountTableData === void 0 ? void 0 : recentLoanAmountTableData.data)\n    };\n  }, [recentLoanAmountTableData]);\n  const repaymentGraphData = useMemo(() => {\n    if (!recentRepaymentsTableData) {\n      return {\n        labels: [],\n        values: []\n      };\n    }\n\n    const rawRepaymentsData = recentRepaymentsTableData === null || recentRepaymentsTableData === void 0 ? void 0 : recentRepaymentsTableData.data.map(data => {\n      return { ...data,\n        created_at: getMonth(data === null || data === void 0 ? void 0 : data.created_at)\n      };\n    });\n    const labels = rawRepaymentsData.map(data => {\n      return data.created_at;\n    }).filter((data, index, arr) => {\n      return arr.indexOf(data) === index;\n    });\n    const values = labels.map(label => {\n      let data = rawRepaymentsData.filter(data => {\n        return data.created_at === label;\n      });\n      const value = data.reduce((acc, curr) => {\n        return acc + Number(curr.amount);\n      }, 0);\n      return value;\n    });\n    return {\n      labels,\n      values\n    };\n  }, [recentRepaymentsTableData]);\n  let myPayments = [];\n  let lastTenPayments = [];\n\n  if (recentRepaymentsTableData) {\n    myPayments = recentRepaymentsTableData.data;\n    lastTenPayments = myPayments.slice(0, 10);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lg:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    className: \"lg:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full text-center mb-10 lg:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-green-500 font-semibold lg:hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, \"Hello, \", user && user.firstName, \"!\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pl-10 mobile-dashboard-stats\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex overflow-x-auto mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, isTotalLoanAmountLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-64 bg-white flex-none  rounded p-4 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex animate-pulse items-center justify-between mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200  w-8 h-8 rounded-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200 w-2/3 h-2 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animate-pulse bg-blue-200 w-full h-2 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-64 bg-white flex-none border rounded p-4 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-start mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"img/loan-amount-icon.svg\",\n    className: \"w-8\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-normal text-blue-600 ml-6 text-sm font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 19\n    }\n  }, \"Loans Received\")), Number(totalLoanAmountData === null || totalLoanAmountData === void 0 ? void 0 : totalLoanAmountData.data) > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-xl text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, \"\\u20A6\", Number(totalLoanAmountData === null || totalLoanAmountData === void 0 ? void 0 : totalLoanAmountData.data).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  }))) : /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-xl text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  }, \"\\u20A60.00\")), isTotalOutstandingBalanceLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-64 bg-white flex-none  rounded p-4 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex animate-pulse items-center justify-between mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200  w-8 h-8 rounded-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200 w-2/3 h-2 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animate-pulse bg-blue-200 w-full h-2 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-64 bg-white border-green-500 flex-none border rounded p-4 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-start mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"img/repayment-icon.svg\",\n    className: \"w-8\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-normal text-green-600 ml-6 text-sm font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 19\n    }\n  }, \"Total Outstanding\")), Number(totalOutstandingBalanceData === null || totalOutstandingBalanceData === void 0 ? void 0 : totalOutstandingBalanceData.data) > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-xl text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 21\n    }\n  }, \"\\u20A6\", Number(totalOutstandingBalanceData === null || totalOutstandingBalanceData === void 0 ? void 0 : totalOutstandingBalanceData.data).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  }))) : /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-xl text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }, \"\\u20A60.00\")), isNextLoanDueDateLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-64 bg-white flex-none  rounded p-4 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex animate-pulse items-center justify-between mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200  w-8 h-8 rounded-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200 w-2/3 h-2 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animate-pulse bg-blue-200 w-full h-2 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-64 bg-white flex-none border rounded p-4 shadow-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-start mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"img/next-repayment-icon.svg\",\n    className: \"w-8\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-normal text-purple-600 ml-6 text-sm font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 19\n    }\n  }, \"Next Repayment Date\")), (nextLoanDueDateBalanceData === null || nextLoanDueDateBalanceData === void 0 ? void 0 : nextLoanDueDateBalanceData.data) ? /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-xl text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, \" \", new Date(nextLoanDueDateBalanceData === null || nextLoanDueDateBalanceData === void 0 ? void 0 : nextLoanDueDateBalanceData.data).toLocaleDateString(), \" \") : /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-xl text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 19\n    }\n  }, \"--\")))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-56 bg-blue-700 p-2 pr-10 rounded-tr-md rounded-br-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-right text-white font-normal text-xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, \"Your Recent Payments\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 9\n    }\n  }, isRecentRepaymentsTableLoading || recentRepaymentsTableData === null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sm:w-8/12 flex-none  rounded pt-6 p-8 m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animate-pulse flex space-x-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-1 space-y-6 py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded w-3/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"space-y-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 21\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table-fixed sm:w-8/12  m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"bg-blue-200 border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"w-1/6 px-4 py-3 text-xs font-semibold text-blue-700 rounded-bl-md rounded-tl-md text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 19\n    }\n  }, \"S/N\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"w-1/4 px-4 py-3 text-xs font-semibold text-blue-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 19\n    }\n  }, \"Amount\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"w-1/3 px-4 py-3 text-xs font-semibold text-blue-700 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 19\n    }\n  }, \"Date\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }, (_lastTenPayments = lastTenPayments) === null || _lastTenPayments === void 0 ? void 0 : _lastTenPayments.map((d, i) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"w-1/6 border-b px-4 py-3 text-xs text-gray-600 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 23\n      }\n    }, i + 1, \".\"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"w-1/6 border-b px-4 py-3 text-xs text-green-700 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 23\n      }\n    }, \"\\u20A6\", Number(d.amount).toLocaleString(undefined, {\n      maximumFractionDigits: 2\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"w-1/3 border-b px-4 py-3 text-xs text-gray-600 text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 23\n      }\n    }, new Date(d.created_at).toLocaleDateString()));\n  })))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"hidden lg:block lg:pl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 11\n    }\n  }, isTotalLoanAmountLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex animate-pulse items-center justify-between mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200  w-12 h-12 rounded-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200 w-2/3 h-4 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animate-pulse bg-blue-200 w-full h-4 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-start mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"img/loan-amount-icon.svg\",\n    className: \"w-10\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-normal text-blue-600 ml-6 text-base font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 19\n    }\n  }, \"Loans Received\")), Number(totalLoanAmountData === null || totalLoanAmountData === void 0 ? void 0 : totalLoanAmountData.data) > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-2xl text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 21\n    }\n  }, \"\\u20A6\", Number(totalLoanAmountData === null || totalLoanAmountData === void 0 ? void 0 : totalLoanAmountData.data).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  }))) : /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-2xl text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 19\n    }\n  }, \"\\u20A60.00\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 11\n    }\n  }, isTotalOutstandingBalanceLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex animate-pulse items-center justify-between mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200  w-12 h-12 rounded-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200 w-2/3 h-4 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animate-pulse bg-blue-200 w-full h-4 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-10/12 bg-white border border-green-500 flex-none  rounded pt-6 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-start mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"img/repayment-icon.svg\",\n    className: \"w-10\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-normal text-green-600 ml-6 text-base font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 19\n    }\n  }, \"Total Outstanding\")), Number(totalOutstandingBalanceData === null || totalOutstandingBalanceData === void 0 ? void 0 : totalOutstandingBalanceData.data) > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-2xl text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 21\n    }\n  }, \"\\u20A6\", Number(totalOutstandingBalanceData === null || totalOutstandingBalanceData === void 0 ? void 0 : totalOutstandingBalanceData.data).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  }))) : /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-2xl text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 19\n    }\n  }, \"\\u20A60.00\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 11\n    }\n  }, isNextLoanDueDateLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex animate-pulse items-center justify-between mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200  w-12 h-12 rounded-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-blue-200 w-2/3 h-4 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animate-pulse bg-blue-200 w-full h-4 rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-start mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"img/next-repayment-icon.svg\",\n    className: \"w-10\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-normal text-purple-500 ml-6 text-base font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 19\n    }\n  }, \"Next Repayment Date\")), (nextLoanDueDateBalanceData === null || nextLoanDueDateBalanceData === void 0 ? void 0 : nextLoanDueDateBalanceData.data) ? /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-2xl text-gray-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 19\n    }\n  }, \" \", new Date(nextLoanDueDateBalanceData === null || nextLoanDueDateBalanceData === void 0 ? void 0 : nextLoanDueDateBalanceData.data).toLocaleDateString(), \" \") : /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"font-bold text-2xl text-gray-300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 19\n    }\n  }, \"--\")))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-8/12 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-8 h-1 bg-blue-700 rounded mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-gray-700 font-semibold text-xl tracking-wide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 15\n    }\n  }, \"Repayment Trend\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 13\n    }\n  }), isRecentRepaymentsTableLoading || recentRepaymentsTableData === null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animate-pulse flex space-x-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-1 space-y-6 py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded w-3/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"space-y-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 23\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 bg-white flex-none  rounded pt-6 p-8 shadow-lg \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(RepaymentsGraph, {\n    data: repaymentGraphData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-10/12 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-8 h-1 bg-blue-700 rounded mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-gray-700 font-semibold text-xl tracking-wide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 17\n    }\n  }, \"Recent Loans\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full bg-white flex-none  rounded pt-6 p-8 shadow-lg mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 15\n    }\n  }, isRecentLoanAmountTableLoading || recentLoanAmountTableData === null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"animate-pulse flex space-x-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-1 space-y-6 py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded w-3/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"space-y-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"h-4 bg-blue-200 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 25\n    }\n  })))) : /*#__PURE__*/React.createElement(DoughnutChart, {\n    data: doughnutChartData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"flex w-full shadow-xl text-xl font-light text-white justify-center pt-3 pb-3 items-center bg-blue-700 hover:bg-blue-600 rounded-md transition-colors duration-150 ease-in-out\",\n    onClick: () => props.history.push(\"/loans\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ml-4 text-sm xl:text-lg lg:text-sm pr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 17\n    }\n  }, \"See loan history\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"img/chevron-right.svg\",\n    className: \"w-5 pt-1\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default withRouter(Home);","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/Home.tsx"],"names":["React","useMemo","useQuery","useAuthStore","getTotalLoanAmount","getTotalOutstandingBalance","getNextLoanDueDate","getRecentLoanAmountTable","getRecentRepaymentsTable","DoughnutChart","withRouter","RepaymentsGraph","getMonth","dateString","monthNames","Date","Home","props","token","state","accessToken","user","currentUser","isLoading","isTotalLoanAmountLoading","error","totalLoanAmountError","data","totalLoanAmountData","retry","isTotalOutstandingBalanceLoading","totalOutstandingBalanceError","totalOutstandingBalanceData","isNextLoanDueDateLoading","nextLoanDueDateError","nextLoanDueDateBalanceData","isRecentLoanAmountTableLoading","recentLoanAmountTableError","recentLoanAmountTableData","isRecentRepaymentsTableLoading","recentRepaymentsTableError","recentRepaymentsTableData","doughnutChartData","labels","values","Object","keys","map","label","toDateString","repaymentGraphData","rawRepaymentsData","created_at","filter","index","arr","indexOf","value","reduce","acc","curr","Number","amount","myPayments","lastTenPayments","slice","firstName","toLocaleString","undefined","maximumFractionDigits","toLocaleDateString","d","i","history","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,SACEC,kBADF,EAEEC,0BAFF,EAGEC,kBAHF,EAIEC,wBAJF,EAKEC,wBALF,QAMO,oBANP;AAOA,OAAOC,aAAP,MAA0B,uCAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,eAAP,MAA4B,yCAA5B;;AAEA,MAAMC,QAAQ,GAAIC,UAAD,IAAgB;AAC/B,QAAMC,UAAU,GAAG,CACjB,KADiB,EAEjB,KAFiB,EAGjB,KAHiB,EAIjB,KAJiB,EAKjB,KALiB,EAMjB,MANiB,EAOjB,MAPiB,EAQjB,KARiB,EASjB,MATiB,EAUjB,KAViB,EAWjB,KAXiB,EAYjB,KAZiB,CAAnB;AAeA,SAAOA,UAAU,CAAC,IAAIC,IAAJ,CAASF,UAAT,EAAqBD,QAArB,EAAD,CAAjB;AACD,CAjBD;;AAmBA,SAASI,IAAT,CAAcC,KAAd,EAA0B;AAAA;;AACxB,QAAMC,KAAK,GAAGf,YAAY,CAAEgB,KAAD,IAAWA,KAAK,CAACC,WAAlB,CAA1B;AACA,QAAMC,IAAS,GAAGlB,YAAY,CAAEgB,KAAD,IAAWA,KAAK,CAACG,WAAlB,CAA9B;AAEA,QAAM;AACJC,IAAAA,SAAS,EAAEC,wBADP;AAEJC,IAAAA,KAAK,EAAEC,oBAFH;AAGJC,IAAAA,IAAI,EAAEC;AAHF,MAIF1B,QAAQ,CAAC,iBAAD,EAAoB,MAAME,kBAAkB,CAACc,KAAD,CAA5C,EAAqD;AAC/DW,IAAAA,KAAK,EAAE;AADwD,GAArD,CAJZ;AAQA,QAAM;AACJN,IAAAA,SAAS,EAAEO,gCADP;AAEJL,IAAAA,KAAK,EAAEM,4BAFH;AAGJJ,IAAAA,IAAI,EAAEK;AAHF,MAIF9B,QAAQ,CAAC,yBAAD,EAA4B,MACtCG,0BAA0B,CAACa,KAAD,CADhB,EACyB;AACjCW,IAAAA,KAAK,EAAE;AAD0B,GADzB,CAJZ;AAUA,QAAM;AACJN,IAAAA,SAAS,EAAEU,wBADP;AAEJR,IAAAA,KAAK,EAAES,oBAFH;AAGJP,IAAAA,IAAI,EAAEQ;AAHF,MAIFjC,QAAQ,CAAC,iBAAD,EAAoB,MAAMI,kBAAkB,CAACY,KAAD,CAA5C,EAAqD;AAC/DW,IAAAA,KAAK,EAAE;AADwD,GAArD,CAJZ;AAQA,QAAM;AACJN,IAAAA,SAAS,EAAEa,8BADP;AAEJX,IAAAA,KAAK,EAAEY,0BAFH;AAGJV,IAAAA,IAAI,EAAEW;AAHF,MAIFpC,QAAQ,CAAC,uBAAD,EAA0B,MAAMK,wBAAwB,CAACW,KAAD,CAAxD,EAAiE;AAC3EW,IAAAA,KAAK,EAAE;AADoE,GAAjE,CAJZ;AAQA,QAAM;AACJN,IAAAA,SAAS,EAAEgB,8BADP;AAEJd,IAAAA,KAAK,EAAEe,0BAFH;AAGJb,IAAAA,IAAI,EAAEc;AAHF,MAIFvC,QAAQ,CAAC,uBAAD,EAA0B,MAAMM,wBAAwB,CAACU,KAAD,CAAxD,EAAiE;AAC3EW,IAAAA,KAAK,EAAE;AADoE,GAAjE,CAJZ;AAQA,QAAMa,iBAAiB,GAAGzC,OAAO,CAAC,MAAM;AACtC,QAAI,CAACqC,yBAAL,EAAgC;AAC9B,aAAO;AAAEK,QAAAA,MAAM,EAAE,EAAV;AAAcC,QAAAA,MAAM,EAAE;AAAtB,OAAP;AACD;;AACD,QAAID,MAAM,GAAGE,MAAM,CAACC,IAAP,CAAYR,yBAAZ,aAAYA,yBAAZ,uBAAYA,yBAAyB,CAAEX,IAAvC,EAA6CoB,GAA7C,CAAkDC,KAAD,IAAW;AACvE,aAAO,IAAIjC,IAAJ,CAASiC,KAAT,EAAgBC,YAAhB,EAAP;AACD,KAFY,CAAb;AAGA,WAAO;AACLN,MAAAA,MAAM,EAAEA,MADH;AAELC,MAAAA,MAAM,EAAEC,MAAM,CAACD,MAAP,CAAcN,yBAAd,aAAcA,yBAAd,uBAAcA,yBAAyB,CAAEX,IAAzC;AAFH,KAAP;AAID,GAXgC,EAW9B,CAACW,yBAAD,CAX8B,CAAjC;AAaA,QAAMY,kBAAkB,GAAGjD,OAAO,CAAC,MAAM;AACvC,QAAI,CAACwC,yBAAL,EAAgC;AAC9B,aAAO;AAAEE,QAAAA,MAAM,EAAE,EAAV;AAAcC,QAAAA,MAAM,EAAE;AAAtB,OAAP;AACD;;AACD,UAAMO,iBAAiB,GAAGV,yBAAH,aAAGA,yBAAH,uBAAGA,yBAAyB,CAAEd,IAA3B,CAAgCoB,GAAhC,CAAqCpB,IAAD,IAAU;AACtE,aAAO,EACL,GAAGA,IADE;AAELyB,QAAAA,UAAU,EAAExC,QAAQ,CAACe,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEyB,UAAP;AAFf,OAAP;AAID,KALyB,CAA1B;AAOA,UAAMT,MAAM,GAAGQ,iBAAiB,CAC7BJ,GADY,CACPpB,IAAD,IAAU;AACb,aAAOA,IAAI,CAACyB,UAAZ;AACD,KAHY,EAIZC,MAJY,CAIL,CAAC1B,IAAD,EAAO2B,KAAP,EAAcC,GAAd,KAAsB;AAC5B,aAAOA,GAAG,CAACC,OAAJ,CAAY7B,IAAZ,MAAsB2B,KAA7B;AACD,KANY,CAAf;AAQA,UAAMV,MAAM,GAAGD,MAAM,CAACI,GAAP,CAAYC,KAAD,IAAW;AACnC,UAAIrB,IAAI,GAAGwB,iBAAiB,CAACE,MAAlB,CAA0B1B,IAAD,IAAU;AAC5C,eAAOA,IAAI,CAACyB,UAAL,KAAoBJ,KAA3B;AACD,OAFU,CAAX;AAIA,YAAMS,KAAK,GAAG9B,IAAI,CAAC+B,MAAL,CAAY,CAACC,GAAD,EAAMC,IAAN,KAAe;AACvC,eAAOD,GAAG,GAAGE,MAAM,CAACD,IAAI,CAACE,MAAN,CAAnB;AACD,OAFa,EAEX,CAFW,CAAd;AAIA,aAAOL,KAAP;AACD,KAVc,CAAf;AAYA,WAAO;AAAEd,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAAP;AACD,GAhCiC,EAgC/B,CAACH,yBAAD,CAhC+B,CAAlC;AAkCA,MAAIsB,UAAU,GAAG,EAAjB;AACA,MAAIC,eAAsB,GAAG,EAA7B;;AAEA,MAAIvB,yBAAJ,EAA+B;AAC7BsB,IAAAA,UAAU,GAAGtB,yBAAyB,CAACd,IAAvC;AACAqC,IAAAA,eAAe,GAAGD,UAAU,CAACE,KAAX,CAAiB,CAAjB,EAAoB,EAApB,CAAlB;AACD;;AAED,sBACE,uDAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,wCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACU5C,IAAI,IAAIA,IAAI,CAAC6C,SADvB,MADF,CAFF,eAQE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1C,wBAAwB,gBACvB;AAAK,IAAA,SAAS,EAAC,yDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAKE;AAAK,IAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADuB,gBASvB;AAAK,IAAA,SAAS,EAAC,2DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,0BAAT;AAAoC,IAAA,SAAS,EAAC,KAA9C;AAAoD,IAAA,GAAG,EAAC,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAI,IAAA,SAAS,EAAC,oDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,CADF,EAOGqC,MAAM,CAACjC,mBAAD,aAACA,mBAAD,uBAACA,mBAAmB,CAAED,IAAtB,CAAN,GAAoC,CAApC,gBACC,uDACE;AAAI,IAAA,SAAS,EAAC,iCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAEGkC,MAAM,CAACjC,mBAAD,aAACA,mBAAD,uBAACA,mBAAmB,CAAED,IAAtB,CAAN,CAAkCwC,cAAlC,CACCC,SADD,EAEC;AACEC,IAAAA,qBAAqB,EAAE;AADzB,GAFD,CAFH,CADF,CADD,gBAaC;AAAI,IAAA,SAAS,EAAC,iCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBJ,CAVJ,EAmCGvC,gCAAgC,gBAC/B;AAAK,IAAA,SAAS,EAAC,yDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAKE;AAAK,IAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAD+B,gBAS/B;AAAK,IAAA,SAAS,EAAC,4EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,wBAAT;AAAkC,IAAA,SAAS,EAAC,KAA5C;AAAkD,IAAA,GAAG,EAAC,EAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAI,IAAA,SAAS,EAAC,qDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFF,CADF,EAOG+B,MAAM,CAAC7B,2BAAD,aAACA,2BAAD,uBAACA,2BAA2B,CAAEL,IAA9B,CAAN,GAA4C,CAA5C,gBACC,uDACE;AAAI,IAAA,SAAS,EAAC,iCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAEGkC,MAAM,CAAC7B,2BAAD,aAACA,2BAAD,uBAACA,2BAA2B,CAAEL,IAA9B,CAAN,CAA0CwC,cAA1C,CACCC,SADD,EAEC;AACEC,IAAAA,qBAAqB,EAAE;AADzB,GAFD,CAFH,CADF,CADD,gBAaC;AAAI,IAAA,SAAS,EAAC,iCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBJ,CA5CJ,EAoEGpC,wBAAwB,gBACvB;AAAK,IAAA,SAAS,EAAC,yDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAKE;AAAK,IAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADuB,gBASvB;AAAK,IAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,6BADN;AAEE,IAAA,SAAS,EAAC,KAFZ;AAGE,IAAA,GAAG,EAAC,EAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AAAI,IAAA,SAAS,EAAC,sDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BANF,CADF,EAWG,CAAAE,0BAA0B,SAA1B,IAAAA,0BAA0B,WAA1B,YAAAA,0BAA0B,CAAER,IAA5B,iBACC;AAAI,IAAA,SAAS,EAAC,iCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,EAEG,IAAIZ,IAAJ,CACCoB,0BADD,aACCA,0BADD,uBACCA,0BAA0B,CAAER,IAD7B,EAEC2C,kBAFD,EAFH,EAI0B,GAJ1B,CADD,gBAQC;AAAI,IAAA,SAAS,EAAC,iCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAnBJ,CA7EJ,CADF,CARF,eA+GE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/GF,eAgHE;AAAK,IAAA,SAAS,EAAC,wDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,2CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CAhHF,eAqHE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArHF,eAsHE;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/B,8BAA8B,IAC/BE,yBAAyB,KAAK,IAD7B,gBAEC;AAAK,IAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAKE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAFF,CADF,CADF,CAFD,gBAiBC;AAAO,IAAA,SAAS,EAAC,+BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,2FAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,eAIE;AAAI,IAAA,SAAS,EAAC,qDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAOE;AAAI,IAAA,SAAS,EAAC,gEAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,CADF,CADF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACGuB,eADH,qDACG,iBAAiBjB,GAAjB,CAAqB,CAACwB,CAAD,EAAIC,CAAJ,KAAU;AAC9B,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,0DAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,CAAC,GAAG,CADP,MADF,eAIE;AAAI,MAAA,SAAS,EAAC,6DAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAEGX,MAAM,CAACU,CAAC,CAACT,MAAH,CAAN,CAAiBK,cAAjB,CAAgCC,SAAhC,EAA2C;AAC1CC,MAAAA,qBAAqB,EAAE;AADmB,KAA3C,CAFH,CAJF,eAUE;AAAI,MAAA,SAAS,EAAC,2DAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,IAAItD,IAAJ,CAASwD,CAAC,CAACnB,UAAX,EAAuBkB,kBAAvB,EADH,CAVF,CADF;AAgBD,GAjBA,CADH,CAdF,CAlBJ,CAtHF,eA6KE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7KF,eA8KE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9KF,eA+KE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/KF,CAFF,eAuLE;AAAM,IAAA,SAAS,EAAC,0BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG9C,wBAAwB,gBACvB;AAAK,IAAA,SAAS,EAAC,6DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAKE;AAAK,IAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADuB,gBASvB;AAAK,IAAA,SAAS,EAAC,6DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,0BAAT;AAAoC,IAAA,SAAS,EAAC,MAA9C;AAAqD,IAAA,GAAG,EAAC,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAI,IAAA,SAAS,EAAC,sDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,CADF,EAOGqC,MAAM,CAACjC,mBAAD,aAACA,mBAAD,uBAACA,mBAAmB,CAAED,IAAtB,CAAN,GAAoC,CAApC,gBACC,uDACE;AAAI,IAAA,SAAS,EAAC,kCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAEGkC,MAAM,CAACjC,mBAAD,aAACA,mBAAD,uBAACA,mBAAmB,CAAED,IAAtB,CAAN,CAAkCwC,cAAlC,CACCC,SADD,EAEC;AACEC,IAAAA,qBAAqB,EAAE;AADzB,GAFD,CAFH,CADF,CADD,gBAaC;AAAI,IAAA,SAAS,EAAC,kCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBJ,CAVJ,CADF,eAoCE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGvC,gCAAgC,gBAC/B;AAAK,IAAA,SAAS,EAAC,6DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAKE;AAAK,IAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAD+B,gBAS/B;AAAK,IAAA,SAAS,EAAC,qFAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAC,wBAAT;AAAkC,IAAA,SAAS,EAAC,MAA5C;AAAmD,IAAA,GAAG,EAAC,EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAI,IAAA,SAAS,EAAC,uDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFF,CADF,EAOG+B,MAAM,CAAC7B,2BAAD,aAACA,2BAAD,uBAACA,2BAA2B,CAAEL,IAA9B,CAAN,GAA4C,CAA5C,gBACC,uDACE;AAAI,IAAA,SAAS,EAAC,kCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAEGkC,MAAM,CAAC7B,2BAAD,aAACA,2BAAD,uBAACA,2BAA2B,CAAEL,IAA9B,CAAN,CAA0CwC,cAA1C,CACCC,SADD,EAEC;AACEC,IAAAA,qBAAqB,EAAE;AADzB,GAFD,CAFH,CADF,CADD,gBAaC;AAAI,IAAA,SAAS,EAAC,kCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBJ,CAVJ,CApCF,eAuEE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpC,wBAAwB,gBACvB;AAAK,IAAA,SAAS,EAAC,6DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAKE;AAAK,IAAA,SAAS,EAAC,iDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CADuB,gBASvB;AAAK,IAAA,SAAS,EAAC,6DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,6BADN;AAEE,IAAA,SAAS,EAAC,MAFZ;AAGE,IAAA,GAAG,EAAC,EAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AAAI,IAAA,SAAS,EAAC,wDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BANF,CADF,EAWG,CAAAE,0BAA0B,SAA1B,IAAAA,0BAA0B,WAA1B,YAAAA,0BAA0B,CAAER,IAA5B,iBACC;AAAI,IAAA,SAAS,EAAC,kCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,EAEG,IAAIZ,IAAJ,CACCoB,0BADD,aACCA,0BADD,uBACCA,0BAA0B,CAAER,IAD7B,EAEC2C,kBAFD,EAFH,EAI0B,GAJ1B,CADD,gBAQC;AAAI,IAAA,SAAS,EAAC,kCAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAnBJ,CAVJ,CAvEF,CAFF,eA4GE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5GF,eA6GE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7GF,eA8GE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9GF,eA+GE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAI,IAAA,SAAS,EAAC,mDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,CADF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAQG/B,8BAA8B,IAC/BE,yBAAyB,KAAK,IAD7B,gBAEC;AAAK,IAAA,SAAS,EAAC,6DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAKE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAFF,CADF,CADF,CAFD,gBAiBC;AAAK,IAAA,SAAS,EAAC,yDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAES,kBAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAzBJ,CADF,eA+BE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAI,IAAA,SAAS,EAAC,mDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,CADF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAQE;AAAK,IAAA,SAAS,EAAC,4DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGd,8BAA8B,IAC/BE,yBAAyB,KAAK,IAD7B,gBAEC;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAFF,CADF,CAFD,gBAcC,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAEI,iBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfJ,CARF,eA0BE;AACE,IAAA,SAAS,EAAC,+KADZ;AAEE,IAAA,OAAO,EAAE,MAAMzB,KAAK,CAACwD,OAAN,CAAcC,IAAd,CAAmB,QAAnB,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAM,IAAA,SAAS,EAAC,yCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,eAOE;AAAK,IAAA,GAAG,EAAC,uBAAT;AAAiC,IAAA,SAAS,EAAC,UAA3C;AAAsD,IAAA,GAAG,EAAC,EAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CA1BF,CADF,CA/BF,CA/GF,eAqLE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArLF,CAvLF,CADF;AAmXD;;AAED,eAAehE,UAAU,CAACM,IAAD,CAAzB","sourcesContent":["import React, { useMemo } from \"react\";\nimport { useQuery } from \"react-query\";\nimport useAuthStore from \"../stores/authStore\";\nimport {\n  getTotalLoanAmount,\n  getTotalOutstandingBalance,\n  getNextLoanDueDate,\n  getRecentLoanAmountTable,\n  getRecentRepaymentsTable,\n} from \"../clients/reports\";\nimport DoughnutChart from \"../components/Dashboard/DoughnutChart\";\nimport { withRouter } from \"react-router-dom\";\nimport RepaymentsGraph from \"../components/Dashboard/RepaymentsGraph\";\n\nconst getMonth = (dateString) => {\n  const monthNames = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"Aug\",\n    \"Sept\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ];\n\n  return monthNames[new Date(dateString).getMonth()];\n};\n\nfunction Home(props: any) {\n  const token = useAuthStore((state) => state.accessToken);\n  const user: any = useAuthStore((state) => state.currentUser);\n\n  const {\n    isLoading: isTotalLoanAmountLoading,\n    error: totalLoanAmountError,\n    data: totalLoanAmountData,\n  } = useQuery(\"totalLoanAMount\", () => getTotalLoanAmount(token), {\n    retry: 1\n  });\n\n  const {\n    isLoading: isTotalOutstandingBalanceLoading,\n    error: totalOutstandingBalanceError,\n    data: totalOutstandingBalanceData,\n  } = useQuery(\"totalOutstandingBalance\", () =>\n    getTotalOutstandingBalance(token), {\n      retry: 1\n    }\n  );\n\n  const {\n    isLoading: isNextLoanDueDateLoading,\n    error: nextLoanDueDateError,\n    data: nextLoanDueDateBalanceData,\n  } = useQuery(\"nextLoanDueDate\", () => getNextLoanDueDate(token), {\n    retry: 1\n  });\n\n  const {\n    isLoading: isRecentLoanAmountTableLoading,\n    error: recentLoanAmountTableError,\n    data: recentLoanAmountTableData,\n  } = useQuery(\"recentLoanAmountTable\", () => getRecentLoanAmountTable(token), {\n    retry: 1\n  });\n\n  const {\n    isLoading: isRecentRepaymentsTableLoading,\n    error: recentRepaymentsTableError,\n    data: recentRepaymentsTableData,\n  } = useQuery(\"recentRepaymentsTable\", () => getRecentRepaymentsTable(token), {\n    retry: 1\n  });\n\n  const doughnutChartData = useMemo(() => {\n    if (!recentLoanAmountTableData) {\n      return { labels: [], values: [] };\n    }\n    let labels = Object.keys(recentLoanAmountTableData?.data).map((label) => {\n      return new Date(label).toDateString();\n    });\n    return {\n      labels: labels,\n      values: Object.values(recentLoanAmountTableData?.data),\n    };\n  }, [recentLoanAmountTableData]);\n\n  const repaymentGraphData = useMemo(() => {\n    if (!recentRepaymentsTableData) {\n      return { labels: [], values: [] };\n    }\n    const rawRepaymentsData = recentRepaymentsTableData?.data.map((data) => {\n      return {\n        ...data,\n        created_at: getMonth(data?.created_at),\n      };\n    });\n\n    const labels = rawRepaymentsData\n      .map((data) => {\n        return data.created_at;\n      })\n      .filter((data, index, arr) => {\n        return arr.indexOf(data) === index;\n      });\n\n    const values = labels.map((label) => {\n      let data = rawRepaymentsData.filter((data) => {\n        return data.created_at === label;\n      });\n\n      const value = data.reduce((acc, curr) => {\n        return acc + Number(curr.amount);\n      }, 0);\n\n      return value;\n    });\n\n    return { labels, values };\n  }, [recentRepaymentsTableData]);\n\n  let myPayments = [];\n  let lastTenPayments: any[] = [];\n\n  if (recentRepaymentsTableData) {\n    myPayments = recentRepaymentsTableData.data;\n    lastTenPayments = myPayments.slice(0, 10);\n  }\n\n  return (\n    <>\n      {/* Mobile View */}\n      <div className=\"lg:hidden\">\n        <br className=\"lg:hidden\" />\n        <div className=\"w-full text-center mb-10 lg:hidden\">\n          <h1 className=\"text-green-500 font-semibold lg:hidden\">\n            Hello, {user && user.firstName}!\n          </h1>\n        </div>\n\n        <div className=\"pl-10 mobile-dashboard-stats\">\n          <div className=\"flex overflow-x-auto mt-4\">\n            {isTotalLoanAmountLoading ? (\n              <div className=\"w-64 bg-white flex-none  rounded p-4 p-8 shadow-sm mr-5\">\n                <div className=\"flex animate-pulse items-center justify-between mb-2\">\n                  <div className=\"bg-blue-200  w-8 h-8 rounded-full\"></div>\n                  <div className=\"bg-blue-200 w-2/3 h-2 rounded-md\"></div>\n                </div>\n                <div className=\"animate-pulse bg-blue-200 w-full h-2 rounded-md\"></div>\n              </div>\n            ) : (\n              <div className=\"w-64 bg-white flex-none border rounded p-4 shadow-sm mr-5\">\n                <div className=\"flex items-center justify-start mb-2\">\n                  <img src=\"img/loan-amount-icon.svg\" className=\"w-8\" alt=\"\" />\n                  <h3 className=\"font-normal text-blue-600 ml-6 text-sm font-medium\">\n                    Loans Received\n                  </h3>\n                </div>\n                {Number(totalLoanAmountData?.data) > 0 ? (\n                  <>\n                    <h3 className=\"font-bold text-xl text-gray-600\">\n                      \n                      {Number(totalLoanAmountData?.data).toLocaleString(\n                        undefined,\n                        {\n                          maximumFractionDigits: 2,\n                        }\n                      )}\n                    </h3>\n                  </>\n                ) : (\n                  <h3 className=\"font-bold text-xl text-gray-300\">0.00</h3>\n                )}\n              </div>\n            )}\n\n            {isTotalOutstandingBalanceLoading ? (\n              <div className=\"w-64 bg-white flex-none  rounded p-4 p-8 shadow-sm mr-5\">\n                <div className=\"flex animate-pulse items-center justify-between mb-2\">\n                  <div className=\"bg-blue-200  w-8 h-8 rounded-full\"></div>\n                  <div className=\"bg-blue-200 w-2/3 h-2 rounded-md\"></div>\n                </div>\n                <div className=\"animate-pulse bg-blue-200 w-full h-2 rounded-md\"></div>\n              </div>\n            ) : (\n              <div className=\"w-64 bg-white border-green-500 flex-none border rounded p-4 shadow-sm mr-5\">\n                <div className=\"flex items-center justify-start mb-2\">\n                  <img src=\"img/repayment-icon.svg\" className=\"w-8\" alt=\"\" />\n                  <h3 className=\"font-normal text-green-600 ml-6 text-sm font-medium\">\n                    Total Outstanding\n                  </h3>\n                </div>\n                {Number(totalOutstandingBalanceData?.data) > 0 ? (\n                  <>\n                    <h3 className=\"font-bold text-xl text-gray-600\">\n                      \n                      {Number(totalOutstandingBalanceData?.data).toLocaleString(\n                        undefined,\n                        {\n                          maximumFractionDigits: 2,\n                        }\n                      )}\n                    </h3>\n                  </>\n                ) : (\n                  <h3 className=\"font-bold text-xl text-gray-300\">0.00</h3>\n                )}\n              </div>\n            )}\n            {isNextLoanDueDateLoading ? (\n              <div className=\"w-64 bg-white flex-none  rounded p-4 p-8 shadow-sm mr-5\">\n                <div className=\"flex animate-pulse items-center justify-between mb-2\">\n                  <div className=\"bg-blue-200  w-8 h-8 rounded-full\"></div>\n                  <div className=\"bg-blue-200 w-2/3 h-2 rounded-md\"></div>\n                </div>\n                <div className=\"animate-pulse bg-blue-200 w-full h-2 rounded-md\"></div>\n              </div>\n            ) : (\n              <div className=\"w-64 bg-white flex-none border rounded p-4 shadow-sm\">\n                <div className=\"flex items-center justify-start mb-2\">\n                  <img\n                    src=\"img/next-repayment-icon.svg\"\n                    className=\"w-8\"\n                    alt=\"\"\n                  />\n                  <h3 className=\"font-normal text-purple-600 ml-6 text-sm font-medium\">\n                    Next Repayment Date\n                  </h3>\n                </div>\n                {nextLoanDueDateBalanceData?.data ? (\n                  <h3 className=\"font-bold text-xl text-gray-600\">\n                    {\" \"}\n                    {new Date(\n                      nextLoanDueDateBalanceData?.data\n                    ).toLocaleDateString()}{\" \"}\n                  </h3>\n                ) : (\n                  <h3 className=\"font-bold text-xl text-gray-300\">--</h3>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n        <br />\n        <div className=\"w-56 bg-blue-700 p-2 pr-10 rounded-tr-md rounded-br-md\">\n          <h4 className=\"text-right text-white font-normal text-xs\">\n            Your Recent Payments\n          </h4>\n        </div>\n        <br />\n        <div className=\"\">\n          {isRecentRepaymentsTableLoading ||\n          recentRepaymentsTableData === null ? (\n            <div className=\"sm:w-8/12 flex-none  rounded pt-6 p-8 m-auto\">\n              <div className=\"animate-pulse flex space-x-4\">\n                <div className=\"flex-1 space-y-6 py-1\">\n                  <div className=\"h-4 bg-blue-200 rounded w-3/4\"></div>\n                  <div className=\"space-y-6\">\n                    <div className=\"h-4 bg-blue-200 rounded\"></div>\n                    <div className=\"h-4 bg-blue-200 rounded\"></div>\n                    <div className=\"h-4 bg-blue-200 rounded\"></div>\n                    <div className=\"h-4 bg-blue-200 rounded\"></div>\n                    <div className=\"h-4 bg-blue-200 rounded\"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <table className=\"table-fixed sm:w-8/12  m-auto\">\n              <thead>\n                <tr className=\"bg-blue-200 border-0\">\n                  <th className=\"w-1/6 px-4 py-3 text-xs font-semibold text-blue-700 rounded-bl-md rounded-tl-md text-left\">\n                    S/N\n                  </th>\n                  <th className=\"w-1/4 px-4 py-3 text-xs font-semibold text-blue-700\">\n                    Amount\n                  </th>\n                  <th className=\"w-1/3 px-4 py-3 text-xs font-semibold text-blue-700 text-right\">\n                    Date\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {lastTenPayments?.map((d, i) => {\n                  return (\n                    <tr>\n                      <td className=\"w-1/6 border-b px-4 py-3 text-xs text-gray-600 text-left\">\n                        {i + 1}.\n                      </td>\n                      <td className=\"w-1/6 border-b px-4 py-3 text-xs text-green-700 text-center\">\n                        \n                        {Number(d.amount).toLocaleString(undefined, {\n                          maximumFractionDigits: 2,\n                        })}\n                      </td>\n                      <td className=\"w-1/3 border-b px-4 py-3 text-xs text-gray-600 text-right\">\n                        {new Date(d.created_at).toLocaleDateString()}\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          )}\n        </div>\n        <br />\n        <br />\n        <br />\n      </div>\n\n      {/* End of Mobile View */}\n\n      {/* Desktop view */}\n      <main className=\"hidden lg:block lg:pl-12\">\n        <br />\n        <div className=\"flex\">\n          <div className=\"w-1/3\">\n            {isTotalLoanAmountLoading ? (\n              <div className=\"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\">\n                <div className=\"flex animate-pulse items-center justify-between mb-4\">\n                  <div className=\"bg-blue-200  w-12 h-12 rounded-full\"></div>\n                  <div className=\"bg-blue-200 w-2/3 h-4 rounded-md\"></div>\n                </div>\n                <div className=\"animate-pulse bg-blue-200 w-full h-4 rounded-md\"></div>\n              </div>\n            ) : (\n              <div className=\"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\">\n                <div className=\"flex items-center justify-start mb-2\">\n                  <img src=\"img/loan-amount-icon.svg\" className=\"w-10\" alt=\"\" />\n                  <h3 className=\"font-normal text-blue-600 ml-6 text-base font-medium\">\n                    Loans Received\n                  </h3>\n                </div>\n                {Number(totalLoanAmountData?.data) > 0 ? (\n                  <>\n                    <h3 className=\"font-bold text-2xl text-gray-600\">\n                      \n                      {Number(totalLoanAmountData?.data).toLocaleString(\n                        undefined,\n                        {\n                          maximumFractionDigits: 2,\n                        }\n                      )}\n                    </h3>\n                  </>\n                ) : (\n                  <h3 className=\"font-bold text-2xl text-gray-300\">0.00</h3>\n                )}\n              </div>\n            )}\n          </div>\n          <div className=\"w-1/3\">\n            {isTotalOutstandingBalanceLoading ? (\n              <div className=\"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\">\n                <div className=\"flex animate-pulse items-center justify-between mb-4\">\n                  <div className=\"bg-blue-200  w-12 h-12 rounded-full\"></div>\n                  <div className=\"bg-blue-200 w-2/3 h-4 rounded-md\"></div>\n                </div>\n                <div className=\"animate-pulse bg-blue-200 w-full h-4 rounded-md\"></div>\n              </div>\n            ) : (\n              <div className=\"w-10/12 bg-white border border-green-500 flex-none  rounded pt-6 p-8 shadow-sm mr-5\">\n                <div className=\"flex items-center justify-start mb-2\">\n                  <img src=\"img/repayment-icon.svg\" className=\"w-10\" alt=\"\" />\n                  <h3 className=\"font-normal text-green-600 ml-6 text-base font-medium\">\n                    Total Outstanding\n                  </h3>\n                </div>\n                {Number(totalOutstandingBalanceData?.data) > 0 ? (\n                  <>\n                    <h3 className=\"font-bold text-2xl text-gray-600\">\n                      \n                      {Number(totalOutstandingBalanceData?.data).toLocaleString(\n                        undefined,\n                        {\n                          maximumFractionDigits: 2,\n                        }\n                      )}\n                    </h3>\n                  </>\n                ) : (\n                  <h3 className=\"font-bold text-2xl text-gray-300\">0.00</h3>\n                )}\n              </div>\n            )}\n          </div>\n          <div className=\"w-1/3\">\n            {isNextLoanDueDateLoading ? (\n              <div className=\"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\">\n                <div className=\"flex animate-pulse items-center justify-between mb-4\">\n                  <div className=\"bg-blue-200  w-12 h-12 rounded-full\"></div>\n                  <div className=\"bg-blue-200 w-2/3 h-4 rounded-md\"></div>\n                </div>\n                <div className=\"animate-pulse bg-blue-200 w-full h-4 rounded-md\"></div>\n              </div>\n            ) : (\n              <div className=\"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\">\n                <div className=\"flex items-center justify-start mb-2\">\n                  <img\n                    src=\"img/next-repayment-icon.svg\"\n                    className=\"w-10\"\n                    alt=\"\"\n                  />\n                  <h3 className=\"font-normal text-purple-500 ml-6 text-base font-medium\">\n                    Next Repayment Date\n                  </h3>\n                </div>\n                {nextLoanDueDateBalanceData?.data ? (\n                  <h3 className=\"font-bold text-2xl text-gray-600\">\n                    {\" \"}\n                    {new Date(\n                      nextLoanDueDateBalanceData?.data\n                    ).toLocaleDateString()}{\" \"}\n                  </h3>\n                ) : (\n                  <h3 className=\"font-bold text-2xl text-gray-300\">--</h3>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n        <br />\n        <br />\n        <br />\n        <div className=\"flex \">\n          <div className=\"w-8/12 \">\n            <div className=\"flex items-center\">\n              <div className=\"w-8 h-1 bg-blue-700 rounded mr-3\"></div>\n              <h4 className=\"text-gray-700 font-semibold text-xl tracking-wide\">\n                Repayment Trend\n              </h4>\n            </div>\n            <br />\n            {isRecentRepaymentsTableLoading ||\n            recentRepaymentsTableData === null ? (\n              <div className=\"w-11/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5\">\n                <div className=\"animate-pulse flex space-x-4\">\n                  <div className=\"flex-1 space-y-6 py-1\">\n                    <div className=\"h-4 bg-blue-200 rounded w-3/4\"></div>\n                    <div className=\"space-y-6\">\n                      <div className=\"h-4 bg-blue-200 rounded\"></div>\n                      <div className=\"h-4 bg-blue-200 rounded\"></div>\n                      <div className=\"h-4 bg-blue-200 rounded\"></div>\n                      <div className=\"h-4 bg-blue-200 rounded\"></div>\n                      <div className=\"h-4 bg-blue-200 rounded\"></div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"w-11/12 bg-white flex-none  rounded pt-6 p-8 shadow-lg \">\n                <RepaymentsGraph data={repaymentGraphData} />\n              </div>\n            )}\n          </div>\n          <div className=\"w-1/3\">\n            <div className=\"w-10/12 \">\n              <div className=\"flex items-center\">\n                <div className=\"w-8 h-1 bg-blue-700 rounded mr-3\"></div>\n                <h4 className=\"text-gray-700 font-semibold text-xl tracking-wide\">\n                  Recent Loans\n                </h4>\n              </div>\n              <br />\n              <div className=\"w-full bg-white flex-none  rounded pt-6 p-8 shadow-lg mb-3\">\n                {isRecentLoanAmountTableLoading ||\n                recentLoanAmountTableData === null ? (\n                  <div className=\"animate-pulse flex space-x-4\">\n                    <div className=\"flex-1 space-y-6 py-1\">\n                      <div className=\"h-4 bg-blue-200 rounded w-3/4\"></div>\n                      <div className=\"space-y-6\">\n                        <div className=\"h-4 bg-blue-200 rounded\"></div>\n                        <div className=\"h-4 bg-blue-200 rounded\"></div>\n                        <div className=\"h-4 bg-blue-200 rounded\"></div>\n                        <div className=\"h-4 bg-blue-200 rounded\"></div>\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  <DoughnutChart data={doughnutChartData} />\n                )}\n              </div>\n              <button\n                className=\"flex w-full shadow-xl text-xl font-light text-white justify-center pt-3 pb-3 items-center bg-blue-700 hover:bg-blue-600 rounded-md transition-colors duration-150 ease-in-out\"\n                onClick={() => props.history.push(\"/loans\")}\n              >\n                <span className=\"ml-4 text-sm xl:text-lg lg:text-sm pr-2\">\n                  See loan history\n                </span>\n                <img src=\"img/chevron-right.svg\" className=\"w-5 pt-1\" alt=\"\" />\n              </button>\n            </div>\n          </div>\n        </div>\n        <br />\n      </main>\n\n      {/* End of Desktop View */}\n    </>\n  );\n}\n\nexport default withRouter(Home);\n"]},"metadata":{},"sourceType":"module"}