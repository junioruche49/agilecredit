{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/react app/agilecreditportal/src/pages/LoanSchedule.tsx\";\nimport React, { useState } from \"react\";\nimport { withRouter } from \"react-router\";\nimport ScheduleCalculator from \"../components/LoanSchedule/ScheduleCalculator\";\nimport { sendLoanApplication } from \"../clients/loan\";\nimport useAuthStore from \"../stores/authStore\";\n\nconst LoanSchedule = props => {\n  let loanData = props.location.loanData;\n\n  if (loanData === null || loanData === \"\" || loanData === undefined) {\n    props.history.push('/new-loan-request');\n  } else {\n    loanData = props.location.loanData;\n  }\n\n  const [isScheduleVisible, setIsScheduleVisible] = useState(false);\n  const token = useAuthStore(state => state.accessToken);\n  const [isLoading, setLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState([]);\n  const [responseData, setResponse] = useState(\"\");\n  const [submitted, setSubmitted] = useState(false);\n\n  const updateErrors = errors => {\n    setErrorMsg(Object.values(errors).flat());\n  };\n\n  const postLoan = async () => {\n    let values = {\n      product_code: loanData.no,\n      loan_amount: loanData.loan_amount,\n      number_of_repayments: loanData.no_of_repayments\n    };\n    setLoading(true);\n\n    try {\n      const {\n        message,\n        data,\n        success\n      } = await sendLoanApplication(token, values);\n\n      if (success === false) {\n        let msg = [];\n        msg.push(message);\n        setErrorMsg(msg);\n        setLoading(false);\n        return;\n      }\n\n      setSubmitted(true);\n      setTimeout(function () {\n        setSubmitted(false);\n        props.history.replace(\"/applications\");\n      }, 5000);\n      setResponse(message);\n      setErrorMsg([]);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n\n      if (error && !error.response) {\n        let msg = [];\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n\n      if (error && error.response.status === 500) {\n        let msg = [];\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n\n      const {\n        response: {\n          data\n        }\n      } = error;\n      data.errors && updateErrors(data.errors);\n    }\n  };\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/img/loading-gif.gif\",\n      alt: \"\",\n      className: \"w-1/8 m-auto py-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"m-auto text-lg text-gray-700 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, \"Please wait while your application is being submitted...\")));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"md:pl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center mt-10 lg:mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, \"Loan Schedule\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }), errorMsg.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md mb-5 m-auto md:m-0 md:mb-2\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"fill-current h-6 w-6 text-red-500 mr-4\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      listStyleType: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, errorMsg.map((error, i) => /*#__PURE__*/React.createElement(\"li\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 37\n    }\n  }, error)))))) : \"\", submitted ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 bg-white rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-9/12 bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md mb-5 m-auto fade-in\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"fill-current h-6 w-6 text-teal-500 mr-4\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 49\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 45\n    }\n  }, \"Application successful\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 45\n    }\n  }, responseData, \". You will be notified of updates concerning your application.\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-9/12 m-auto px-8 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/message-posted.svg\",\n    alt: \"\",\n    className: \"w-2/4 md:w-1/4 m-auto py-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 37\n    }\n  })))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: isScheduleVisible ? \"hidden\" : \"hidden md:block w-5/12 mb-6 border-r-2 border-gray-300 px-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/loan-schedule-img.svg\",\n    alt: \"\",\n    className: \"w-9/12 m-auto pt-16 pb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"w-10/12 m-auto text-center text-blue-800 text-lg font-bold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 37\n    }\n  }, \"Your cash is closer than you think\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: isScheduleVisible ? \"md:w-11/12 w-full mb-6 sm:pl-16 pl-6 py-6 relative\" : \"md:w-7/12 w-full mb-6 sm:pl-16 pl-6 py-6 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 33\n    }\n  }, isScheduleVisible ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"block text-blue-800 text-lg font-bold mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 49\n    }\n  }, \"Your repayment schedule:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(ScheduleCalculator, {\n    type: loanData.interest_calculation_method,\n    data: {\n      amount: loanData.loan_amount,\n      rate: loanData.interest_percent,\n      tenor: loanData.no_of_repayments\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 53\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"block text-blue-800 text-lg font-bold mb-6 fade-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 49\n    }\n  }, \"Your loan summary:\"), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table-fixed w-11/12 mb-8 fade-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 61\n    }\n  }, \"Type:\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"sm:w-4/12 w-1/2 px-4 py-1 text-md text-right font-normal text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 61\n    }\n  }, loanData ? loanData.description : \"\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 61\n    }\n  }, \"Amount:\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"sm:w-4/12 w-1/2 px-4 py-1 text-md text-right font-normal text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 61\n    }\n  }, loanData ? `₦` + Number(loanData.loan_amount).toLocaleString() : \"\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 61\n    }\n  }, \"Duration:\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"w-4/12 px-4 py-1 text-md text-right font-normal text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 61\n    }\n  }, loanData ? loanData.no_of_repayments : \"\", \" months\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 61\n    }\n  }, \"Interest Rate:\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"w-4/12 px-4 py-1 text-md text-right font-normal text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 61\n    }\n  }, loanData ? loanData.interest_percent : \"\", \"%\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-end w-11/12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"md:inline-flex justify-end pr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-gray-300 hover:bg-gray-400 text-gray-600 text-xs font-normal py-3 px-10 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center md:mb-0 mb-5 transition-colors duration-150 ease-in-out\",\n    type: \"button\",\n    onClick: () => setIsScheduleVisible(!isScheduleVisible),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 49\n    }\n  }, \" \", isScheduleVisible ? \"View loan summary\" : \"View payment schedule\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-green-600 hover:bg-green-700 text-white text-sm font-normal py-3 px-10 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center transition-colors duration-150 ease-in-out\",\n    type: \"button\",\n    onClick: postLoan,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 49\n    }\n  }, \" Process my loan \"), /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"-mt-1\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"chevron_right_24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"icon/navigation/chevron_right_24px\",\n    d: \"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\",\n    fill: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 53\n    }\n  })))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 mt-8 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 33\n    }\n  }))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default withRouter(LoanSchedule);","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/LoanSchedule.tsx"],"names":["React","useState","withRouter","ScheduleCalculator","sendLoanApplication","useAuthStore","LoanSchedule","props","loanData","location","undefined","history","push","isScheduleVisible","setIsScheduleVisible","token","state","accessToken","isLoading","setLoading","errorMsg","setErrorMsg","responseData","setResponse","submitted","setSubmitted","updateErrors","errors","Object","values","flat","postLoan","product_code","no","loan_amount","number_of_repayments","no_of_repayments","message","data","success","msg","setTimeout","replace","error","response","status","length","listStyleType","map","i","interest_calculation_method","amount","rate","interest_percent","tenor","description","Number","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router\";\nimport ScheduleCalculator from \"../components/LoanSchedule/ScheduleCalculator\";\nimport {sendLoanApplication} from \"../clients/loan\";\nimport useAuthStore from \"../stores/authStore\";\n\n\n\nconst LoanSchedule = (props: any) =>{\n    let loanData = props.location.loanData\n    if((loanData === null) || (loanData=== \"\") || (loanData === undefined)) {\n        props.history.push('/new-loan-request')\n    }\n    else{\n      loanData = props.location.loanData\n    }\n\n    const [isScheduleVisible, setIsScheduleVisible] = useState(false);\n\n    const token = useAuthStore((state) => state.accessToken);\n\n    const [isLoading, setLoading] = useState(false);\n    const [errorMsg, setErrorMsg] = useState([]);\n    const [responseData, setResponse] = useState(\"\");\n    const [submitted, setSubmitted] = useState(false);\n\n    const updateErrors = (errors: []) => {\n        setErrorMsg(Object.values(errors).flat());\n    };\n\n    const postLoan = async () => {\n        let values = {\n            product_code: loanData.no,\n            loan_amount: loanData.loan_amount,\n            number_of_repayments: loanData.no_of_repayments\n        }\n        setLoading(true)\n        try {\n          const { message, data, success } = await sendLoanApplication(token, values);\n\n            if (success === false) {\n                let msg = [] as any;\n                msg.push(message);\n                setErrorMsg(msg);\n                setLoading(false);\n                return;\n            }\n\n          setSubmitted(true);\n          setTimeout(function () {\n              setSubmitted(false);\n              props.history.replace(\"/applications\");\n            }, 5000);\n          setResponse(message);\n          setErrorMsg([]);\n          setLoading(false);\n        } catch (error) {\n          setLoading(false);\n          if (error && !error.response) {\n            let msg = [] as any;\n            msg.push(\"Network Error, Check Your Internet Connection\");\n            setErrorMsg(msg);\n            return;\n          }\n          if (error && error.response.status === 500) {\n            let msg = [] as any;\n            msg.push(error.response.data.message);\n            setErrorMsg(msg);\n            return;\n          }\n          const {\n            response: { data },\n          } = error;\n          data.errors && updateErrors(data.errors);\n        }\n      };\n\n      if (isLoading) {\n        return (\n          <>\n            <div className=\"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative\">\n              <img\n                src=\"/img/loading-gif.gif\"\n                alt=\"\"\n                className=\"w-1/8 m-auto py-10\"\n              />\n              <h6 className=\"m-auto text-lg text-gray-700 text-center\">Please wait while your application is being submitted...</h6>\n            </div>\n          </>\n        );\n      }\n\n    return (\n        <>\n        <main className=\"md:pl-12\">\n            <div className=\"flex \">\n                <div className=\"w-full \">\n                    <div className=\"flex items-center mt-10 lg:mt-0\">\n                        <div className=\"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\"></div>\n                        <h4 className=\"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\">\n                            Loan Schedule\n                        </h4>\n                    </div>\n                    <br />\n                    {errorMsg.length ? (\n                        <div\n                        className=\"w-11/12 bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md mb-5 m-auto md:m-0 md:mb-2\"\n                            role=\"alert\"\n                        >\n                            <div className=\"flex\">\n                            <div className=\"py-1\">\n                                <svg\n                                className=\"fill-current h-6 w-6 text-red-500 mr-4\"\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                viewBox=\"0 0 20 20\"\n                                >\n                                <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                                </svg>\n                            </div>\n                            <div>\n                                <ul style={{ listStyleType: \"none\" }}>\n                                {errorMsg.map((error, i) => (\n                                    <li key={i}>{error}</li>\n                                ))}\n                                </ul>\n                            </div>\n                            </div>\n                        </div>\n                        ) : (\n                        \"\"\n                        )\n                    }\n                    {submitted ? (\n                        <>\n                            <div className=\"w-11/12 bg-white rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0\">\n                                <div\n                                className=\"w-9/12 bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md mb-5 m-auto fade-in\"\n                                role=\"alert\"\n                                >\n                                    <div className=\"flex\">\n                                        <div className=\"py-1\">\n                                            <svg\n                                                className=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                                                xmlns=\"http://www.w3.org/2000/svg\"\n                                                viewBox=\"0 0 20 20\"\n                                            >\n                                                <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                                            </svg>\n                                        </div>\n                                        <div>\n                                            <p className=\"font-bold\">Application successful</p>\n                                            <p className=\"text-sm\">\n                                                {responseData}. You will be notified of updates concerning your application.\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"w-9/12 m-auto px-8 relative\">\n                                    <img\n                                        src=\"/img/message-posted.svg\"\n                                        alt=\"\"\n                                        className=\"w-2/4 md:w-1/4 m-auto py-8\"\n                                    />\n                                </div>\n                            </div>\n                        </>\n                        ) : \n                        (\n                        <>\n                            <div className=\"w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0\">\n                                <div className={isScheduleVisible ? \"hidden\" : \"hidden md:block w-5/12 mb-6 border-r-2 border-gray-300 px-4\"}>\n                                    <img src=\"/img/loan-schedule-img.svg\" alt=\"\" className=\"w-9/12 m-auto pt-16 pb-4\" />\n                                    <h1 className=\"w-10/12 m-auto text-center text-blue-800 text-lg font-bold mb-2\">\n                                    Your cash is closer than you think\n                                    </h1>\n                                </div>\n                                <div className={isScheduleVisible ? \"md:w-11/12 w-full mb-6 sm:pl-16 pl-6 py-6 relative\" : \"md:w-7/12 w-full mb-6 sm:pl-16 pl-6 py-6 relative\"}>\n                                    {\n                                        isScheduleVisible ?\n                                            <>\n                                                <h1 className=\"block text-blue-800 text-lg font-bold mb-6\">\n                                                    Your repayment schedule:\n                                                </h1>\n                                                <div className=\"w-full\">\n                                                    <ScheduleCalculator type={loanData.interest_calculation_method} data={ {amount: loanData.loan_amount, rate: loanData.interest_percent, tenor: loanData.no_of_repayments} }/>\n                                                </div>\n                                            </>\n                                        :\n                                            <>\n                                                <h1 className=\"block text-blue-800 text-lg font-bold mb-6 fade-in\">\n                                                Your loan summary:\n                                                </h1>\n                                                <table className=\"table-fixed w-11/12 mb-8 fade-in\">  \n                                                    <tbody>\n                                                        <tr>\n                                                            <td className=\"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\">Type:</td>\n                                                            <td className=\"sm:w-4/12 w-1/2 px-4 py-1 text-md text-right font-normal text-gray-700\">{loanData ? loanData.description : \"\" }</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\">Amount:</td>\n                                                            <td className=\"sm:w-4/12 w-1/2 px-4 py-1 text-md text-right font-normal text-gray-700\">{loanData ? `₦`+Number(loanData.loan_amount).toLocaleString() : \"\"}</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\">Duration:</td>\n                                                            <td className=\"w-4/12 px-4 py-1 text-md text-right font-normal text-gray-700\">{loanData ? loanData.no_of_repayments: \"\"} months</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\">Interest Rate:</td>\n                                                            <td className=\"w-4/12 px-4 py-1 text-md text-right font-normal text-gray-700\">{loanData ? loanData.interest_percent: \"\"}%</td>\n                                                        </tr>\n                                                        {/* <tr>\n                                                            <td className=\"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\">Monthly repayment:</td>\n                                                            <td className=\"w-4/12 px-4 py-1 text-md text-right font-normal text-gray-700\">N14,000</td>\n                                                        </tr>\n                                                        <tr>\n                                                            <td className=\"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700\">Total amount payable:</td>\n                                                            <td className=\"w-4/12 px-4 py-1 text-md text-right font-normal text-gray-700\">N396,000</td>\n                                                        </tr> */}\n                                                    </tbody>\n                                                </table>\n                                            </>\n                                    }\n                                    <div className=\"flex justify-end w-11/12\">\n                                        <div className=\"md:inline-flex justify-end pr-4\">\n                                            <button\n                                            className=\"bg-gray-300 hover:bg-gray-400 text-gray-600 text-xs font-normal py-3 px-10 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center md:mb-0 mb-5 transition-colors duration-150 ease-in-out\"\n                                            type=\"button\"\n                                            onClick={() => setIsScheduleVisible(!isScheduleVisible)} \n                                            >\n                                                <span> { isScheduleVisible ? \"View loan summary\" : \"View payment schedule\" }</span>\n                                            </button>\n                                            <button\n                                            className=\"bg-green-600 hover:bg-green-700 text-white text-sm font-normal py-3 px-10 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center transition-colors duration-150 ease-in-out\"\n                                            type=\"button\"\n                                            onClick={postLoan}\n                                            >\n                                                <span> Process my loan </span>\n                                                <svg\n                                                    className=\"-mt-1\"\n                                                    width=\"14\"\n                                                    height=\"14\"\n                                                    viewBox=\"0 0 18 18\"\n                                                    fill=\"none\"\n                                                    xmlns=\"http://www.w3.org/2000/svg\"\n                                                >\n                                                    <g id=\"chevron_right_24px\">\n                                                    <path\n                                                        id=\"icon/navigation/chevron_right_24px\"\n                                                        d=\"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\"\n                                                        fill=\"white\"\n                                                    />\n                                                    </g>\n                                                </svg>\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"w-11/12 mt-8 hidden md:block\">\n                                <hr className=\"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\"></hr>\n                            </div>\n                        </>\n                        )\n                    }\n                    \n                </div>\n            </div>\n            <br />\n        </main>\n        </>\n    )\n}\n\nexport default withRouter(LoanSchedule);"]},"metadata":{},"sourceType":"module"}