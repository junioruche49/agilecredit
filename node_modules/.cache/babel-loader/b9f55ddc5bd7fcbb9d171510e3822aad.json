{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/react app/agilecreditportal/src/pages/AccountDetails.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport OnboardingSideBar from \"../components/OnboardingSideBar\";\nimport { useForm } from \"react-hook-form\";\nimport { useQuery } from \"react-query\";\nimport useProfileStore from \"../stores/profileStore\";\nimport useAuthStore from \"../stores/authStore\";\nimport { getAccountFields, sendAccounts, validateAccounts } from \"../clients/onboarding\";\n\nconst AccountDetails = props => {\n  const [accountName, setAccountName] = useState(\"\");\n  const [bankCode, setBankCode] = useState(\"\");\n  const [bankAccount, setBankAccount] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const profile = useProfileStore(state => state.data);\n  const [hideValidate, setHideValidate] = useState(false);\n  const [banks, setBanks] = useState([]);\n  const token = useAuthStore(state => state.accessToken);\n  const [readonlyValue, setReadonlyValue] = useState(false);\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery(\"account\", () => getAccountFields(token));\n  const {\n    register,\n    handleSubmit,\n    errors,\n    control,\n    reset\n  } = useForm();\n  const [submitted, setSubmitted] = useState(false);\n  useEffect(() => {\n    const result = profile; // result: { firstName: 'test', lastName: 'test2' }\n\n    reset(result); // asynchronously reset your form values\n  }, [reset]);\n  useEffect(() => {\n    let getBanks = data && data.filter(val => val.name === \"bank\");\n    console.log(getBanks && getBanks[0][\"options\"]);\n    setBanks(getBanks && getBanks[0][\"options\"]);\n  }, [data]);\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-full m-auto px-8 relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/img/loading-gif.gif\",\n      alt: \"\",\n      className: \"w-1/8 m-auto py-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  console.log(banks);\n\n  const updateErrors = errors => {\n    setErrorMsg(Object.values(errors).flat());\n  };\n\n  const toggleInput = () => {\n    setReadonlyValue(prev => !prev);\n  };\n\n  const onSubmit = async values => {\n    setLoading(true);\n\n    try {\n      const {\n        message,\n        data,\n        success\n      } = await validateAccounts(token, values);\n\n      if (success === false) {\n        let msg = [];\n        msg.push(message);\n        setErrorMsg(msg);\n        setLoading(false);\n        return;\n      }\n\n      setBankCode(values.bank_code);\n      setBankAccount(values.account_number); // setSubmitted(true);\n\n      setLoading(false);\n      setErrorMsg([]);\n      setHideValidate(true);\n      setAccountName(data.account_name); // let data = postData;\n\n      console.log(data);\n    } catch (error) {\n      setLoading(false);\n\n      if (error && error.response.status == 500) {\n        let msg = [];\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n\n      if (!error.response) {\n        let msg = [];\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n\n      const {\n        response: {\n          data\n        }\n      } = error;\n      console.log(data.errors);\n      data.errors && updateErrors(data.errors);\n    }\n  };\n\n  const validateAccount = async () => {\n    let values = {\n      bank: bankCode,\n      bank_account_no: bankAccount\n    };\n\n    try {\n      let postData = await sendAccounts(token, values);\n      setSubmitted(true);\n      const {\n        data\n      } = postData;\n      setErrorMsg([]);\n    } catch (error) {\n      setLoading(false);\n\n      if (error && error.response.status == 500) {\n        let msg = [];\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n\n      if (!error.response) {\n        let msg = [];\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n\n      const {\n        response: {\n          data\n        }\n      } = error;\n      data.errors && updateErrors(data.errors);\n    }\n  };\n\n  const changeValue = e => {\n    setBankAccount(e.target.value);\n    console.log(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(OnboardingSideBar, {\n    name: \"account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/checklists.svg\",\n    alt: \"\",\n    className: \"w-1/4 m-auto pt-16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"md:w-7/12 w-full mb-6 px-8 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"block text-gray-700 text-lg font-bold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, \"ACCOUNT DETAILS\"), errorMsg.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"fill-current h-6 w-6 text-red-500 mr-4\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      listStyleType: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  }, errorMsg.map((error, i) => /*#__PURE__*/React.createElement(\"li\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 21\n    }\n  }, error)))))) : \"\", submitted ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"fill-current h-6 w-6 text-teal-500 mr-4\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 19\n    }\n  }, \"Sent successfully\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 19\n    }\n  }, \"Account details created successfully\"))))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"w-full max-w-lg\",\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap -mx-3 mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full md:w-1/2 px-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 19\n    }\n  }, \"Bank\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"grid-state\",\n    name: \"bank_code\",\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 23\n    }\n  }, \"- Select -\"), banks && banks.map((option, key) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: key,\n      value: option.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 29\n      }\n    }, option.label);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"fill-current h-4 w-4\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 25\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full md:w-1/2 px-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 19\n    }\n  }, \"Account No.\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"grid-last-name\",\n    type: \"text\",\n    ref: register({\n      required: true\n    }),\n    name: \"account_number\",\n    onChange: e => changeValue(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 19\n    }\n  }), errors.account_number && errors.account_number.type === \"required\" && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-red-500 text-xs italic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 23\n    }\n  }, \"Please fill out this field.\")), accountName ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full md:w-4/5 px-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 19\n    }\n  }, \"Account Name.\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n    id: \"grid-last-name\",\n    type: \"text\",\n    disabled: true,\n    defaultValue: accountName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 19\n    }\n  })) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center justify-between mb-16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-blue-700 hover:bg-blue-800 text-white text-lg md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\",\n    type: \"submit\" // onClick={() => validateAccount()}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 21\n    }\n  }, \" Validate Account \"), !loading ? /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"ml-2\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"done_24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"icon/action/done_24px\",\n    d: \"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\",\n    fill: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 27\n    }\n  }))) : /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/25.gif\",\n    className: \"ml-2\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 23\n    }\n  })), hideValidate ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-blue-700 hover:bg-blue-800 text-white text-lg md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\",\n    type: \"button\",\n    onClick: () => validateAccount(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 21\n    }\n  }, \" Submit \"), !loading ? /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"ml-2\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"done_24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"icon/action/done_24px\",\n    d: \"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\",\n    fill: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 27\n    }\n  }))) : /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/25.gif\",\n    className: \"ml-2\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 23\n    }\n  })) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-end w-full pr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"md:inline-flex justify-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => props.history.push(\"/onboarding/employment\"),\n    className: \"bg-gray-500 hover:bg-gray-600 text-white text-xl font-light py-3 px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"mr-2 -mt-1\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"chevron_right_24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"icon/navigation/chevron_left_24px\",\n    d: \"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z\",\n    fill: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 15\n    }\n  }, \" Previous \")), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: !submitted,\n    onClick: () => props.history.push(\"/onboarding/identification\"),\n    className: submitted ? \"bg-green-600 hover:bg-green-700 text-white text-xl font-light py-3 px-10 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center\" : \"bg-gray-400 text-white text-xl font-light py-3 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 15\n    }\n  }, \" Next \"), /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"ml-2 -mt-1\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"chevron_right_24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"icon/navigation/chevron_right_24px\",\n    d: \"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\",\n    fill: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 19\n    }\n  }))))))));\n};\n\nexport default AccountDetails;","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/AccountDetails.tsx"],"names":["React","useState","useEffect","OnboardingSideBar","useForm","useQuery","useProfileStore","useAuthStore","getAccountFields","sendAccounts","validateAccounts","AccountDetails","props","accountName","setAccountName","bankCode","setBankCode","bankAccount","setBankAccount","errorMsg","setErrorMsg","loading","setLoading","profile","state","data","hideValidate","setHideValidate","banks","setBanks","token","accessToken","readonlyValue","setReadonlyValue","isLoading","error","register","handleSubmit","errors","control","reset","submitted","setSubmitted","result","getBanks","filter","val","name","console","log","updateErrors","Object","values","flat","toggleInput","prev","onSubmit","message","success","msg","push","bank_code","account_number","account_name","response","status","validateAccount","bank","bank_account_no","postData","changeValue","e","target","value","length","listStyleType","map","i","required","option","key","label","type","history"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport OnboardingSideBar from \"../components/OnboardingSideBar\";\nimport { useForm, Controller } from \"react-hook-form\";\n\nimport { useQuery } from \"react-query\";\n\nimport useProfileStore from \"../stores/profileStore\";\nimport useAuthStore from \"../stores/authStore\";\nimport {\n  getAccountFields,\n  sendAccounts,\n  validateAccounts,\n} from \"../clients/onboarding\";\nimport FormInput from \"../components/FormInput\";\n\nconst AccountDetails = (props: any) => {\n  const [accountName, setAccountName] = useState(\"\");\n  const [bankCode, setBankCode] = useState(\"\");\n  const [bankAccount, setBankAccount] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const profile = useProfileStore((state) => state.data);\n  const [hideValidate, setHideValidate] = useState(false);\n  const [banks, setBanks] = useState([] as any);\n  const token = useAuthStore((state) => state.accessToken);\n  const [readonlyValue, setReadonlyValue] = useState(false);\n  const { isLoading, error, data } = useQuery(\"account\", () =>\n    getAccountFields(token)\n  );\n\n  const { register, handleSubmit, errors, control, reset } = useForm();\n  const [submitted, setSubmitted] = useState(false);\n\n  useEffect(() => {\n    const result = profile; // result: { firstName: 'test', lastName: 'test2' }\n    reset(result); // asynchronously reset your form values\n  }, [reset]);\n\n  useEffect(() => {\n    let getBanks = data && data.filter((val) => val.name === \"bank\");\n    console.log(getBanks && getBanks[0][\"options\"]);\n    setBanks(getBanks && getBanks[0][\"options\"]);\n  }, [data]);\n\n  if (isLoading) {\n    return (\n      <>\n        <div className=\"w-full m-auto px-8 relative\">\n          <img\n            src=\"/img/loading-gif.gif\"\n            alt=\"\"\n            className=\"w-1/8 m-auto py-20\"\n          />\n        </div>\n      </>\n    );\n  }\n\n  console.log(banks);\n\n  const updateErrors = (errors: []) => {\n    setErrorMsg(Object.values(errors).flat());\n  };\n\n  const toggleInput = () => {\n    setReadonlyValue((prev) => !prev);\n  };\n\n  const onSubmit = async (values: any) => {\n    setLoading(true);\n\n    try {\n      const { message, data, success } = await validateAccounts(token, values);\n      if (success === false) {\n        let msg = [] as any;\n        msg.push(message);\n        setErrorMsg(msg);\n        setLoading(false);\n        return;\n      }\n      setBankCode(values.bank_code);\n      setBankAccount(values.account_number);\n      // setSubmitted(true);\n      setLoading(false);\n      setErrorMsg([]);\n      setHideValidate(true)\n      setAccountName(data.account_name)\n      // let data = postData;\n      console.log(data);\n    } catch (error) {\n      setLoading(false);\n      if (error && error.response.status == 500) {\n        let msg = [] as any;\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n      if (!error.response) {\n        let msg = [] as any;\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n      const {\n        response: { data },\n      } = error;\n      console.log(data.errors);\n      data.errors && updateErrors(data.errors);\n    }\n  };\n\n  const validateAccount = async () => {\n    let values = {\n      bank: bankCode,\n      bank_account_no: bankAccount\n    }\n    try {\n      let postData = await sendAccounts(token,values);\n      setSubmitted(true);\n      const { data } = postData;\n      setErrorMsg([]);\n    } catch (error) {\n      setLoading(false);\n      if (error && error.response.status == 500) {\n        let msg = [] as any;\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n      if (!error.response) {\n        let msg = [] as any;\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n      const {\n        response: { data },\n      } = error;\n      data.errors && updateErrors(data.errors);\n    }\n  };\n\n  const changeValue =(e)=>{\n    setBankAccount(e.target.value)\n    console.log(e.target.value)\n  }\n\n  return (\n    <>\n      <div className=\"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200\">\n        <OnboardingSideBar name=\"account\" />\n        <img src=\"/img/checklists.svg\" alt=\"\" className=\"w-1/4 m-auto pt-16\" />\n      </div>\n\n      <div className=\"md:w-7/12 w-full mb-6 px-8 relative\">\n        <h1 className=\"block text-gray-700 text-lg font-bold mb-2\">\n          ACCOUNT DETAILS\n        </h1>\n        {errorMsg.length ? (\n          <div\n            className=\"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\"\n            role=\"alert\"\n          >\n            <div className=\"flex\">\n              <div className=\"py-1\">\n                <svg\n                  className=\"fill-current h-6 w-6 text-red-500 mr-4\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                </svg>\n              </div>\n              <div>\n                {/* <p className=\"font-bold\">Sent successfully</p> */}\n                {/* <p className=\"text-sm\">{errorMsg}</p> */}\n                <ul style={{ listStyleType: \"none\" }}>\n                  {errorMsg.map((error, i) => (\n                    <li key={i}>{error}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        ) : (\n          \"\"\n        )}\n        {/* <h3 className=\"text-gray-600 text-sm\"> We hate to ask, but regulations mandate us to. <br/> Your BVN is safe with us!</h3> */}\n        {submitted ? (\n          <>\n            <div\n              className=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\"\n              role=\"alert\"\n            >\n              <div className=\"flex\">\n                <div className=\"py-1\">\n                  <svg\n                    className=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 20 20\"\n                  >\n                    <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"font-bold\">Sent successfully</p>\n                  <p className=\"text-sm\">\n                    Account details created successfully\n                  </p>\n                </div>\n              </div>\n            </div>\n          </>\n        ) : (\n          <>\n            <form className=\"w-full max-w-lg\" onSubmit={handleSubmit(onSubmit)}>\n              <div className=\"flex flex-wrap -mx-3 mb-6\">\n                {/* {data &&\n                  data.map((data, key) => {\n                    return (\n                      <FormInput\n                        key={key}\n                        label={data.label}\n                        name={data.name}\n                        required={data.required}\n                        errors={errors}\n                        register={register}\n                        type={data.type}\n                        options={data.options}\n                        value={profile[data.name]}\n                        Controller\n                        control\n                        readonly={data.readonly}\n                        readonlyValue={readonlyValue}\n                        toggleInput={toggleInput}\n                      />\n                    );\n                  })} */}\n                <div className=\"w-full md:w-1/2 px-3 mb-3\">\n                  <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                    Bank\n                  </label>\n                  {/* <input\n                    className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"grid-last-name\"\n                    type=\"text\"\n                    ref={register({ required: true })}\n                    name=\"bank\"\n                  />\n                  {errors.bank && errors.bank.type === \"required\" && (\n                    <p className=\"text-red-500 text-xs italic\">\n                      Please fill out this field.\n                    </p>\n                  )} */}\n                  <div className=\"relative\">\n                    <select\n                      className=\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                      id=\"grid-state\"\n                      name=\"bank_code\"\n                      ref={register({ required: true })}\n                    >\n                      <option value=\"\">- Select -</option>\n                      {banks &&\n                        banks.map((option, key) => {\n                          return (\n                            <option key={key} value={option.value}>\n                              {option.label}\n                            </option>\n                          );\n                        })}\n                    </select>\n                    <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 \">\n                      <svg\n                        className=\"fill-current h-4 w-4\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 20 20\"\n                      >\n                        <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"w-full md:w-1/2 px-3 mb-3\">\n                  <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                    Account No.\n                  </label>\n                  <input\n                    className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"grid-last-name\"\n                    type=\"text\"\n                    ref={register({ required: true })}\n                    name=\"account_number\"\n                    onChange={(e)=>changeValue(e)}\n                  />\n                  {errors.account_number &&\n                    errors.account_number.type === \"required\" && (\n                      <p className=\"text-red-500 text-xs italic\">\n                        Please fill out this field.\n                      </p>\n                    )}\n                </div>\n                {accountName ? \n                <div className=\"w-full md:w-4/5 px-3 mb-3\">\n                  <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                    Account Name.\n                  </label>\n                  <input\n                    className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"grid-last-name\"\n                    type=\"text\"\n                    disabled\n                    defaultValue={accountName}\n                  />\n                </div>\n                : \"\"}\n              </div>\n\n              <div className=\"flex items-center justify-between mb-16\">\n                \n                  <button\n                    className=\"bg-blue-700 hover:bg-blue-800 text-white text-lg md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\"\n                    type=\"submit\"\n                    // onClick={() => validateAccount()}\n                  >\n                    <span> Validate Account </span>\n                    {!loading ? (\n                      <svg\n                        className=\"ml-2\"\n                        width=\"18\"\n                        height=\"18\"\n                        viewBox=\"0 0 18 18\"\n                        fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                      >\n                        <g id=\"done_24px\">\n                          <path\n                            id=\"icon/action/done_24px\"\n                            d=\"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\"\n                            fill=\"white\"\n                          />\n                        </g>\n                      </svg>\n                    ) : (\n                      <img src=\"/img/25.gif\" className=\"ml-2\" alt=\"\" />\n                    )}\n                  </button>\n                  {hideValidate ? (\n                \n                  <button\n                    className=\"bg-blue-700 hover:bg-blue-800 text-white text-lg md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\"\n                    type=\"button\"\n                    onClick={() => validateAccount()}\n                  >\n                    <span> Submit </span>\n                    {!loading ? (\n                      <svg\n                        className=\"ml-2\"\n                        width=\"18\"\n                        height=\"18\"\n                        viewBox=\"0 0 18 18\"\n                        fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                      >\n                        <g id=\"done_24px\">\n                          <path\n                            id=\"icon/action/done_24px\"\n                            d=\"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\"\n                            fill=\"white\"\n                          />\n                        </g>\n                      </svg>\n                    ) : (\n                      <img src=\"/img/25.gif\" className=\"ml-2\" alt=\"\" />\n                    )}\n                  </button>\n                ) : \"\"}\n              </div>\n            </form>\n          </>\n        )}\n\n        <div className=\"flex justify-end w-full pr-4\">\n          <div className=\"md:inline-flex justify-end\">\n            <button\n              onClick={() => props.history.push(\"/onboarding/employment\")}\n              className=\"bg-gray-500 hover:bg-gray-600 text-white text-xl font-light py-3 px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center\"\n              type=\"button\"\n            >\n              <svg\n                className=\"mr-2 -mt-1\"\n                width=\"18\"\n                height=\"18\"\n                viewBox=\"0 0 18 18\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <g id=\"chevron_right_24px\">\n                  <path\n                    id=\"icon/navigation/chevron_left_24px\"\n                    d=\"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z\"\n                    fill=\"white\"\n                  />\n                </g>\n              </svg>\n              <span> Previous </span>\n            </button>\n\n            <button\n              disabled={!submitted}\n              onClick={() => props.history.push(\"/onboarding/identification\")}\n              className={\n                submitted\n                  ? \"bg-green-600 hover:bg-green-700 text-white text-xl font-light py-3 px-10 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center\"\n                  : \"bg-gray-400 text-white text-xl font-light py-3 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed\"\n              }\n              type=\"button\"\n            >\n              <span> Next </span>\n              <svg\n                className=\"ml-2 -mt-1\"\n                width=\"18\"\n                height=\"18\"\n                viewBox=\"0 0 18 18\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <g id=\"chevron_right_24px\">\n                  <path\n                    id=\"icon/navigation/chevron_right_24px\"\n                    d=\"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\"\n                    fill=\"white\"\n                  />\n                </g>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* <div className=\"absolute bottom-0 right-0 mr-10 -mt-8\">\n          <button\n            disabled={!submitted}\n            onClick={() => props.history.push(\"/onboarding/identification\")}\n            className=\"bg-gray-400 hover:bg-gray-600 text-white text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center\"\n            type=\"button\"\n          >\n            <span> Next </span>\n            <svg\n              className=\"ml-2 -mt-1\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <g id=\"chevron_right_24px\">\n                <path\n                  id=\"icon/navigation/chevron_right_24px\"\n                  d=\"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\"\n                  fill=\"white\"\n                />\n              </g>\n            </svg>\n          </button>\n        </div> */}\n      </div>\n    </>\n  );\n};\n\nexport default AccountDetails;\n"]},"metadata":{},"sourceType":"module"}