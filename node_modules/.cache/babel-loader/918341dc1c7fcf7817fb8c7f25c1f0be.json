{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from\"react\";import OnboardingSideBar from\"../components/OnboardingSideBar\";import{useForm}from\"react-hook-form\";import{useQuery}from\"react-query\";import useProfileStore from\"../stores/profileStore\";import useAuthStore from\"../stores/authStore\";import{getAccountFields,sendAccounts,validateAccounts,getProfileSection}from\"../clients/onboarding\";import{getPersonalDetails}from\"../clients/profile\";var AccountDetails=function AccountDetails(props){var pageType=\"profile\";if(props.location.pathname.includes(\"/onboarding\")){pageType=\"onboarding\";}var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),accountName=_useState2[0],setAccountName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),bankCode=_useState4[0],setBankCode=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),bankAccount=_useState6[0],setBankAccount=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),errorMsg=_useState8[0],setErrorMsg=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading2=_useState12[0],setLoading2=_useState12[1];var profile=useProfileStore(function(state){return state.data;});var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),hideValidate=_useState14[0],setHideValidate=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),banks=_useState16[0],setBanks=_useState16[1];var token=useAuthStore(function(state){return state.accessToken;});var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),readonlyValue=_useState18[0],setReadonlyValue=_useState18[1];var _useQuery=useQuery(\"account\",function(){return getAccountFields(token);}),isLoading=_useQuery.isLoading,error=_useQuery.error,data=_useQuery.data;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors,control=_useForm.control,reset=_useForm.reset;var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),submitted=_useState20[0],setSubmitted=_useState20[1];var getUpdatedProfile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var getProfile;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getPersonalDetails(token);case 2:getProfile=_context.sent;initializeProfileStore(getProfile.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getUpdatedProfile(){return _ref.apply(this,arguments);};}();useEffect(function(){getUpdatedProfile();},[]);var initializeProfileStore=useProfileStore(useCallback(function(state){return state.initialize;},[]));var initializeProfileSection=useProfileStore(useCallback(function(state){return state.initializeProfileSection;},[]));var _useQuery2=useQuery(\"AccountSections\",function(){return getProfileSection(token);}),isLoading2=_useQuery2.isLoading,error2=_useQuery2.error,accountDetails=_useQuery2.data,refetch=_useQuery2.refetch;useEffect(function(){accountDetails&&initializeProfileSection([].concat(accountDetails),accountDetails.every(function(loan){return loan.completed===true;}));},[accountDetails,initializeProfileSection]);useEffect(function(){var result=profile;// result: { firstName: 'test', lastName: 'test2' }\nreset(result);// asynchronously reset your form values\n},[reset]);useEffect(function(){var getBanks=data&&data.filter(function(val){return val.name===\"bank\";});setBanks(getBanks&&getBanks[0][\"options\"]);},[data]);if(isLoading||isLoading2){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"w-full m-auto px-8 relative\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/img/loading-gif.gif\",alt:\"\",className:\"w-1/8 m-auto py-20\"})));}var updateErrors=function updateErrors(errors){setErrorMsg(Object.values(errors).flat());};var toggleInput=function toggleInput(){setReadonlyValue(function(prev){return!prev;});};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values){var _yield$validateAccoun,message,_data,success,msg,_msg,_msg2,_data2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.prev=1;_context2.next=4;return validateAccounts(token,values);case 4:_yield$validateAccoun=_context2.sent;message=_yield$validateAccoun.message;_data=_yield$validateAccoun.data;success=_yield$validateAccoun.success;if(!(success===false)){_context2.next=14;break;}msg=[];msg.push(message);setErrorMsg(msg);setLoading(false);return _context2.abrupt(\"return\");case 14:setBankCode(values.bank_code);setBankAccount(values.account_number);// setSubmitted(true);\nsetLoading(false);setErrorMsg([]);setHideValidate(true);setAccountName(function(prev){return _data.account_name;});// let data = postData;\n_context2.next=38;break;case 22:_context2.prev=22;_context2.t0=_context2[\"catch\"](1);setLoading(false);if(!(_context2.t0&&_context2.t0.response.status==500)){_context2.next=30;break;}_msg=[];_msg.push(_context2.t0.response.data.message);setErrorMsg(_msg);return _context2.abrupt(\"return\");case 30:if(_context2.t0.response){_context2.next=35;break;}_msg2=[];_msg2.push(\"Network Error, Check Your Internet Connection\");setErrorMsg(_msg2);return _context2.abrupt(\"return\");case 35:_data2=_context2.t0.response.data;console.log(_data2.errors);_data2.errors&&updateErrors(_data2.errors);case 38:case\"end\":return _context2.stop();}}},_callee2,null,[[1,22]]);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();var validateAccount=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var values,postData,_data3,msg,_msg3,_data4;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:values={bank:bankCode,bank_account_no:bankAccount};setLoading2(true);_context3.prev=2;_context3.next=5;return sendAccounts(token,values);case 5:postData=_context3.sent;setSubmitted(true);_data3=postData.data;initializeProfileStore(_data3);setTimeout(function(){setSubmitted(false);setLoading(false);refetch();pageType===\"onboarding\"?props.history.push(\"/onboarding/documents\"):props.history.replace(\"/profile/account\");},2000);setErrorMsg([]);_context3.next=28;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](2);setLoading2(false);if(!(_context3.t0&&_context3.t0.response.status==500)){_context3.next=21;break;}msg=[];msg.push(_context3.t0.response.data.message);setErrorMsg(msg);return _context3.abrupt(\"return\");case 21:if(_context3.t0.response){_context3.next=26;break;}_msg3=[];_msg3.push(\"Network Error, Check Your Internet Connection\");setErrorMsg(_msg3);return _context3.abrupt(\"return\");case 26:_data4=_context3.t0.response.data;_data4.errors&&updateErrors(_data4.errors);case 28:case\"end\":return _context3.stop();}}},_callee3,null,[[2,13]]);}));return function validateAccount(){return _ref3.apply(this,arguments);};}();var changeValue=function changeValue(e){setBankAccount(e.target.value);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200\"},/*#__PURE__*/React.createElement(OnboardingSideBar,{name:\"account\"}),/*#__PURE__*/React.createElement(\"img\",{src:\"/img/checklists.svg\",alt:\"\",className:\"w-1/4 m-auto pt-16\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-7/12 w-full mb-6 px-8 relative\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"block text-gray-700 text-lg font-bold mb-2\"},\"ACCOUNT DETAILS\"),errorMsg.length?/*#__PURE__*/React.createElement(\"div\",{className:\"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-red-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",{style:{listStyleType:\"none\"}},errorMsg.map(function(error,i){return/*#__PURE__*/React.createElement(\"li\",{key:i},error);}))))):\"\",submitted?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-teal-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"font-bold\"},\"Sent successfully\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-sm\"},\"Account details created successfully\"))))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{className:\"w-full max-w-lg\",onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-wrap -mx-3 mb-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-full md:w-1/2 px-3 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"},\"Bank\"),/*#__PURE__*/React.createElement(\"div\",{className:\"relative\"},/*#__PURE__*/React.createElement(\"select\",{className:\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",id:\"grid-state\",name:\"bank_code\",ref:register({required:true})},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"- Select -\"),banks&&banks.map(function(option,key){return/*#__PURE__*/React.createElement(\"option\",{key:key,value:option.value},option.label);})),/*#__PURE__*/React.createElement(\"div\",{className:\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 \"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-4 w-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"w-full md:w-1/2 px-3 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"},\"Account No.\"),/*#__PURE__*/React.createElement(\"input\",{className:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",id:\"grid-last-name\",type:\"text\",ref:register({required:true}),name:\"account_number\",onChange:function onChange(e){return changeValue(e);}}),errors.account_number&&errors.account_number.type===\"required\"&&/*#__PURE__*/React.createElement(\"p\",{className:\"text-red-500 text-xs italic\"},\"Please fill out this field.\")),accountName?/*#__PURE__*/React.createElement(\"div\",{className:\"w-full md:w-4/5 px-3 mb-3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"},\"Account Name.\"),/*#__PURE__*/React.createElement(\"input\",{className:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",id:\"grid-last-name\",type:\"text\",disabled:true,value:accountName})):\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center justify-between mb-16\"},/*#__PURE__*/React.createElement(\"button\",{className:\"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-lg font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\",type:\"submit\"// onClick={() => validateAccount()}\n},/*#__PURE__*/React.createElement(\"span\",null,\" Validate Account \"),!loading?/*#__PURE__*/React.createElement(\"svg\",{className:\"ml-2\",width:\"18\",height:\"18\",viewBox:\"0 0 18 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"g\",{id:\"done_24px\"},/*#__PURE__*/React.createElement(\"path\",{id:\"icon/action/done_24px\",d:\"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\",fill:\"white\"}))):/*#__PURE__*/React.createElement(\"img\",{src:\"/img/25.gif\",className:\"ml-2\",alt:\"\"})),hideValidate?/*#__PURE__*/React.createElement(\"button\",{className:\"bg-blue-700 hover:bg-blue-800 text-white text-lg md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\",type:\"button\",onClick:function onClick(){return validateAccount();}},/*#__PURE__*/React.createElement(\"span\",null,\" Submit \"),!loading2?/*#__PURE__*/React.createElement(\"svg\",{className:\"ml-2\",width:\"18\",height:\"18\",viewBox:\"0 0 18 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"g\",{id:\"done_24px\"},/*#__PURE__*/React.createElement(\"path\",{id:\"icon/action/done_24px\",d:\"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\",fill:\"white\"}))):/*#__PURE__*/React.createElement(\"img\",{src:\"/img/25.gif\",className:\"ml-2\",alt:\"\"})):\"\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-end w-full pr-0 md:pr-4 mt-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inline-flex justify-end\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return pageType===\"onboarding\"?props.history.push(\"/onboarding/employment\"):props.history.push(\"/profile/employment\");},className:\"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center\",type:\"button\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"mr-2 -mt-1\",width:\"18\",height:\"18\",viewBox:\"0 0 18 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"g\",{id:\"chevron_right_24px\"},/*#__PURE__*/React.createElement(\"path\",{id:\"icon/navigation/chevron_left_24px\",d:\"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z\",fill:\"white\"}))),/*#__PURE__*/React.createElement(\"span\",null,\" Previous \")),/*#__PURE__*/React.createElement(\"button\",{disabled:!submitted,onClick:function onClick(){return pageType===\"onboarding\"?props.history.push(\"/onboarding/documents\"):props.history.push(\"/profile/documents\");},className:submitted?\"bg-green-600 hover:bg-green-700 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center\":\"bg-gray-400 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed\",type:\"button\"},/*#__PURE__*/React.createElement(\"span\",null,\" Next \"),/*#__PURE__*/React.createElement(\"svg\",{className:\"ml-2 -mt-1\",width:\"18\",height:\"18\",viewBox:\"0 0 18 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"g\",{id:\"chevron_right_24px\"},/*#__PURE__*/React.createElement(\"path\",{id:\"icon/navigation/chevron_right_24px\",d:\"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\",fill:\"white\"}))))))));};export default AccountDetails;","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/AccountDetails.tsx"],"names":["React","useState","useEffect","useCallback","OnboardingSideBar","useForm","useQuery","useProfileStore","useAuthStore","getAccountFields","sendAccounts","validateAccounts","getProfileSection","getPersonalDetails","AccountDetails","props","pageType","location","pathname","includes","accountName","setAccountName","bankCode","setBankCode","bankAccount","setBankAccount","errorMsg","setErrorMsg","loading","setLoading","loading2","setLoading2","profile","state","data","hideValidate","setHideValidate","banks","setBanks","token","accessToken","readonlyValue","setReadonlyValue","isLoading","error","register","handleSubmit","errors","control","reset","submitted","setSubmitted","getUpdatedProfile","getProfile","initializeProfileStore","initialize","initializeProfileSection","isLoading2","error2","accountDetails","refetch","concat","every","loan","completed","result","getBanks","filter","val","name","updateErrors","Object","values","flat","toggleInput","prev","onSubmit","message","success","msg","push","bank_code","account_number","account_name","response","status","console","log","validateAccount","bank","bank_account_no","postData","setTimeout","history","replace","changeValue","e","target","value","length","listStyleType","map","i","required","option","key","label","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport OnboardingSideBar from \"../components/OnboardingSideBar\";\nimport { useForm, Controller } from \"react-hook-form\";\n\nimport { useQuery } from \"react-query\";\n\nimport useProfileStore from \"../stores/profileStore\";\nimport useAuthStore from \"../stores/authStore\";\nimport {\n  getAccountFields,\n  sendAccounts,\n  validateAccounts,\n  getProfileSection,\n} from \"../clients/onboarding\";\nimport FormInput from \"../components/FormInput\";\nimport { getPersonalDetails } from \"../clients/profile\";\n\nconst AccountDetails = (props: any) => {\n  let pageType = \"profile\";\n\n  if (props.location.pathname.includes(\"/onboarding\")) {\n    pageType = \"onboarding\";\n  }\n\n  const [accountName, setAccountName] = useState(\"\");\n  const [bankCode, setBankCode] = useState(\"\");\n  const [bankAccount, setBankAccount] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loading2, setLoading2] = useState(false);\n  const profile = useProfileStore((state) => state.data);\n  const [hideValidate, setHideValidate] = useState(false);\n  const [banks, setBanks] = useState([] as any);\n  const token = useAuthStore((state) => state.accessToken);\n  const [readonlyValue, setReadonlyValue] = useState(false);\n  const { isLoading, error, data } = useQuery(\"account\", () =>\n    getAccountFields(token)\n  );\n\n  const { register, handleSubmit, errors, control, reset } = useForm();\n  const [submitted, setSubmitted] = useState(false);\n\n  const getUpdatedProfile = async () => {\n    let getProfile = await getPersonalDetails(token);\n    initializeProfileStore(getProfile.data);\n  };\n\n  useEffect(() => {\n    getUpdatedProfile();\n  }, []);\n\n  const initializeProfileStore = useProfileStore(\n    useCallback((state) => state.initialize, [])\n  );\n\n  const initializeProfileSection = useProfileStore(\n    useCallback((state) => state.initializeProfileSection, [])\n  );\n\n  const {\n    isLoading: isLoading2,\n    error: error2,\n    data: accountDetails,\n    refetch,\n  } = useQuery(\"AccountSections\", () => getProfileSection(token));\n\n  useEffect(() => {\n    accountDetails &&\n      initializeProfileSection(\n        [].concat(accountDetails),\n        accountDetails.every((loan) => loan.completed === true)\n      );\n  }, [accountDetails, initializeProfileSection]);\n\n  useEffect(() => {\n    const result = profile; // result: { firstName: 'test', lastName: 'test2' }\n    reset(result); // asynchronously reset your form values\n  }, [reset]);\n\n  useEffect(() => {\n    let getBanks = data && data.filter((val) => val.name === \"bank\");\n    setBanks(getBanks && getBanks[0][\"options\"]);\n  }, [data]);\n\n  if (isLoading || isLoading2) {\n    return (\n      <>\n        <div className=\"w-full m-auto px-8 relative\">\n          <img\n            src=\"/img/loading-gif.gif\"\n            alt=\"\"\n            className=\"w-1/8 m-auto py-20\"\n          />\n        </div>\n      </>\n    );\n  }\n\n  const updateErrors = (errors: []) => {\n    setErrorMsg(Object.values(errors).flat());\n  };\n\n  const toggleInput = () => {\n    setReadonlyValue((prev) => !prev);\n  };\n\n  const onSubmit = async (values: any) => {\n    setLoading(true);\n\n    try {\n      const { message, data, success } = await validateAccounts(token, values);\n      if (success === false) {\n        let msg = [] as any;\n        msg.push(message);\n        setErrorMsg(msg);\n        setLoading(false);\n        return;\n      }\n      setBankCode(values.bank_code);\n      setBankAccount(values.account_number);\n      // setSubmitted(true);\n      setLoading(false);\n      setErrorMsg([]);\n      setHideValidate(true);\n      setAccountName((prev) => data.account_name);\n      // let data = postData;\n    } catch (error) {\n      setLoading(false);\n      if (error && error.response.status == 500) {\n        let msg = [] as any;\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n      if (!error.response) {\n        let msg = [] as any;\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n      const {\n        response: { data },\n      } = error;\n      console.log(data.errors);\n      data.errors && updateErrors(data.errors);\n    }\n  };\n\n  const validateAccount = async () => {\n    let values = {\n      bank: bankCode,\n      bank_account_no: bankAccount,\n    };\n    setLoading2(true);\n    try {\n      let postData = await sendAccounts(token, values);\n      setSubmitted(true);\n      const { data } = postData;\n      initializeProfileStore(data);\n      setTimeout(function () {\n        setSubmitted(false);\n        setLoading(false);\n        refetch();\n        pageType === \"onboarding\"\n          ? props.history.push(\"/onboarding/documents\")\n          : props.history.replace(\"/profile/account\");\n      }, 2000);\n      setErrorMsg([]);\n    } catch (error) {\n      setLoading2(false);\n      if (error && error.response.status == 500) {\n        let msg = [] as any;\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n      if (!error.response) {\n        let msg = [] as any;\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n      const {\n        response: { data },\n      } = error;\n      data.errors && updateErrors(data.errors);\n    }\n  };\n\n  const changeValue = (e) => {\n    setBankAccount(e.target.value);\n  };\n\n  return (\n    <>\n      <div className=\"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200\">\n        <OnboardingSideBar name=\"account\" />\n        <img src=\"/img/checklists.svg\" alt=\"\" className=\"w-1/4 m-auto pt-16\" />\n      </div>\n\n      <div className=\"md:w-7/12 w-full mb-6 px-8 relative\">\n        <h1 className=\"block text-gray-700 text-lg font-bold mb-2\">\n          ACCOUNT DETAILS\n        </h1>\n        {errorMsg.length ? (\n          <div\n            className=\"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\"\n            role=\"alert\"\n          >\n            <div className=\"flex\">\n              <div className=\"py-1\">\n                <svg\n                  className=\"fill-current h-6 w-6 text-red-500 mr-4\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                </svg>\n              </div>\n              <div>\n                {/* <p className=\"font-bold\">Sent successfully</p> */}\n                {/* <p className=\"text-sm\">{errorMsg}</p> */}\n                <ul style={{ listStyleType: \"none\" }}>\n                  {errorMsg.map((error, i) => (\n                    <li key={i}>{error}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        ) : (\n          \"\"\n        )}\n        {/* <h3 className=\"text-gray-600 text-sm\"> We hate to ask, but regulations mandate us to. <br/> Your BVN is safe with us!</h3> */}\n        {submitted ? (\n          <>\n            <div\n              className=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\"\n              role=\"alert\"\n            >\n              <div className=\"flex\">\n                <div className=\"py-1\">\n                  <svg\n                    className=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 20 20\"\n                  >\n                    <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"font-bold\">Sent successfully</p>\n                  <p className=\"text-sm\">\n                    Account details created successfully\n                  </p>\n                </div>\n              </div>\n            </div>\n          </>\n        ) : (\n          <>\n            <form className=\"w-full max-w-lg\" onSubmit={handleSubmit(onSubmit)}>\n              <div className=\"flex flex-wrap -mx-3 mb-6\">\n                {/* {data &&\n                  data.map((data, key) => {\n                    return (\n                      <FormInput\n                        key={key}\n                        label={data.label}\n                        name={data.name}\n                        required={data.required}\n                        errors={errors}\n                        register={register}\n                        type={data.type}\n                        options={data.options}\n                        value={profile[data.name]}\n                        Controller\n                        control\n                        readonly={data.readonly}\n                        readonlyValue={readonlyValue}\n                        toggleInput={toggleInput}\n                      />\n                    );\n                  })} */}\n                <div className=\"w-full md:w-1/2 px-3 mb-3\">\n                  <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                    Bank\n                  </label>\n                  {/* <input\n                    className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"grid-last-name\"\n                    type=\"text\"\n                    ref={register({ required: true })}\n                    name=\"bank\"\n                  />\n                  {errors.bank && errors.bank.type === \"required\" && (\n                    <p className=\"text-red-500 text-xs italic\">\n                      Please fill out this field.\n                    </p>\n                  )} */}\n                  <div className=\"relative\">\n                    <select\n                      className=\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                      id=\"grid-state\"\n                      name=\"bank_code\"\n                      ref={register({ required: true })}\n                    >\n                      <option value=\"\">- Select -</option>\n                      {banks &&\n                        banks.map((option, key) => {\n                          return (\n                            <option key={key} value={option.value}>\n                              {option.label}\n                            </option>\n                          );\n                        })}\n                    </select>\n                    <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 \">\n                      <svg\n                        className=\"fill-current h-4 w-4\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 20 20\"\n                      >\n                        <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n                      </svg>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"w-full md:w-1/2 px-3 mb-3\">\n                  <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                    Account No.\n                  </label>\n                  <input\n                    className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                    id=\"grid-last-name\"\n                    type=\"text\"\n                    ref={register({ required: true })}\n                    name=\"account_number\"\n                    onChange={(e) => changeValue(e)}\n                  />\n                  {errors.account_number &&\n                    errors.account_number.type === \"required\" && (\n                      <p className=\"text-red-500 text-xs italic\">\n                        Please fill out this field.\n                      </p>\n                    )}\n                </div>\n                {accountName ? (\n                  <div className=\"w-full md:w-4/5 px-3 mb-3\">\n                    <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                      Account Name.\n                    </label>\n                    <input\n                      className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                      id=\"grid-last-name\"\n                      type=\"text\"\n                      disabled\n                      value={accountName}\n                    />\n                  </div>\n                ) : (\n                  \"\"\n                )}\n              </div>\n\n              <div className=\"flex items-center justify-between mb-16\">\n                <button\n                  className=\"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-lg font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\"\n                  type=\"submit\"\n                  // onClick={() => validateAccount()}\n                >\n                  <span> Validate Account </span>\n                  {!loading ? (\n                    <svg\n                      className=\"ml-2\"\n                      width=\"18\"\n                      height=\"18\"\n                      viewBox=\"0 0 18 18\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <g id=\"done_24px\">\n                        <path\n                          id=\"icon/action/done_24px\"\n                          d=\"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\"\n                          fill=\"white\"\n                        />\n                      </g>\n                    </svg>\n                  ) : (\n                    <img src=\"/img/25.gif\" className=\"ml-2\" alt=\"\" />\n                  )}\n                </button>\n                {hideValidate ? (\n                  <button\n                    className=\"bg-blue-700 hover:bg-blue-800 text-white text-lg md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\"\n                    type=\"button\"\n                    onClick={() => validateAccount()}\n                  >\n                    <span> Submit </span>\n                    {!loading2 ? (\n                      <svg\n                        className=\"ml-2\"\n                        width=\"18\"\n                        height=\"18\"\n                        viewBox=\"0 0 18 18\"\n                        fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                      >\n                        <g id=\"done_24px\">\n                          <path\n                            id=\"icon/action/done_24px\"\n                            d=\"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\"\n                            fill=\"white\"\n                          />\n                        </g>\n                      </svg>\n                    ) : (\n                      <img src=\"/img/25.gif\" className=\"ml-2\" alt=\"\" />\n                    )}\n                  </button>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </form>\n          </>\n        )}\n\n        <div className=\"flex justify-end w-full pr-0 md:pr-4 mt-10\">\n          <div className=\"inline-flex justify-end\">\n            <button\n              onClick={() =>\n                pageType === \"onboarding\"\n                  ? props.history.push(\"/onboarding/employment\")\n                  : props.history.push(\"/profile/employment\")\n              }\n              className=\"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center\"\n              type=\"button\"\n            >\n              <svg\n                className=\"mr-2 -mt-1\"\n                width=\"18\"\n                height=\"18\"\n                viewBox=\"0 0 18 18\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <g id=\"chevron_right_24px\">\n                  <path\n                    id=\"icon/navigation/chevron_left_24px\"\n                    d=\"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z\"\n                    fill=\"white\"\n                  />\n                </g>\n              </svg>\n              <span> Previous </span>\n            </button>\n\n            <button\n              disabled={!submitted}\n              onClick={() =>\n                pageType === \"onboarding\"\n                  ? props.history.push(\"/onboarding/documents\")\n                  : props.history.push(\"/profile/documents\")\n              }\n              className={\n                submitted\n                  ? \"bg-green-600 hover:bg-green-700 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center\"\n                  : \"bg-gray-400 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed\"\n              }\n              type=\"button\"\n            >\n              <span> Next </span>\n              <svg\n                className=\"ml-2 -mt-1\"\n                width=\"18\"\n                height=\"18\"\n                viewBox=\"0 0 18 18\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <g id=\"chevron_right_24px\">\n                  <path\n                    id=\"icon/navigation/chevron_right_24px\"\n                    d=\"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\"\n                    fill=\"white\"\n                  />\n                </g>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* <div className=\"absolute bottom-0 right-0 mr-10 -mt-8\">\n          <button\n            disabled={!submitted}\n            onClick={() => props.history.push(\"/onboarding/identification\")}\n            className=\"bg-gray-400 hover:bg-gray-600 text-white text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center\"\n            type=\"button\"\n          >\n            <span> Next </span>\n            <svg\n              className=\"ml-2 -mt-1\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <g id=\"chevron_right_24px\">\n                <path\n                  id=\"icon/navigation/chevron_right_24px\"\n                  d=\"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\"\n                  fill=\"white\"\n                />\n              </g>\n            </svg>\n          </button>\n        </div> */}\n      </div>\n    </>\n  );\n};\n\nexport default AccountDetails;\n"]},"metadata":{},"sourceType":"module"}