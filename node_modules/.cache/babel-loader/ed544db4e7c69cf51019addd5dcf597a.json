{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/react app/agilecreditportal/src/components/LoanSchedule/DecliningBalanceEqualPrincipal.tsx\";\nimport React, { useState, useEffect, useCallback } from 'react';\nexport default function DecliningBalanceEqualPrincipal(props) {\n  let principal = parseFloat(props.amount);\n  let rate = parseFloat(props.rate);\n  let tenor = parseFloat(props.tenor); // Re-storing principal varialble as a static value for later calculation\n\n  const staticPrincipal = principal;\n  const [schedule, setSchedule] = useState([]);\n  let interestRate = rate / 100;\n  let monthly = interestRate / 12;\n  const calculateSchedule = useCallback(() => {\n    function fixVal(value, numberOfCharacters, numberOfDecimals, padCharacter) {\n      var i, stringObject, stringLength, numberToPad;\n      value = value * Math.pow(10, numberOfDecimals);\n      value = Math.round(value);\n      stringObject = new String(value);\n      stringLength = stringObject.length; // get length of string\n\n      while (stringLength < numberOfDecimals) {\n        stringObject = \"0\" + stringObject; // add a leading zero\n\n        stringLength = stringLength + 1;\n      }\n\n      if (numberOfDecimals > 0) {\n        stringObject = stringObject.substring(0, stringLength - numberOfDecimals) + \".\" + stringObject.substring(stringLength - numberOfDecimals, stringLength);\n      }\n\n      if (stringObject.length < numberOfCharacters && numberOfCharacters > 0) {\n        numberToPad = numberOfCharacters - stringObject.length;\n\n        for (i = 0; i < numberToPad; i = i + 1) {\n          stringObject = padCharacter + stringObject;\n        }\n      }\n\n      return stringObject;\n    }\n\n    let monthlyPrincipal = principal / tenor;\n    let totalInterest = 0;\n    let i = 1;\n    let data = [];\n\n    while (i <= tenor) {\n      let monthlyInterest = monthly * principal;\n      let repayment = monthlyPrincipal + monthlyInterest;\n      let newBalance = principal - monthlyPrincipal;\n      let innerData = {};\n      innerData = {\n        \"i\": i,\n        \"repayment\": fixVal(repayment, 0, 2, ' '),\n        \"interest\": fixVal(monthlyInterest, 0, 2, ' '),\n        \"principal\": fixVal(monthlyPrincipal, 0, 2, ' '),\n        \"balance\": fixVal(newBalance, 0, 2, ' ')\n      };\n      data.push(innerData);\n      principal = newBalance; // Get the total interest to be paid\n\n      totalInterest += monthlyInterest;\n      i++;\n    } // Get the total repayment to be paid\n\n\n    let totalRepayment = staticPrincipal + totalInterest; // Append total interest and total repayment to be paid to the data array for display on the page\n\n    data.push(totalInterest, totalRepayment);\n    setSchedule(data);\n  }, [monthly, principal, tenor]);\n  useEffect(() => {\n    calculateSchedule();\n  }, [calculateSchedule]);\n  const totalInterest = schedule[schedule.length - 2];\n  const totalRepayment = schedule[schedule.length - 1];\n  const filteredSchedule = schedule.slice(0, schedule.length - 2);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-gray-700 text-md md:text-xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \" Total Interest: \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 83\n    }\n  }, \"\\u20A6\", Number(totalInterest).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  }), \" \")), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-gray-700 text-md md:text-xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \" Total Repayment: \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-bold text-green-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 84\n    }\n  }, \"\\u20A6\", Number(totalRepayment).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  }), \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-auto  fade-in mt-5 mb-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inline-block min-w-full shadow rounded-lg overflow-hidden\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"min-w-full w-full leading-normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 33\n    }\n  }, \"S/N\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 33\n    }\n  }, \"Principal (\\u20A6)\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 33\n    }\n  }, \"Interest (\\u20A6)\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, \"Repayment (\\u20A6)\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 33\n    }\n  }, \"Balance (\\u20A6)\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    className: \"flex flex-col items-center overflow-y-scroll w-full schedule-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, filteredSchedule.map(s => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 41\n    }\n  }, s.i, \".\"), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 41\n    }\n  }, Number(s.principal).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 41\n    }\n  }, Number(s.interest).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-green-600 font-bold text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 41\n    }\n  }, Number(s.repayment).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 41\n    }\n  }, Number(s.balance).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  }))))))))));\n}","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/components/LoanSchedule/DecliningBalanceEqualPrincipal.tsx"],"names":["React","useState","useEffect","useCallback","DecliningBalanceEqualPrincipal","props","principal","parseFloat","amount","rate","tenor","staticPrincipal","schedule","setSchedule","interestRate","monthly","calculateSchedule","fixVal","value","numberOfCharacters","numberOfDecimals","padCharacter","i","stringObject","stringLength","numberToPad","Math","pow","round","String","length","substring","monthlyPrincipal","totalInterest","data","monthlyInterest","repayment","newBalance","innerData","push","totalRepayment","filteredSchedule","slice","Number","toLocaleString","undefined","maximumFractionDigits","map","s","interest","balance"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\n\n\nexport default function DecliningBalanceEqualPrincipal(props: any) {\n\n    let principal = parseFloat(props.amount);\n    let rate = parseFloat(props.rate);\n    let tenor = parseFloat(props.tenor);\n    \n    // Re-storing principal varialble as a static value for later calculation\n    const staticPrincipal = principal; \n\n    const [schedule, setSchedule] = useState<any[]>([]);\n\n    let interestRate=rate/100;\n    let monthly=interestRate/12;\n\n    const calculateSchedule = useCallback(() => {\n\n        function fixVal(value,numberOfCharacters,numberOfDecimals,padCharacter) { \n            var i, stringObject, stringLength, numberToPad;            \n        \n            value=value*Math.pow(10,numberOfDecimals);                 \n            value=Math.round(value);                                   \n        \n            stringObject=new String(value);                            \n            stringLength=stringObject.length;                          // get length of string\n            while(stringLength<numberOfDecimals) {                     \n                stringObject=\"0\"+stringObject;                     // add a leading zero\n                stringLength=stringLength+1;                       \n            }\n        \n            if(numberOfDecimals>0) {\t\t\t           \n                stringObject=stringObject.substring(0,stringLength-numberOfDecimals)+\".\"+\n                stringObject.substring(stringLength-numberOfDecimals,stringLength);\n            }\n        \n            if (stringObject.length<numberOfCharacters && numberOfCharacters>0) {\n                numberToPad=numberOfCharacters-stringObject.length;      \n                for (i=0; i<numberToPad; i=i+1) {\n                    stringObject=padCharacter+stringObject;\n                }\n            }\n        \n            return stringObject;                                       \n        }\n    \n        let monthlyPrincipal=principal/tenor;\n        let totalInterest  = 0;\n        \n        let i =1;\n        let data: any[] = [];\n        while (i <= tenor) {\n\n            let monthlyInterest=monthly*principal;\n            let repayment = monthlyPrincipal + monthlyInterest \n            let newBalance = principal - monthlyPrincipal\n            \n            let innerData = {};\n\n            innerData= {\n                \"i\" : i,\n                \"repayment\": fixVal(repayment,0,2,' '),\n                \"interest\": fixVal(monthlyInterest,0,2,' '),\n                \"principal\": fixVal(monthlyPrincipal,0,2,' '),\n                \"balance\": fixVal(newBalance,0,2,' ')\n            };\n            data.push(innerData);\n\n            principal = newBalance;\n            // Get the total interest to be paid\n            totalInterest  += monthlyInterest;\n            i++;\n        }\n\n        // Get the total repayment to be paid\n        let totalRepayment = staticPrincipal + totalInterest\n\n\n        // Append total interest and total repayment to be paid to the data array for display on the page\n        data.push(totalInterest, totalRepayment);\n\n        setSchedule(data);\n        \n\n    }, [monthly, principal, tenor]);\n\n    useEffect(() => {\n        calculateSchedule();\n    }, [calculateSchedule])\n    \n    const totalInterest = schedule[schedule.length-2];\n    const totalRepayment = schedule[schedule.length-1];\n    const filteredSchedule = schedule.slice(0, schedule.length-2);\n\n\n    return (\n        <>  \n            <div>\n                <h3 className=\"text-gray-700 text-md md:text-xl\"> Total Interest: <span className=\"font-bold\">₦{Number(totalInterest).toLocaleString(undefined, {maximumFractionDigits: 2})} </span></h3>\n                <h3 className=\"text-gray-700 text-md md:text-xl\"> Total Repayment: <span className=\"font-bold text-green-700\">₦{Number(totalRepayment).toLocaleString(undefined, {maximumFractionDigits: 2})} </span></h3>\n            </div>\n            <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-auto  fade-in mt-5 mb-10\">\n                <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\n                    <table className=\"min-w-full w-full leading-normal\">\n                        <thead className=\"flex w-full\">\n                            <tr className=\"flex w-full\">\n                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">S/N</th>\n                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">Principal (₦)</th>\n                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">Interest (₦)</th>\n                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">Repayment (₦)</th>\n                                <th className=\"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center\">Balance (₦)</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"flex flex-col items-center overflow-y-scroll w-full schedule-table\">\n                            {filteredSchedule.map((s) => (\n                                <>\n                                    <tr className=\"flex w-full\">\n                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700\">{s.i}.</td>\n                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center\">{Number(s.principal).toLocaleString(undefined, {maximumFractionDigits: 2})}</td>\n                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center\">{Number(s.interest).toLocaleString(undefined, {maximumFractionDigits: 2})}</td>\n                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-green-600 font-bold text-center\">{Number(s.repayment).toLocaleString(undefined, {maximumFractionDigits: 2})}</td>\n                                        <td className=\"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center\">{Number(s.balance).toLocaleString(undefined, {maximumFractionDigits: 2})}</td>\n                                    </tr>\n                                </>\n                            ))}\n                        </tbody>\n                    </table>  \n                </div>\n            </div>\n        </>\n    ) \n}"]},"metadata":{},"sourceType":"module"}