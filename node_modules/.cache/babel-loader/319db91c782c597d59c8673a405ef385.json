{"ast":null,"code":"import create from\"zustand\";var useAuthStore=create(function(set){return{authenticated:false,accessToken:null,currentUser:null,logout:function logout(){},initialize:function initialize(keycloak){set({logout:keycloak.logout,authenticated:keycloak.authenticated,accessToken:keycloak.token});keycloak.loadUserProfile().then(function(profile){set({currentUser:profile});}).catch(function(_){});}};});export default useAuthStore;","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/stores/authStore.ts"],"names":["create","useAuthStore","set","authenticated","accessToken","currentUser","logout","initialize","keycloak","token","loadUserProfile","then","profile","catch","_"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAwC,SAAxC,CAUA,GAAMC,CAAAA,YAAiC,CAAGD,MAAM,CAAC,SAACE,GAAD,QAAU,CACzDC,aAAa,CAAE,KAD0C,CAEzDC,WAAW,CAAE,IAF4C,CAGzDC,WAAW,CAAE,IAH4C,CAIzDC,MAAM,CAAE,iBAAM,CAAE,CAJyC,CAKzDC,UALyD,qBAK9CC,QAL8C,CAKT,CAC9CN,GAAG,CAAC,CACFI,MAAM,CAAEE,QAAQ,CAACF,MADf,CAEFH,aAAa,CAAEK,QAAQ,CAACL,aAFtB,CAGFC,WAAW,CAAEI,QAAQ,CAACC,KAHpB,CAAD,CAAH,CAMAD,QAAQ,CACLE,eADH,GAEGC,IAFH,CAEQ,SAACC,OAAD,CAAa,CACjBV,GAAG,CAAC,CAAEG,WAAW,CAAEO,OAAf,CAAD,CAAH,CACD,CAJH,EAKGC,KALH,CAKS,SAACC,CAAD,CAAO,CAAE,CALlB,EAMD,CAlBwD,CAAV,EAAD,CAAhD,CAqBA,cAAeb,CAAAA,YAAf","sourcesContent":["import create, { UseStore, State } from \"zustand\";\n\ninterface AuthState extends State {\n  authenticated: boolean;\n  accessToken: null | string;\n  currentUser: null | Keycloak.KeycloakProfile;\n  initialize: (keycloak: Keycloak.KeycloakInstance) => void;\n  logout: () => void;\n}\n\nconst useAuthStore: UseStore<AuthState> = create((set) => ({\n  authenticated: false,\n  accessToken: null,\n  currentUser: null,\n  logout: () => {},\n  initialize(keycloak: Keycloak.KeycloakInstance) {\n    set({\n      logout: keycloak.logout,\n      authenticated: keycloak.authenticated,\n      accessToken: keycloak.token,\n    });\n\n    keycloak\n      .loadUserProfile()\n      .then((profile) => {\n        set({ currentUser: profile });\n      })\n      .catch((_) => {});\n  },\n}));\n\nexport default useAuthStore;\n"]},"metadata":{},"sourceType":"module"}