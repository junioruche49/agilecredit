{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/react app/agilecreditportal/src/pages/LoanDetails.tsx\";\nimport React from \"react\";\nimport { useTable } from \"react-table\";\nimport { useParams } from \"react-router-dom\";\nimport { getLoan } from \"../clients/loan\";\nimport { useQuery } from \"react-query\";\nimport useAuthStore from \"../stores/authStore\";\nimport { withRouter } from \"react-router\"; // import 'bootstrap/dist/css/bootstrap.css';\n\nfunction LoanDetails(props) {\n  const token = useAuthStore(state => state.accessToken);\n  let {\n    loanId\n  } = useParams();\n  const {\n    isLoading,\n    error,\n    data: loan\n  } = useQuery(\"loanDetail\", () => getLoan(token, loanId));\n  let loanData = loan && loan.data;\n  let loanDatas = [];\n  loan && loanData[\"schedules\"].map(item => {\n    loanDatas.push({\n      col1: item.id,\n      col2: /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-green-600 font-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }\n      }, \"\\u20A6\", Number(item.repayment).toLocaleString(undefined, {\n        maximumFractionDigits: 2\n      })),\n      col3: new Date(item.schedule_date).toDateString(),\n      col4: item.payment_status\n    });\n  });\n  const data = React.useMemo(() => [// {\n  ], []);\n  const columns = React.useMemo(() => [{\n    Header: \"S/N\",\n    accessor: \"col1\" // accessor is the \"key\" in the data\n\n  }, {\n    Header: \"Amount\",\n    accessor: \"col2\"\n  }, {\n    Header: \"Date\",\n    accessor: \"col3\"\n  }, {\n    Header: \"Status\",\n    accessor: \"col4\"\n  }], []);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow\n  } = useTable({\n    columns: columns,\n    data: loanDatas\n  });\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"w-full m-auto px-8 relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"/img/loading-gif.gif\",\n      alt: \"\",\n      className: \"w-1/8 m-auto py-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    })));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"main\", {\n    className: \"md:pl-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center mt-10 lg:mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Loan Details\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 bg-white flex flex-row rounded py-6 shadow-lg border-b-4 border-blue-700 md:border-none pl-4 mb-20 m-auto md:m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/4  border-r-8 border-blue-100 align-middle justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-blue-600 text-4xl font-semibold py-5 pl-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, loanData.loan_id)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/4 flex-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-row text-blue-600 text-lg mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/2 text-right mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, \"Amount: \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/2 text-left font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, \"\\u20A6\", Number(loanData.loan_amount).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-row text-blue-600 text-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/2 text-right mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }\n  }, \"Duration\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/2 text-left font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }, loanData.number_of_payments, \" months\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-1/4 flex flex-col \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: 8\n    },\n    className: \"text-center w-1/3 float-right text-teal-600 bg-teal-100 py-2  rounded-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }, loanData.status)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-row text-blue-600 text-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"w-1/2 text-right mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, \"Repayment\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"w-1/2 text-right font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, \"\\u20A6\", loanData[\"schedules\"].length ? Number(loanData.loan_amount).toLocaleString(undefined, {\n    maximumFractionDigits: 2\n  }) : \"\", \"N\", loanData[\"schedules\"].length ? parseFloat(loanData[\"schedules\"][0][\"repayment\"]).toFixed(2) : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      alignItems: \"center\"\n    },\n    className: \"w-1/4  flex justify-end align-middle \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => props.history.push(\"/pay/\" + loanId),\n    className: \"bg-green-700 text-white inline-flex -mr-6 px-6 py-3 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, \"Make Payment\"), /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"mt-1\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"chevron_right_24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"icon/navigation/chevron_right_24px\",\n    d: \"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\",\n    fill: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 23\n    }\n  })))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex items-center mt-10 lg:mt-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, \"Repayment Log\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none pl-4 mb-20 m-auto md:m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", Object.assign({}, getTableProps(), {\n    className: \"table-auto w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, headerGroups.map(headerGroup => /*#__PURE__*/React.createElement(\"tr\", Object.assign({}, headerGroup.getHeaderGroupProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }), headerGroup.headers.map(column => /*#__PURE__*/React.createElement(\"th\", Object.assign({}, column.getHeaderProps(), {\n    className: \"px-4 py-3 text-xs font-semibold text-gray-700 border-b w-48\" //   style={{\n    //     borderBottom: \"solid 3px red\",\n    //     background: \"aliceblue\",\n    //     color: \"black\",\n    //     fontWeight: \"bold\",\n    //   }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }\n  }), column.render(\"Header\")))))), /*#__PURE__*/React.createElement(\"tbody\", Object.assign({}, getTableBodyProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }), rows.map(row => {\n    prepareRow(row);\n    return /*#__PURE__*/React.createElement(\"tr\", Object.assign({}, row.getRowProps(), {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 23\n      }\n    }), row.cells.map(cell => {\n      return /*#__PURE__*/React.createElement(\"td\", Object.assign({}, cell.getCellProps(), {\n        style: {\n          padding: \"10px\",\n          fontSize: 16,\n          textAlign: \"center\",\n          paddingBottom: 40\n        },\n        className: \"border-b \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 29\n        }\n      }), cell.render(\"Cell\"));\n    }));\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-11/12 mt-8 hidden md:block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default withRouter(LoanDetails);","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/LoanDetails.tsx"],"names":["React","useTable","useParams","getLoan","useQuery","useAuthStore","withRouter","LoanDetails","props","token","state","accessToken","loanId","isLoading","error","data","loan","loanData","loanDatas","map","item","push","col1","id","col2","Number","repayment","toLocaleString","undefined","maximumFractionDigits","col3","Date","schedule_date","toDateString","col4","payment_status","useMemo","columns","Header","accessor","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","loan_id","loan_amount","number_of_payments","fontSize","status","length","parseFloat","toFixed","alignItems","history","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","cells","cell","getCellProps","padding","textAlign","paddingBottom"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport { useTable } from \"react-table\";\nimport ReactDatatable from \"@ashvin27/react-datatable\";\nimport { useParams } from \"react-router-dom\";\nimport { getLoan } from \"../clients/loan\";\nimport { useQuery } from \"react-query\";\nimport useAuthStore from \"../stores/authStore\";\nimport { withRouter } from \"react-router\";\n\n// import 'bootstrap/dist/css/bootstrap.css';\n\nfunction LoanDetails(props) {\n  const token = useAuthStore((state) => state.accessToken);\n\n  let { loanId } = useParams();\n  const { isLoading, error, data: loan } = useQuery(\"loanDetail\", () =>\n    getLoan(token, loanId)\n  );\n\n  let loanData = loan && loan.data;\n  let loanDatas = [] as any;\n\n  loan &&\n    loanData[\"schedules\"].map((item) => {\n      loanDatas.push({\n        col1: item.id,\n        col2: (\n          <span className=\"text-green-600 font-bold\">\n            ₦\n            {Number(item.repayment).toLocaleString(undefined, {\n              maximumFractionDigits: 2,\n            })}\n          </span>\n        ),\n        col3: new Date(item.schedule_date).toDateString(),\n        col4: item.payment_status,\n      });\n    });\n\n  const data = React.useMemo(\n    () => [\n      // {\n    ],\n    []\n  );\n\n  const columns = React.useMemo(\n    () => [\n      {\n        Header: \"S/N\",\n        accessor: \"col1\", // accessor is the \"key\" in the data\n      },\n      {\n        Header: \"Amount\",\n        accessor: \"col2\",\n      },\n      {\n        Header: \"Date\",\n        accessor: \"col3\",\n      },\n      {\n        Header: \"Status\",\n        accessor: \"col4\",\n      },\n    ],\n    []\n  );\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n  } = useTable({ columns: columns, data: loanDatas });\n\n  if (isLoading) {\n    return (\n      <>\n        <div className=\"w-full m-auto px-8 relative\">\n          <img\n            src=\"/img/loading-gif.gif\"\n            alt=\"\"\n            className=\"w-1/8 m-auto py-20\"\n          />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <main className=\"md:pl-12\">\n        <div className=\"flex \">\n          <div className=\"w-full \">\n            <div className=\"flex items-center mt-10 lg:mt-0\">\n              <div className=\"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\"></div>\n              <h4 className=\"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\">\n                Loan Details\n              </h4>\n            </div>\n            <br />\n            <div className=\"w-11/12 bg-white flex flex-row rounded py-6 shadow-lg border-b-4 border-blue-700 md:border-none pl-4 mb-20 m-auto md:m-0\">\n              <div className=\"w-1/4  border-r-8 border-blue-100 align-middle justify-center\">\n                <h2 className=\"text-blue-600 text-4xl font-semibold py-5 pl-3\">\n                  {loanData.loan_id}\n                </h2>\n              </div>\n              <div className=\"w-1/4 flex-row\">\n                <div className=\"flex flex-row text-blue-600 text-lg mb-4\">\n                  <div className=\"w-1/2 text-right mr-5\">Amount: </div>\n                  <div className=\"w-1/2 text-left font-bold\">\n                    ₦\n                    {Number(loanData.loan_amount).toLocaleString(undefined, {\n                      maximumFractionDigits: 2,\n                    })}\n                  </div>\n                </div>\n                <div className=\"flex flex-row text-blue-600 text-lg\">\n                  <div className=\"w-1/2 text-right mr-5\">Duration</div>\n                  <div className=\"w-1/2 text-left font-bold\">\n                    {loanData.number_of_payments} months\n                  </div>\n                </div>\n              </div>\n              <div className=\"w-1/4 flex flex-col \">\n                <div className=\"w-full mb-4\">\n                  <p\n                    style={{ fontSize: 8 }}\n                    className=\"text-center w-1/3 float-right text-teal-600 bg-teal-100 py-2  rounded-full\"\n                  >\n                    {loanData.status}\n                  </p>\n                </div>\n\n                <div className=\"flex flex-row text-blue-600 text-lg\">\n                  <p className=\"w-1/2 text-right mr-5\">Repayment</p>\n                  <p className=\"w-1/2 text-right font-bold\">\n                    ₦\n                    {loanData[\"schedules\"].length\n                      ? Number(loanData.loan_amount).toLocaleString(undefined, {\n                          maximumFractionDigits: 2,\n                        })\n                      : \"\"}\n                    N\n                    {loanData[\"schedules\"].length\n                      ? parseFloat(\n                          loanData[\"schedules\"][0][\"repayment\"]\n                        ).toFixed(2)\n                      : \"\"}\n                  </p>\n                </div>\n              </div>\n              <div\n                style={{ alignItems: \"center\" }}\n                className=\"w-1/4  flex justify-end align-middle \"\n              >\n                <button\n                  onClick={() => props.history.push(\"/pay/\" + loanId)}\n                  className=\"bg-green-700 text-white inline-flex -mr-6 px-6 py-3 rounded\"\n                >\n                  <span className=\"text-lg\">Make Payment</span>\n                  <svg\n                    className=\"mt-1\"\n                    width=\"14\"\n                    height=\"14\"\n                    viewBox=\"0 0 18 18\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <g id=\"chevron_right_24px\">\n                      <path\n                        id=\"icon/navigation/chevron_right_24px\"\n                        d=\"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\"\n                        fill=\"white\"\n                      />\n                    </g>\n                  </svg>\n                </button>\n              </div>\n            </div>\n            <br />\n            <br />\n            <div className=\"flex items-center mt-10 lg:mt-0\">\n              <div className=\"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block\"></div>\n              <h4 className=\"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg\">\n                Repayment Log\n              </h4>\n            </div>\n            <br />\n            <div className=\"w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none pl-4 mb-20 m-auto md:m-0\">\n              <table {...getTableProps()} className=\"table-auto w-full\">\n                <thead>\n                  {headerGroups.map((headerGroup) => (\n                    <tr {...headerGroup.getHeaderGroupProps()}>\n                      {headerGroup.headers.map((column) => (\n                        <th\n                          {...column.getHeaderProps()}\n                          className=\"px-4 py-3 text-xs font-semibold text-gray-700 border-b w-48\"\n                          //   style={{\n                          //     borderBottom: \"solid 3px red\",\n                          //     background: \"aliceblue\",\n                          //     color: \"black\",\n                          //     fontWeight: \"bold\",\n                          //   }}\n                        >\n                          {column.render(\"Header\")}\n                        </th>\n                      ))}\n                    </tr>\n                  ))}\n                </thead>\n                <tbody {...getTableBodyProps()}>\n                  {rows.map((row) => {\n                    prepareRow(row);\n                    return (\n                      <tr {...row.getRowProps()}>\n                        {row.cells.map((cell) => {\n                          return (\n                            <td\n                              {...cell.getCellProps()}\n                              style={{\n                                padding: \"10px\",\n                                fontSize: 16,\n                                textAlign: \"center\",\n                                paddingBottom: 40,\n                              }}\n                              className=\"border-b \"\n                            >\n                              {cell.render(\"Cell\")}\n                            </td>\n                          );\n                        })}\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n            <div className=\"w-11/12 mt-8 hidden md:block\">\n              <hr className=\"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto\"></hr>\n            </div>\n          </div>\n        </div>\n        <br />\n      </main>\n    </>\n  );\n}\n\nexport default withRouter(LoanDetails);\n"]},"metadata":{},"sourceType":"module"}