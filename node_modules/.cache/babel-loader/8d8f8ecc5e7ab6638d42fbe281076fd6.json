{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/mac/Documents/react app/agilecreditportal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useCallback}from\"react\";import OnboardingSideBar from\"../components/OnboardingSideBar\";import{useForm}from\"react-hook-form\";import{useQuery}from\"react-query\";import useProfileStore from\"../stores/profileStore\";import{getIdentificationFields,uploadDocument,deleteDocument,getProfileSection}from\"../clients/onboarding\";import useAuthStore from\"../stores/authStore\";var IdentificationUpload=function IdentificationUpload(props){var pageType=\"profile\";if(props.location.pathname.includes(\"/onboarding\")){pageType=\"onboarding\";}var _useState=useState([]),_useState2=_slicedToArray(_useState,2),errorMsg=_useState2[0],setErrorMsg=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),uploadedFile=_useState6[0],setUploadedFile=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),deleted=_useState8[0],setDeleted=_useState8[1];var profile=useProfileStore(function(state){return state.data;});var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),submitted=_useState10[0],setSubmitted=_useState10[1];var token=useAuthStore(function(state){return state.accessToken;});var _useQuery=useQuery(\"identity\",function(){return getIdentificationFields(token);}),isLoading=_useQuery.isLoading,error=_useQuery.error,data=_useQuery.data;var _useState11=useState(profile[\"kyc_documents\"]),_useState12=_slicedToArray(_useState11,2),uploaded=_useState12[0],setUploaded=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),checklistCompletion=_useState14[0],setChecklistCompletion=_useState14[1];var _useQuery2=useQuery(\"sections\",function(){return getProfileSection(token);}),isLoading2=_useQuery2.isLoading,error2=_useQuery2.error,uploadSection=_useQuery2.data;var initializeProfileSection=useProfileStore(useCallback(function(state){return state.initializeProfileSection;},[]));useEffect(function(){uploadSection&&initializeProfileSection(uploadSection,uploadSection.every(function(loan){return loan.completed===true;}));},[uploadSection]);useEffect(function(){setUploaded(profile[\"kyc_documents\"]);},[profile]);var loanStatus=uploadSection&&uploadSection.every(function(loan){return loan.completed===true;});console.log(loanStatus);if(isLoading||isLoading2){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"w-full m-auto px-8 relative\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/img/loading-gif.gif\",alt:\"\",className:\"w-1/8 m-auto py-20\"})));}var onChangeHandler=function onChangeHandler(event,type){var dataValue=[];var oldData=[];oldData=_toConsumableArray(uploadedFile);dataValue={value:event.target.files[0],name:type};var filterData=[];filterData=oldData.filter(function(val){return val.name==type;});if(filterData.length){filterData[0].value=event.target.files[0];var newFilterData=[];newFilterData=oldData.filter(function(val){return val.name!=type;});if(newFilterData.length){var _filterData;(_filterData=filterData).push.apply(_filterData,_toConsumableArray(newFilterData));}setUploadedFile(filterData);return;}oldData.push(dataValue);setUploadedFile(oldData);};var updateErrors=function updateErrors(errors){setErrorMsg(Object.values(errors).flat());};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(name){var val,newVale,files,postData,message,_data,getUploaded,msg,_msg,_data2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(uploadedFile.length){_context.next=2;break;}return _context.abrupt(\"return\");case 2:setLoading(true);val=[];val=_toConsumableArray(uploadedFile);newVale=[];newVale=val.filter(function(val){return val.name==name;});_context.prev=7;files=new FormData();files.append(\"document\",newVale[0].value);files.append(\"tag\",name);_context.next=13;return uploadDocument(token,files);case 13:postData=_context.sent;message=postData.message,_data=postData.data;getUploaded=_toConsumableArray(uploaded);getUploaded.push(_data);setUploaded(getUploaded);// uploaded.push(data);\nsetLoading(false);setErrorMsg([]);setSubmitted(true);setTimeout(function(){setSubmitted(false);},8000);// refetch();\n_context.next=39;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](7);setLoading(false);if(!(_context.t0&&_context.t0.response.status==500)){_context.next=32;break;}msg=[];msg.push(_context.t0.response.data.message);setErrorMsg(msg);return _context.abrupt(\"return\");case 32:if(_context.t0.response){_context.next=37;break;}_msg=[];_msg.push(\"Network Error, Check Your Internet Connection\");setErrorMsg(_msg);return _context.abrupt(\"return\");case 37:_data2=_context.t0.response.data;_data2.errors&&updateErrors(_data2.errors);case 39:case\"end\":return _context.stop();}}},_callee,null,[[7,24]]);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var ActiveDeleteDocument=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var deleteData,UpdateUploaded,msg,_msg2,_data3;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.prev=1;_context2.next=4;return deleteDocument(token,id);case 4:deleteData=_context2.sent;UpdateUploaded=uploaded.filter(function(del){return del.id!=id;});setUploaded(UpdateUploaded);setLoading(false);setDeleted(true);setTimeout(function(){setDeleted(false);},8000);// refetch();\n_context2.next=27;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);setLoading(false);if(!(_context2.t0&&_context2.t0.response.status==500)){_context2.next=20;break;}msg=[];msg.push(_context2.t0.response.data.message);setErrorMsg(msg);return _context2.abrupt(\"return\");case 20:if(_context2.t0.response){_context2.next=25;break;}_msg2=[];_msg2.push(\"Network Error, Check Your Internet Connection\");setErrorMsg(_msg2);return _context2.abrupt(\"return\");case 25:_data3=_context2.t0.response.data;_data3.errors&&updateErrors(_data3.errors);case 27:case\"end\":return _context2.stop();}}},_callee2,null,[[1,12]]);}));return function ActiveDeleteDocument(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200\"},/*#__PURE__*/React.createElement(OnboardingSideBar,{name:\"documents\"}),/*#__PURE__*/React.createElement(\"img\",{src:\"/img/checklists.svg\",alt:\"\",className:\"w-1/4 m-auto pt-16\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-7/12 w-full mb-6 px-8 relative\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"block text-gray-700 text-lg font-bold mb-2\"},\"UPLOAD YOUR ID\"),deleted?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-teal-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-sm\"},\"Deleted successfully\"))))):\"\",submitted?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-teal-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-sm\"},\"Uploaded successfully\"))))):\"\",errorMsg.length?/*#__PURE__*/React.createElement(\"div\",{className:\"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\",role:\"alert\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"fill-current h-6 w-6 text-red-500 mr-4\",xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 20 20\"},/*#__PURE__*/React.createElement(\"path\",{d:\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"ul\",{style:{listStyleType:\"none\"}},errorMsg.map(function(error,i){return/*#__PURE__*/React.createElement(\"li\",{key:i},error);}))))):\"\",loading?/*#__PURE__*/React.createElement(\"img\",{src:\"/img/30.gif\",className:\"ml-2 my-5 w-auto m-auto\",alt:\"\"}):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-col my-10\"},/*#__PURE__*/React.createElement(\"form\",{className:\"w-full max-w-lg\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-wrap -mx-3 mb-6\"},data&&data.map(function(data,key){return/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-wrap \"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-3/5 px-3 my-4\"},/*#__PURE__*/React.createElement(\"label\",{className:\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\"},data.label),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:data.name,className:\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",onChange:function onChange(e){return onChangeHandler(e,data.name);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center justify-between mt-5\"},/*#__PURE__*/React.createElement(\"button\",{className:\"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-lg font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\",type:\"button\",onClick:function onClick(){return onSubmit(data.name);}},/*#__PURE__*/React.createElement(\"span\",null,\" Upload \"),/*#__PURE__*/React.createElement(\"svg\",{className:\"ml-2\",width:\"13\",height:\"13\",viewBox:\"0 0 18 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"g\",{id:\"save_icon\"},/*#__PURE__*/React.createElement(\"path\",{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",d:\"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z\",fill:\"white\"}))))));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"w-full my-10\"},uploaded&&uploaded.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h2\",{className:\"text-gray-700 text-lg font-medium mb-4\"},\"Uploaded Documents\")):\"\",uploaded&&uploaded.map(function(val){return/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center border my-2 border-t-0 border-r-0 border-l-0 pb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"w-3/5\"},val.tag),/*#__PURE__*/React.createElement(\"div\",{className:\"w-2/5 text-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"bg-red-600 py-1 px-2 text-white rounded-lg\",onClick:function onClick(){return ActiveDeleteDocument(val.id);}},\"X\")));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-end w-full pr-0 md:pr-4 mt-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inline-flex justify-end\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return pageType===\"onboarding\"?props.history.push(\"/onboarding/account\"):props.history.push(\"/profile/account\");},className:\"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded focus:outline-none focus:shadow-outline inline-flex items-center\",type:\"button\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"mr-2 -mt-1\",width:\"18\",height:\"18\",viewBox:\"0 0 18 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"g\",{id:\"chevron_right_24px\"},/*#__PURE__*/React.createElement(\"path\",{id:\"icon/navigation/chevron_left_24px\",d:\"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z\",fill:\"white\"}))),/*#__PURE__*/React.createElement(\"span\",null,\" Previous \")),pageType===\"onboarding\"?/*#__PURE__*/React.createElement(\"button\",{disabled:!checklistCompletion,onClick:function onClick(){return props.history.push(\"/new-loan-request\");},className:checklistCompletion&&checklistCompletion?\"bg-green-600 hover:bg-green-700 text-white text-xl font-light py-3 px-10 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center\":\"bg-gray-400 text-white text-xl font-light py-3 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed\",type:\"button\"},/*#__PURE__*/React.createElement(\"span\",null,\" Complete \"),/*#__PURE__*/React.createElement(\"svg\",{className:\"ml-2 -mt-1\",width:\"18\",height:\"18\",viewBox:\"0 0 18 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"g\",{id:\"chevron_right_24px\"},/*#__PURE__*/React.createElement(\"path\",{id:\"icon/action/done_24px\",d:\"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\",fill:\"white\"})))):\"\"))));};export default IdentificationUpload;","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/IdentificationUpload.tsx"],"names":["React","useEffect","useState","useCallback","OnboardingSideBar","useForm","useQuery","useProfileStore","getIdentificationFields","uploadDocument","deleteDocument","getProfileSection","useAuthStore","IdentificationUpload","props","pageType","location","pathname","includes","errorMsg","setErrorMsg","loading","setLoading","uploadedFile","setUploadedFile","deleted","setDeleted","profile","state","data","register","handleSubmit","errors","submitted","setSubmitted","token","accessToken","isLoading","error","uploaded","setUploaded","checklistCompletion","setChecklistCompletion","isLoading2","error2","uploadSection","initializeProfileSection","every","loan","completed","loanStatus","console","log","onChangeHandler","event","type","dataValue","oldData","value","target","files","name","filterData","filter","val","length","newFilterData","push","updateErrors","Object","values","flat","onSubmit","newVale","FormData","append","postData","message","getUploaded","setTimeout","response","status","msg","ActiveDeleteDocument","id","deleteData","UpdateUploaded","del","listStyleType","map","i","key","label","e","tag","history"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport OnboardingSideBar from \"../components/OnboardingSideBar\";\nimport { useForm } from \"react-hook-form\";\nimport { useQuery } from \"react-query\";\n\nimport useProfileStore from \"../stores/profileStore\";\nimport {\n  getIdentificationFields,\n  uploadDocument,\n  deleteDocument,\n  getProfileSection,\n} from \"../clients/onboarding\";\nimport useAuthStore from \"../stores/authStore\";\nimport FormInput from \"../components/FormInput\";\n\nconst IdentificationUpload = (props: any) => {\n  let pageType = \"profile\";\n\n  if (props.location.pathname.includes(\"/onboarding\")) {\n    pageType = \"onboarding\";\n  }\n\n  const [errorMsg, setErrorMsg] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [uploadedFile, setUploadedFile] = useState([]);\n  const [deleted, setDeleted] = useState(false);\n  const profile = useProfileStore((state) => state.data);\n  const { register, handleSubmit, errors } = useForm();\n  const [submitted, setSubmitted] = useState(false);\n  const token = useAuthStore((state) => state.accessToken);\n  const { isLoading, error, data } = useQuery(\"identity\", () =>\n    getIdentificationFields(token)\n  );\n\n  const [uploaded, setUploaded] = useState(profile[\"kyc_documents\"]);\n  const [checklistCompletion, setChecklistCompletion] = useState(false);\n\n  const {\n    isLoading: isLoading2,\n    error: error2,\n    data: uploadSection,\n  } = useQuery(\"sections\", () => getProfileSection(token));\n\n  const initializeProfileSection = useProfileStore(\n    useCallback((state) => state.initializeProfileSection, [])\n  );\n\n  useEffect(() => {\n    uploadSection &&\n      initializeProfileSection(\n        uploadSection,\n        uploadSection.every((loan) => loan.completed === true)\n      );\n  }, [uploadSection]);\n\n  useEffect(() => {\n    setUploaded(profile[\"kyc_documents\"]);\n  }, [profile]);\n\n  let loanStatus =\n    uploadSection && uploadSection.every((loan) => loan.completed === true);\n  console.log(loanStatus);\n  if (isLoading || isLoading2) {\n    return (\n      <>\n        <div className=\"w-full m-auto px-8 relative\">\n          <img\n            src=\"/img/loading-gif.gif\"\n            alt=\"\"\n            className=\"w-1/8 m-auto py-20\"\n          />\n        </div>\n      </>\n    );\n  }\n\n  const onChangeHandler = (event: any, type) => {\n    let dataValue = [] as any;\n    let oldData = [] as any;\n    oldData = [...uploadedFile];\n    dataValue = { value: event.target.files[0], name: type };\n\n    let filterData = [] as any;\n    filterData = oldData.filter((val) => val.name == type);\n\n    if (filterData.length) {\n      filterData[0].value = event.target.files[0];\n      let newFilterData = [] as any;\n      newFilterData = oldData.filter((val) => val.name != type);\n      if (newFilterData.length) {\n        filterData.push(...newFilterData);\n      }\n      setUploadedFile(filterData);\n      return;\n    }\n    oldData.push(dataValue);\n    setUploadedFile(oldData);\n  };\n\n  const updateErrors = (errors: []) => {\n    setErrorMsg(Object.values(errors).flat());\n  };\n\n  const onSubmit = async (name: any) => {\n    if (!uploadedFile.length) {\n      return;\n    }\n    setLoading(true);\n    let val = [] as any;\n    val = [...uploadedFile];\n    let newVale = [] as any;\n    newVale = val.filter((val) => val.name == name);\n    try {\n      const files = new FormData();\n      files.append(\"document\", newVale[0].value);\n      files.append(\"tag\", name);\n      let postData = await uploadDocument(token, files);\n      const { message, data } = postData;\n      let getUploaded = [...uploaded];\n      getUploaded.push(data);\n      setUploaded(getUploaded);\n      // uploaded.push(data);\n\n      setLoading(false);\n      setErrorMsg([]);\n      setSubmitted(true);\n      setTimeout(function () {\n        setSubmitted(false);\n      }, 8000);\n      // refetch();\n    } catch (error) {\n      setLoading(false);\n      if (error && error.response.status == 500) {\n        let msg = [] as any;\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n      if (!error.response) {\n        let msg = [] as any;\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n      const {\n        response: { data },\n      } = error;\n      data.errors && updateErrors(data.errors);\n    }\n    // console.log(uploadedFile);\n  };\n\n  const ActiveDeleteDocument = async (id: any) => {\n    setLoading(true);\n\n    try {\n      let deleteData = await deleteDocument(token, id);\n      let UpdateUploaded = uploaded.filter((del) => del.id != id);\n      setUploaded(UpdateUploaded);\n      setLoading(false);\n      setDeleted(true);\n      setTimeout(function () {\n        setDeleted(false);\n      }, 8000);\n      // refetch();\n    } catch (error) {\n      setLoading(false);\n      if (error && error.response.status == 500) {\n        let msg = [] as any;\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n      if (!error.response) {\n        let msg = [] as any;\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n      const {\n        response: { data },\n      } = error;\n      data.errors && updateErrors(data.errors);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200\">\n        <OnboardingSideBar name=\"documents\" />\n        <img src=\"/img/checklists.svg\" alt=\"\" className=\"w-1/4 m-auto pt-16\" />\n      </div>\n\n      <div className=\"md:w-7/12 w-full mb-6 px-8 relative\">\n        <h1 className=\"block text-gray-700 text-lg font-bold mb-2\">\n          UPLOAD YOUR ID\n        </h1>\n        {deleted ? (\n          <>\n            <div\n              className=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in\"\n              role=\"alert\"\n            >\n              <div className=\"flex\">\n                <div className=\"py-1\">\n                  <svg\n                    className=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 20 20\"\n                  >\n                    <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                  </svg>\n                </div>\n                <div>\n                  {/* <p className=\"font-bold\">Sent successfully</p> */}\n                  <p className=\"text-sm\">Deleted successfully</p>\n                </div>\n              </div>\n            </div>\n          </>\n        ) : (\n          \"\"\n        )}\n        {submitted ? (\n          <>\n            <div\n              className=\"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md\"\n              role=\"alert\"\n            >\n              <div className=\"flex\">\n                <div className=\"py-1\">\n                  <svg\n                    className=\"fill-current h-6 w-6 text-teal-500 mr-4\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 20 20\"\n                  >\n                    <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                  </svg>\n                </div>\n                <div>\n                  {/* <p className=\"font-bold\">Sent successfully</p> */}\n                  <p className=\"text-sm\">Uploaded successfully</p>\n                </div>\n              </div>\n            </div>\n          </>\n        ) : (\n          \"\"\n        )}\n        {errorMsg.length ? (\n          <div\n            className=\"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\"\n            role=\"alert\"\n          >\n            <div className=\"flex\">\n              <div className=\"py-1\">\n                <svg\n                  className=\"fill-current h-6 w-6 text-red-500 mr-4\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                </svg>\n              </div>\n              <div>\n                {/* <p className=\"font-bold\">Sent successfully</p> */}\n                {/* <p className=\"text-sm\">{errorMsg}</p> */}\n                <ul style={{ listStyleType: \"none\" }}>\n                  {errorMsg.map((error, i) => (\n                    <li key={i}>{error}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        ) : (\n          \"\"\n        )}\n        {loading ? (\n          <img src=\"/img/30.gif\" className=\"ml-2 my-5 w-auto m-auto\" alt=\"\" />\n        ) : (\n          \"\"\n        )}\n        {/* <h3 className=\"text-gray-600 text-sm\"> We hate to ask, but regulations mandate us to. <br/> Your BVN is safe with us!</h3> */}\n        <div className=\"flex flex-col my-10\">\n          <form className=\"w-full max-w-lg\">\n            <div className=\"flex flex-wrap -mx-3 mb-6\">\n              {data &&\n                data.map((data, key) => {\n                  return (\n                    <div className=\"flex flex-wrap \">\n                      <div className=\"md:w-3/5 px-3 my-4\">\n                        <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                          {data.label}\n                        </label>\n                        <input\n                          type=\"file\"\n                          name={data.name}\n                          className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                          onChange={(e) => onChangeHandler(e, data.name)}\n                        />\n                      </div>\n                      <div className=\"flex items-center justify-between mt-5\">\n                        <button\n                          className=\"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-lg font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\"\n                          type=\"button\"\n                          onClick={() => onSubmit(data.name)}\n                        >\n                          <span> Upload </span>\n                          <svg\n                            className=\"ml-2\"\n                            width=\"13\"\n                            height=\"13\"\n                            viewBox=\"0 0 18 18\"\n                            fill=\"none\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                          >\n                            <g id=\"save_icon\">\n                              <path\n                                fill-rule=\"evenodd\"\n                                clip-rule=\"evenodd\"\n                                d=\"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z\"\n                                fill=\"white\"\n                              />\n                            </g>\n                          </svg>\n                        </button>\n                      </div>\n                    </div>\n                  );\n                })}\n            </div>\n          </form>\n          <div className=\"w-full my-10\">\n            {uploaded && uploaded.length > 0 ? (\n              <>\n                <h2 className=\"text-gray-700 text-lg font-medium mb-4\">\n                  Uploaded Documents\n                </h2>\n              </>\n            ) : (\n              \"\"\n            )}\n            {uploaded &&\n              uploaded.map((val) => {\n                return (\n                  <div className=\"flex items-center border my-2 border-t-0 border-r-0 border-l-0 pb-2\">\n                    <div className=\"w-3/5\">{val.tag}</div>\n                    <div className=\"w-2/5 text-center\">\n                      <button\n                        className=\"bg-red-600 py-1 px-2 text-white rounded-lg\"\n                        onClick={() => ActiveDeleteDocument(val.id)}\n                      >\n                        X\n                      </button>\n                    </div>\n                  </div>\n                );\n              })}\n          </div>\n        </div>\n\n        <div className=\"flex justify-end w-full pr-0 md:pr-4 mt-10\">\n          <div className=\"inline-flex justify-end\">\n            <button\n              onClick={() =>\n                pageType === \"onboarding\"\n                  ? props.history.push(\"/onboarding/account\")\n                  : props.history.push(\"/profile/account\")\n              }\n              className=\"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded focus:outline-none focus:shadow-outline inline-flex items-center\"\n              type=\"button\"\n            >\n              <svg\n                className=\"mr-2 -mt-1\"\n                width=\"18\"\n                height=\"18\"\n                viewBox=\"0 0 18 18\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <g id=\"chevron_right_24px\">\n                  <path\n                    id=\"icon/navigation/chevron_left_24px\"\n                    d=\"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z\"\n                    fill=\"white\"\n                  />\n                </g>\n              </svg>\n              <span> Previous </span>\n            </button>\n            {pageType === \"onboarding\" ? (\n              <button\n                disabled={!checklistCompletion}\n                onClick={() => props.history.push(\"/new-loan-request\")}\n                className={\n                  checklistCompletion && checklistCompletion\n                    ? \"bg-green-600 hover:bg-green-700 text-white text-xl font-light py-3 px-10 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center\"\n                    : \"bg-gray-400 text-white text-xl font-light py-3 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed\"\n                }\n                type=\"button\"\n              >\n                <span> Complete </span>\n                <svg\n                  className=\"ml-2 -mt-1\"\n                  width=\"18\"\n                  height=\"18\"\n                  viewBox=\"0 0 18 18\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <g id=\"chevron_right_24px\">\n                    <path\n                      id=\"icon/action/done_24px\"\n                      d=\"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z\"\n                      fill=\"white\"\n                    />\n                  </g>\n                </svg>\n              </button>\n            ) : (\n              \"\"\n            )}\n          </div>\n        </div>\n\n        {/* <div className=\"absolute bottom-0 right-0 mr-10 -mt-8\">\n          <button\n            // disabled\n            onClick={() => props.history.push(\"/new-loan-request\")}\n            className=\"bg-gray-400 hover:bg-gray-600 text-white text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center\"\n            type=\"button\"\n          >\n            <span> Next </span>\n            <svg\n              className=\"ml-2 -mt-1\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <g id=\"chevron_right_24px\">\n                <path\n                  id=\"icon/navigation/chevron_right_24px\"\n                  d=\"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\"\n                  fill=\"white\"\n                />\n              </g>\n            </svg>\n          </button>\n        </div> */}\n      </div>\n    </>\n  );\n};\n\nexport default IdentificationUpload;\n"]},"metadata":{},"sourceType":"module"}