{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/react app/agilecreditportal/src/pages/IdentificationUpload.tsx\";\nimport React, { useState } from \"react\";\nimport OnboardingSideBar from \"../components/OnboardingSideBar\";\nimport { useForm } from \"react-hook-form\";\nimport { useQuery } from \"react-query\";\nimport { getIdentificationFields, uploadDocument } from \"../clients/onboarding\";\nimport useAuthStore from \"../stores/authStore\";\nimport FormInput from \"../components/FormInput\";\n\nconst IdentificationUpload = props => {\n  const [errorMsg, setErrorMsg] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [submitted, setSubmitted] = useState(false);\n  const token = useAuthStore(state => state.accessToken);\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery(\"data\", () => getIdentificationFields(token));\n\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  const onChangeHandler = event => {\n    console.log(event);\n  };\n\n  const updateErrors = errors => {\n    setErrorMsg(Object.values(errors).flat());\n  };\n\n  const onSubmit = async name => {\n    try {\n      const files = new FormData();\n      files.append(\"document\", name[0]);\n      files.append(\"tag\", name);\n      console.log(name);\n      let postData = await uploadDocument(token, files);\n      const {\n        message,\n        data\n      } = postData; // setOtpRequestId(data.otprequestid);\n      // setLoading(false);\n      // setDisplayMsg(message);\n    } catch (error) {\n      setLoading(false);\n\n      if (error && error.response.status == 500) {\n        let msg = [];\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n\n      if (!error.response) {\n        let msg = [];\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n\n      const {\n        response: {\n          data\n        }\n      } = error;\n      data.errors && updateErrors(data.errors);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(OnboardingSideBar, {\n    name: \"documents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/img/checklists.svg\",\n    alt: \"\",\n    className: \"w-1/4 m-auto pt-16\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"md:w-7/12 w-full mb-6 px-8 relative\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"block text-gray-700 text-lg font-bold mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"UPLOAD YOUR ID\"), errorMsg.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"fill-current h-6 w-6 text-red-500 mr-4\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      listStyleType: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, errorMsg.map((error, i) => /*#__PURE__*/React.createElement(\"li\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, error)))))) : \"\", /*#__PURE__*/React.createElement(\"form\", {\n    className: \"w-full max-w-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap -mx-3 mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, data && data.map((data, key) => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: data.name,\n      className: \"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\",\n      onChange: () => onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(FormInput, {\n      key: key,\n      label: data.label,\n      name: data.name,\n      required: data.required,\n      errors: errors,\n      register: register,\n      type: data.type,\n      options: data.options,\n      value: null,\n      onChangehandler: onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex items-center justify-between mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\",\n      type: \"button\",\n      onClick: () => onSubmit(data.name),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, \" Upload \"), /*#__PURE__*/React.createElement(\"svg\", {\n      className: \"ml-2\",\n      width: \"14\",\n      height: \"14\",\n      viewBox: \"0 0 18 18\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      id: \"save_icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      \"clip-rule\": \"evenodd\",\n      d: \"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z\",\n      fill: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 29\n      }\n    }))))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"absolute bottom-0 right-0 mr-10 -mt-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    disabled: true,\n    onClick: () => props.history.push(\"/application\"),\n    className: \"bg-gray-400 hover:bg-gray-600 text-white text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center\",\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }\n  }, \" Next \"), /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"ml-2 -mt-1\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"chevron_right_24px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"icon/navigation/chevron_right_24px\",\n    d: \"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\",\n    fill: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  })))))));\n};\n\nexport default IdentificationUpload;","map":{"version":3,"sources":["/Users/mac/Documents/react app/agilecreditportal/src/pages/IdentificationUpload.tsx"],"names":["React","useState","OnboardingSideBar","useForm","useQuery","getIdentificationFields","uploadDocument","useAuthStore","FormInput","IdentificationUpload","props","errorMsg","setErrorMsg","loading","setLoading","register","handleSubmit","errors","submitted","setSubmitted","token","state","accessToken","isLoading","error","data","onChangeHandler","event","console","log","updateErrors","Object","values","flat","onSubmit","name","files","FormData","append","postData","message","response","status","msg","push","length","listStyleType","map","i","key","label","required","type","options","history"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport OnboardingSideBar from \"../components/OnboardingSideBar\";\nimport { useForm } from \"react-hook-form\";\nimport { useQuery } from \"react-query\";\n\nimport { getIdentificationFields, uploadDocument } from \"../clients/onboarding\";\nimport useAuthStore from \"../stores/authStore\";\nimport FormInput from \"../components/FormInput\";\n\nconst IdentificationUpload = (props: any) => {\n  const [errorMsg, setErrorMsg] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { register, handleSubmit, errors } = useForm();\n  const [submitted, setSubmitted] = useState(false);\n  const token = useAuthStore((state) => state.accessToken);\n  const { isLoading, error, data } = useQuery(\"data\", () =>\n    getIdentificationFields(token)\n  );\n\n  if (isLoading) {\n    return <div>Loading...</div>;\n  }\n\n  const onChangeHandler = (event: any) => {\n    console.log(event);\n  };\n\n  const updateErrors = (errors: []) => {\n    setErrorMsg(Object.values(errors).flat());\n  };\n\n  const onSubmit = async (name: any) => {\n    try {\n      const files = new FormData();\n      files.append(\"document\", name[0]);\n      files.append(\"tag\", name);\n      console.log(name);\n      let postData = await uploadDocument(token, files);\n      const { message, data } = postData;\n      // setOtpRequestId(data.otprequestid);\n      // setLoading(false);\n      // setDisplayMsg(message);\n    } catch (error) {\n      setLoading(false);\n      if (error && error.response.status == 500) {\n        let msg = [] as any;\n        msg.push(error.response.data.message);\n        setErrorMsg(msg);\n        return;\n      }\n      if (!error.response) {\n        let msg = [] as any;\n        msg.push(\"Network Error, Check Your Internet Connection\");\n        setErrorMsg(msg);\n        return;\n      }\n      const {\n        response: { data },\n      } = error;\n      data.errors && updateErrors(data.errors);\n    }\n  };\n  return (\n    <>\n      <div className=\"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200\">\n        <OnboardingSideBar name=\"documents\" />\n        <img src=\"/img/checklists.svg\" alt=\"\" className=\"w-1/4 m-auto pt-16\" />\n      </div>\n\n      <div className=\"md:w-7/12 w-full mb-6 px-8 relative\">\n        <h1 className=\"block text-gray-700 text-lg font-bold mb-2\">\n          UPLOAD YOUR ID\n        </h1>\n        {errorMsg.length ? (\n          <div\n            className=\"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5\"\n            role=\"alert\"\n          >\n            <div className=\"flex\">\n              <div className=\"py-1\">\n                <svg\n                  className=\"fill-current h-6 w-6 text-red-500 mr-4\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <path d=\"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z\" />\n                </svg>\n              </div>\n              <div>\n                {/* <p className=\"font-bold\">Sent successfully</p> */}\n                {/* <p className=\"text-sm\">{errorMsg}</p> */}\n                <ul style={{ listStyleType: \"none\" }}>\n                  {errorMsg.map((error, i) => (\n                    <li key={i}>{error}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </div>\n        ) : (\n          \"\"\n        )}\n        {/* <h3 className=\"text-gray-600 text-sm\"> We hate to ask, but regulations mandate us to. <br/> Your BVN is safe with us!</h3> */}\n\n        <form className=\"w-full max-w-lg\">\n          <div className=\"flex flex-wrap -mx-3 mb-6\">\n            {data &&\n              data.map((data, key) => {\n                return (\n                  <>\n                    <input\n                      type=\"file\"\n                      name={data.name}\n                      className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                      onChange={() => onChangeHandler}\n                    />\n                    <FormInput\n                      key={key}\n                      label={data.label}\n                      name={data.name}\n                      required={data.required}\n                      errors={errors}\n                      register={register}\n                      type={data.type}\n                      options={data.options}\n                      value={null}\n                      onChangehandler={onChangeHandler}\n                    />\n                    <div className=\"flex items-center justify-between mt-4\">\n                      <button\n                        className=\"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\"\n                        type=\"button\"\n                        onClick={() => onSubmit(data.name)}\n                      >\n                        <span> Upload </span>\n                        <svg\n                          className=\"ml-2\"\n                          width=\"14\"\n                          height=\"14\"\n                          viewBox=\"0 0 18 18\"\n                          fill=\"none\"\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                        >\n                          <g id=\"save_icon\">\n                            <path\n                              fill-rule=\"evenodd\"\n                              clip-rule=\"evenodd\"\n                              d=\"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z\"\n                              fill=\"white\"\n                            />\n                          </g>\n                        </svg>\n                      </button>\n                    </div>\n                  </>\n                );\n              })}\n            {/* <div className=\"flex items-center justify-between mb-40\">\n              <button\n                className=\"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\"\n                type=\"submit\"\n              >\n                <span> Upload </span>\n                <svg\n                  className=\"ml-2\"\n                  width=\"14\"\n                  height=\"14\"\n                  viewBox=\"0 0 18 18\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <g id=\"save_icon\">\n                    <path\n                      fill-rule=\"evenodd\"\n                      clip-rule=\"evenodd\"\n                      d=\"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z\"\n                      fill=\"white\"\n                    />\n                  </g>\n                </svg>\n              </button>\n            </div> */}\n            {/* <div className=\"w-full px-3\">\n              <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                ID TYPE\n              </label>\n              <div className=\"relative\">\n                <select\n                  className=\"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500\"\n                  id=\"grid-state\"\n                >\n                  <option>Driver's License</option>\n                  <option>National ID</option>\n                  <option>International Passport</option>\n                  <option>Other</option>\n                </select>\n                <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\n                  <svg\n                    className=\"fill-current h-4 w-4\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 20 20\"\n                  >\n                    <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n                  </svg>\n                </div>\n              </div>\n            </div> */}\n          </div>\n\n          {/* <div className=\"flex flex-wrap -mx-3 mb-6\">\n            <div className=\"w-full px-3\">\n              <label className=\"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2\">\n                SELECT FILE\n              </label>\n              <input\n                className=\"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white\"\n                id=\"fileID\"\n                type=\"file\"\n                placeholder=\"Upload file\"\n              />\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between mb-40\">\n            <button\n              className=\"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg\"\n              type=\"submit\"\n            >\n              <span> Upload </span>\n              <svg\n                className=\"ml-2\"\n                width=\"14\"\n                height=\"14\"\n                viewBox=\"0 0 18 18\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <g id=\"save_icon\">\n                  <path\n                    fill-rule=\"evenodd\"\n                    clip-rule=\"evenodd\"\n                    d=\"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z\"\n                    fill=\"white\"\n                  />\n                </g>\n              </svg>\n            </button>\n          </div> */}\n        </form>\n\n        <div className=\"absolute bottom-0 right-0 mr-10 -mt-8\">\n          <button\n            disabled\n            onClick={() => props.history.push(\"/application\")}\n            className=\"bg-gray-400 hover:bg-gray-600 text-white text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center\"\n            type=\"button\"\n          >\n            <span> Next </span>\n            <svg\n              className=\"ml-2 -mt-1\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <g id=\"chevron_right_24px\">\n                <path\n                  id=\"icon/navigation/chevron_right_24px\"\n                  d=\"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z\"\n                  fill=\"white\"\n                />\n              </g>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default IdentificationUpload;\n"]},"metadata":{},"sourceType":"module"}