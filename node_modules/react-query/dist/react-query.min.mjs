import e from"react";function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var r;!function(e){e.Idle="idle",e.Loading="loading",e.Error="error",e.Success="success"}(r||(r={}));var n=function(){},i=0,u="undefined"==typeof window;function o(){}var c=console||{error:o,warn:o,log:o};function s(e){c=e}function a(e,t){return"function"==typeof e?e(t):e}function h(e,t){if("function"==typeof t)throw new Error("Cannot stringify non JSON value");return v(t)?Object.keys(t).sort().reduce((function(e,r){return e[r]=t[r],e}),{}):t}function f(){return"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}function l(){return void 0===navigator.onLine||navigator.onLine}function d(e){var r,n,i,u;return v(e[0])?(r=e[0].queryKey,n=e[0].queryFn,i=e[0].config,u=e[1]):v(e[1])?(r=e[0],i=e[1],u=e[2]):(r=e[0],n=e[1],i=e[2],u=e[3]),i=i?t({queryKey:r},i):{queryKey:r},n&&(i=t({},i,{queryFn:n})),[r,i,u]}function v(e){return e&&"object"==typeof e&&!Array.isArray(e)}function y(e){if(!g(e))return!1;var t=e.constructor;if(void 0===t)return!0;var r=t.prototype;return!!g(r)&&!!r.hasOwnProperty("isPrototypeOf")}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function p(e){return e instanceof Error}function b(e){return e instanceof n}function m(e){return{status:e,isLoading:e===r.Loading,isSuccess:e===r.Success,isError:e===r.Error,isIdle:e===r.Idle}}function F(e){var t;return function(r){t&&t(),t=r(e)}}var S={queries:{cacheTime:3e5,enabled:!0,notifyOnStatusChange:!0,queryKeySerializerFn:function(e){try{var t=Array.isArray(e)?e:[e],r=(n=t,JSON.stringify(n,h));return[r,t=JSON.parse(r)]}catch(e){throw new Error("A valid query key is required!")}var n},refetchOnMount:!0,refetchOnReconnect:!0,refetchOnWindowFocus:!0,retry:3,retryDelay:function(e){return Math.min(1e3*Math.pow(2,e),3e4)},staleTime:0,structuralSharing:!0}};function C(e,r,n,i){return t({},S.shared,S.queries,null==e?void 0:e.shared,null==e?void 0:e.queries,null==r?void 0:r.shared,null==r?void 0:r.queries,n,i)}function w(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function q(){}var E,T=function(){function e(e){this.config=e,this.queryCache=e.queryCache,this.initialFetchedCount=0,this.clear=this.clear.bind(this),this.refetch=this.refetch.bind(this),this.fetchMore=this.fetchMore.bind(this),this.updateQuery()}var r=e.prototype;return r.subscribe=function(e){return this.started=!0,this.updateListener=e,this.currentQuery.subscribeObserver(this),this.config.enabled&&this.config.forceFetchOnMount?this.fetch():this.optionalFetch(),this.updateTimers(),this.unsubscribe.bind(this)},r.unsubscribe=function(){this.started=!1,this.updateListener=void 0,this.clearTimers(),this.currentQuery.unsubscribeObserver(this)},r.updateConfig=function(e){var t=this.config;this.config=e;var r=this.updateQuery();if(this.started){if(r)return this.optionalFetch(),void this.updateTimers();e.enabled&&!t.enabled&&this.optionalFetch(),e.enabled===t.enabled&&e.staleTime===t.staleTime||this.updateStaleTimeout(),e.enabled===t.enabled&&e.refetchInterval===t.refetchInterval&&e.refetchIntervalInBackground===t.refetchIntervalInBackground||this.updateRefetchInterval()}},r.isStale=function(){return this.currentResult.isStale},r.getCurrentQuery=function(){return this.currentQuery},r.getCurrentResult=function(){return this.currentResult},r.clear=function(){return this.currentQuery.clear()},r.refetch=function(e){try{return this.currentQuery.refetch(e,this.config)}catch(e){return Promise.reject(e)}},r.fetchMore=function(e,t){try{return this.currentQuery.fetchMore(e,t,this.config)}catch(e){return Promise.reject(e)}},r.fetch=function(){var e=this;return w(function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}((function(){return w(e.currentQuery.fetch(void 0,e.config))}),q))},r.optionalFetch=function(){!this.config.enabled||this.config.suspense&&this.currentResult.isFetched||!this.currentResult.isStale||!this.config.refetchOnMount&&1!==this.currentQuery.observers.length||this.fetch()},r.updateIsStale=function(){this.currentQuery.isStaleByTime(this.config.staleTime)!==this.currentResult.isStale&&(this.updateResult(),this.notify())},r.notify=function(){var e;null==(e=this.updateListener)||e.call(this,this.currentResult)},r.updateStaleTimeout=function(){var e=this;if(!u){this.clearStaleTimeout();var t=this.config.staleTime||0,r=this.currentResult,n=r.isStale,i=r.updatedAt;if(!n&&t!==1/0){var o=t-(Date.now()-i),c=Math.max(o,0);this.staleTimeoutId=setTimeout((function(){e.updateIsStale()}),c)}}},r.updateRefetchInterval=function(){var e=this;u||(this.clearRefetchInterval(),!this.config.enabled||!this.config.refetchInterval||this.config.refetchInterval<0||this.config.refetchInterval===1/0||(this.refetchIntervalId=setInterval((function(){(e.config.refetchIntervalInBackground||f())&&e.fetch()}),this.config.refetchInterval)))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval()},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearInterval(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.updateResult=function(){var e=this.currentQuery,r=this.currentResult,n=this.previousQueryResult,i=this.config,u=e.state,o=u.data,c=u.status,s=u.updatedAt,a=!1;i.keepPreviousData&&(u.isIdle||u.isLoading)&&(null==n?void 0:n.isSuccess)&&(o=n.data,s=n.updatedAt,c=n.status,a=!0);var h=!1;h=r||u.isFetched?e.isStaleByTime(i.staleTime):"function"==typeof i.initialStale?i.initialStale():"boolean"==typeof i.initialStale?i.initialStale:void 0===u.data,this.currentResult=t({},m(c),{canFetchMore:u.canFetchMore,clear:this.clear,data:o,error:u.error,failureCount:u.failureCount,fetchMore:this.fetchMore,isFetched:u.isFetched,isFetchedAfterMount:u.fetchedCount>this.initialFetchedCount,isFetching:u.isFetching,isFetchingMore:u.isFetchingMore,isPreviousData:a,isStale:h,refetch:this.refetch,updatedAt:s})},r.updateQuery=function(){var e=this.currentQuery,r=this.config.keepPreviousData&&e?t({},this.config,{initialData:void 0}):this.config,n=this.queryCache.buildQuery(r.queryKey,r);return n!==e&&(this.previousQueryResult=this.currentResult,this.currentQuery=n,this.initialFetchedCount=n.state.fetchedCount,this.updateResult(),this.started&&(null==e||e.unsubscribeObserver(this),this.currentQuery.subscribeObserver(this)),!0)},r.onQueryUpdate=function(e){var t=this.currentResult;this.updateResult();var r=this.currentResult,n=this.config;"Success"===e.type&&r.isSuccess?(null==n.onSuccess||n.onSuccess(r.data),null==n.onSettled||n.onSettled(r.data,null),this.updateTimers()):"Error"===e.type&&r.isError&&(null==n.onError||n.onError(r.error),null==n.onSettled||n.onSettled(void 0,r.error),this.updateTimers()),(r.data!==t.data||r.error!==t.error||n.notifyOnStatusChange)&&this.notify()},e}();function Q(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function I(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function R(e,t){var r=e();return r&&r.then?r.then(t):t(r)}function M(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function L(){}!function(e){e.Failed="Failed",e.Fetch="Fetch",e.Success="Success",e.Error="Error"}(E||(E={}));var O=function(){function e(e){var n,i,u;this.config=e.config,this.queryCache=e.queryCache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.notifyGlobalListeners=e.notifyGlobalListeners,this.observers=[],this.state=(n=e.config,i="function"==typeof n.initialData?n.initialData():n.initialData,t({},m(u=void 0!==i?r.Success:n.enabled?r.Loading:r.Idle),{error:null,isFetched:!1,isFetching:u===r.Loading,isFetchingMore:!1,failureCount:0,fetchedCount:0,data:i,updatedAt:Date.now(),canFetchMore:D(n,i)})),this.cacheTime=e.config.cacheTime,this.scheduleGc()}var i=e.prototype;return i.updateConfig=function(e){this.config=e,this.cacheTime=Math.max(this.cacheTime,e.cacheTime||0)},i.dispatch=function(e){this.state=function(e,n){switch(n.type){case E.Failed:return t({},e,{failureCount:e.failureCount+1});case E.Fetch:var i=void 0!==e.data?r.Success:r.Loading;return t({},e,m(i),{isFetching:!0,isFetchingMore:n.isFetchingMore||!1,failureCount:0});case E.Success:return t({},e,m(r.Success),{data:n.data,error:null,fetchedCount:e.fetchedCount+1,isFetched:!0,isFetching:!1,isFetchingMore:!1,canFetchMore:n.canFetchMore,updatedAt:Date.now(),failureCount:0});case E.Error:return t({},e,m(r.Error),{error:n.error,fetchedCount:e.fetchedCount+1,isFetched:!0,isFetching:!1,isFetchingMore:!1,failureCount:e.failureCount+1,throwInErrorBoundary:!0});default:return e}}(this.state,e),this.observers.forEach((function(t){t.onQueryUpdate(e)})),this.notifyGlobalListeners(this)},i.scheduleGc=function(){var e=this;u||(this.clearGcTimeout(),this.cacheTime===1/0||this.observers.length>0||(this.gcTimeout=setTimeout((function(){e.clear()}),this.cacheTime)))},i.cancel=function(){var e;null==(e=this.cancelFetch)||e.call(this)},i.continue=function(){var e;null==(e=this.continueFetch)||e.call(this)},i.clearTimersObservers=function(){this.observers.forEach((function(e){e.clearTimers()}))},i.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},i.setData=function(e){var t,r,n=this.state.data,i=a(e,n);this.config.structuralSharing&&(i=function e(t,r){if(t===r)return t;var n=Array.isArray(t)&&Array.isArray(r);if(n||y(t)&&y(r)){for(var i=n?t.length:Object.keys(t).length,u=n?r:Object.keys(r),o=u.length,c=n?[]:{},s=0,a=0;a<o;a++){var h=n?a:u[a];c[h]=e(t[h],r[h]),c[h]===t[h]&&s++}return i===o&&s===i?t:c}return r}(n,i)),(null==(t=(r=this.config).isDataEqual)?void 0:t.call(r,n,i))&&(i=n);var u=D(this.config,i);this.dispatch({type:E.Success,data:i,canFetchMore:u})},i.clear=function(){this.queryCache.removeQuery(this)},i.destroy=function(){this.clearGcTimeout(),this.clearTimersObservers(),this.cancel()},i.isEnabled=function(){return this.observers.some((function(e){return e.config.enabled}))},i.isStale=function(){return this.observers.some((function(e){return e.isStale()}))},i.isStaleByTime=function(e){return void 0===e&&(e=0),!this.state.isSuccess||this.state.updatedAt+e<=Date.now()},i.onInteraction=function(e){var t=this.observers.find((function(t){return t.isStale()&&t.config.enabled&&(t.config.refetchOnWindowFocus&&"focus"===e||t.config.refetchOnReconnect&&"online"===e)}));t&&t.fetch().catch(o),this.continue()},i.subscribe=function(e){var r=new T(t({queryCache:this.queryCache,queryKey:this.queryKey},this.config));return r.subscribe(e),r},i.subscribeObserver=function(e){this.observers.push(e),this.clearGcTimeout()},i.unsubscribeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||this.isTransportCancelable&&this.cancel(),this.scheduleGc()},i.refetch=function(e,t){try{var r=this;return I((function(){return Q(r.fetch(void 0,t))}),(function(t){if(!0===(null==e?void 0:e.throwOnError))throw t}))}catch(e){return Promise.reject(e)}},i.fetchMore=function(e,t,r){try{return this.fetch({fetchMore:{fetchMoreVariable:e,previous:(null==t?void 0:t.previous)||!1}},r)}catch(e){return Promise.reject(e)}},i.fetch=function(e,t){try{var r=this;if(r.promise)return r.promise;if(t&&r.updateConfig(t),"function"!=typeof(t=r.config).queryFn)return;var n=t.queryFnParamsFilter,i=n?n(r.queryKey):r.queryKey;return r.promise=M((function(){return I((function(){var n;return R((function(){return t.infinite?Q(r.startInfiniteFetch(t,i,e),(function(e){n=e})):Q(r.startFetch(t,i,e),(function(e){n=e}))}),(function(){return r.setData(n),delete r.promise,n}))}),(function(e){throw r.dispatch({type:E.Error,error:e}),b(e)||c.error(e),delete r.promise,e}))}))(),r.promise}catch(e){return Promise.reject(e)}},i.startFetch=function(e,t,r){try{return this.state.isFetching||this.dispatch({type:E.Fetch}),this.tryFetchData(e,(function(){return e.queryFn.apply(void 0,t)}))}catch(e){return Promise.reject(e)}},i.startInfiniteFetch=function(e,t,r){try{var n=null==r?void 0:r.fetchMore,i=n||{},u=i.previous,o=i.fetchMoreVariable,c=!!n&&(u?"previous":"next"),s=this.state.data||[],a=M((function(r,n,i){var u=P(r,n);return void 0===i&&void 0!==u&&e.getFetchMore&&(i=e.getFetchMore(u,r)),Q(e.queryFn.apply(void 0,t.concat([i])),(function(e){return n?[e].concat(r):[].concat(r,[e])}))}));return this.state.isFetching||this.dispatch({type:E.Fetch,isFetchingMore:c}),this.tryFetchData(e,(function(){if(c)return a(s,u,o);if(s.length){for(var e=a([]),t=1;t<s.length;t++)e=e.then(a);return e}return a([])}))}catch(e){return Promise.reject(e)}},i.tryFetchData=function(e,t){try{var r=this;return new Promise((function(i,u){var o,c,s=!1,h=function(){s=!0,delete r.cancelFetch,delete r.continueFetch,delete r.isTransportCancelable,null==o||o()},d=function(e){h(),u(e)};r.cancelFetch=function(){d(new n);try{null==c||c()}catch(e){}},r.continueFetch=function(){null==o||o()};var v=M((function(){return I((function(){var e,n=t();return"function"==typeof(null==(e=n)?void 0:e.cancel)&&(c=function(){n.cancel()},r.isTransportCancelable=!0),Q(n,(function(e){!function(e){h(),i(e)}(e)}))}),(function(t){if(!s){var n,i=r.state.failureCount,u=e.retry,c=e.retryDelay;if(!0===u||i<u||"function"==typeof u&&u(i,t))return r.dispatch({type:E.Failed}),Q((n=a(c,i)||0,new Promise((function(e){setTimeout(e,n)}))),(function(){return R((function(){if(!f()||!l())return function(e,t){if(!t)return e&&e.then?e.then(L):Promise.resolve()}(new Promise((function(e){o=e})))}),(function(){s||v()}))}));d(t)}}))}));v()}))}catch(e){return Promise.reject(e)}},e}();function P(e,t){return t?e[0]:e[e.length-1]}function D(e,t,r){if(e.infinite&&e.getFetchMore&&Array.isArray(t))return Boolean(e.getFetchMore(P(t,r),t))}function A(){}function j(e,t){if(!t)return e&&e.then?e.then(A):Promise.resolve()}function k(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function G(e,t){var r=e();return r&&r.then?r.then(t):t(r)}var K=function(){function e(e){this.config=e||{},this.globalListeners=[],this.queries={},this.queriesArray=[],this.isFetching=0}var r=e.prototype;return r.notifyGlobalListeners=function(e){var t=this;this.isFetching=this.getQueries().reduce((function(e,t){return t.state.isFetching?e+1:e}),0),this.globalListeners.forEach((function(r){r(t,e)}))},r.getDefaultConfig=function(){return this.config.defaultConfig},r.getDefaultedQueryConfig=function(e){return C(this.getDefaultConfig(),void 0,e,{queryCache:this})},r.subscribe=function(e){var t=this;return this.globalListeners.push(e),function(){t.globalListeners=t.globalListeners.filter((function(t){return t!==e}))}},r.clear=function(e){this.removeQueries(),(null==e?void 0:e.notify)&&this.notifyGlobalListeners()},r.getQueries=function(e,t){if(!0===e||void 0===e)return this.queriesArray;var r;if("function"==typeof e)r=e;else{var n=this.getDefaultedQueryConfig().queryKeySerializerFn(e),i=n[0],u=n[1];r=function(e){return(null==t?void 0:t.exact)?e.queryHash===i:function e(t,r){return t===r||typeof t==typeof r&&("object"==typeof t&&!Object.keys(r).some((function(n){return!e(t[n],r[n])})))}(e.queryKey,u)}}return this.queriesArray.filter(r)},r.getQuery=function(e){return this.getQueries(e,{exact:!0})[0]},r.getQueryData=function(e){var t;return null==(t=this.getQuery(e))?void 0:t.state.data},r.removeQuery=function(e){this.queries[e.queryHash]&&(e.destroy(),delete this.queries[e.queryHash],this.queriesArray=this.queriesArray.filter((function(t){return t!==e})),this.notifyGlobalListeners(e))},r.removeQueries=function(e,t){var r=this;this.getQueries(e,t).forEach((function(e){r.removeQuery(e)}))},r.cancelQueries=function(e,t){this.getQueries(e,t).forEach((function(e){e.cancel()}))},r.invalidateQueries=function(e,t){try{var r=this,n=t||{},i=n.refetchActive,u=void 0===i||i,o=n.refetchInactive,c=void 0!==o&&o,s=n.throwOnError;return k((function(){return j(Promise.all(r.getQueries(e,t).map((function(e){var t=e.isEnabled();if(t&&u||!t&&c)return e.fetch()}))))}),(function(e){if(s)throw e}))}catch(e){return Promise.reject(e)}},r.resetErrorBoundaries=function(){this.getQueries().forEach((function(e){e.state.throwInErrorBoundary=!1}))},r.buildQuery=function(e,t){var r=this,n=this.getDefaultedQueryConfig(t),i=n.queryKeySerializerFn(e),u=i[0],o=i[1];if(this.queries[u])return this.queries[u];var c=new O({queryCache:this,queryKey:o,queryHash:u,config:n,notifyGlobalListeners:function(e){r.notifyGlobalListeners(e)}});return this.config.frozen||(this.queries[u]=c,this.queriesArray.push(c),this.notifyGlobalListeners(c)),c},r.prefetchQuery=function(){try{for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];v(n[1])&&(n[1].hasOwnProperty("throwOnError")||n[1].hasOwnProperty("force"))&&(n[3]=n[1],n[1]=void 0,n[2]=void 0);var u,o=d(n),c=o[0],s=o[1],a=o[2],h=e.getDefaultedQueryConfig(t({retry:!1},s));return k((function(){return u=e.buildQuery(c,h),G((function(){if((null==a?void 0:a.force)||u.isStaleByTime(s.staleTime))return j(u.fetch(void 0,h))}),(function(){return u.state.data}))}),(function(e){if(null==a?void 0:a.throwOnError)throw e}))}catch(e){return Promise.reject(e)}},r.setQueryData=function(e,r,n){var i=this.getQuery(e);i?i.setData(r):this.buildQuery(e,t({initialStale:void 0===(null==n?void 0:n.staleTime),initialData:a(r,void 0)},n))},e}(),B=H({frozen:u}),x=[B];function H(e){return new K(e)}function z(e){f()&&l()&&x.forEach((function(t){t.getQueries().forEach((function(t){t.onInteraction(e)}))}))}var J=F((function(){return z("focus")}));J((function(e){var t;if(!u&&(null==(t=window)?void 0:t.addEventListener))return window.addEventListener("visibilitychange",e,!1),window.addEventListener("focus",e,!1),function(){window.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}}));var N=F((function(){return z("online")}));N((function(e){var t;if(!u&&(null==(t=window)?void 0:t.addEventListener))return window.addEventListener("online",e,!1),function(){window.removeEventListener("online",e)}}));var U=e.createContext(B),V=function(){return e.useContext(U)},W=function(t){var r=t.queryCache,n=t.children,i=e.useMemo((function(){return r||H()}),[r]);return e.useEffect((function(){return x.push(i),function(){var e=x.indexOf(i);e>-1&&x.splice(e,1),null==r&&i.clear({notify:!1})}}),[i,r]),e.createElement(U.Provider,{value:i},n)},X=e.createContext(void 0);function Y(){return e.useContext(X)}var Z,$=function(r){var n=r.config,i=r.children,u=Y(),o=e.useMemo((function(){return u?(r=n,{shared:t({},(e=u).shared,r.shared),queries:t({},e.queries,r.queries),mutations:t({},e.mutations,r.mutations)}):n;var e,r}),[n,u]);return e.createElement(X.Provider,{value:o},i)};function _(t){var r=e.useRef(t);return r.current=t,e.useCallback((function(){return r.current}),[])}function ee(){var t=e.useRef(!1),r=e.useCallback((function(){return t.current}),[]);return e[u?"useEffect":"useLayoutEffect"]((function(){return t.current=!0,function(){t.current=!1}}),[]),r}function te(t){var r=ee(),n=e.useState(t),i=n[0],u=n[1];return[i,e.useCallback((function(e){var t;t=function(){r()&&u(e)},Promise.resolve().then(t).catch((function(e){return setTimeout((function(){throw e}))}))}),[r])]}function re(){var t=V(),r=te(t.isFetching),n=r[0],i=r[1];return e.useEffect((function(){return t.subscribe((function(){i(t.isFetching)}))}),[t,i]),n}function ne(e){var r=Y(),n=V(),i=(null==e?void 0:e.queryCache)||n;return function(e,r,n,i){return t({},S.shared,S.mutations,null==e?void 0:e.shared,null==e?void 0:e.mutations,null==r?void 0:r.shared,null==r?void 0:r.mutations,n,i)}(i.getDefaultConfig(),r,e,{queryCache:i})}function ie(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}!function(e){e.Reset="Reset",e.Loading="Loading",e.Resolve="Resolve",e.Reject="Reject"}(Z||(Z={}));var ue=function(){return t({},m(r.Idle),{data:void 0,error:null})};function oe(e,n){switch(n.type){case Z.Reset:return ue();case Z.Loading:return t({},m(r.Loading),{data:void 0,error:null});case Z.Resolve:return t({},m(r.Success),{data:n.data,error:null});case Z.Reject:return t({},m(r.Error),{data:void 0,error:n.error});default:return e}}function ce(r,n){void 0===n&&(n={});var u,o,s,a=_(n=ne(n)),h=e.useReducer(oe,null,ue),f=h[0],l=h[1],d=(u=l,o=ee(),e.useCallback((function(){if(o())return u.apply(void 0,arguments)}),[u,o])),v=_(r),y=e.useRef(),g=e.useCallback((s=function(e,t){void 0===t&&(t={});var r=a(),n=i++;y.current=n;var u,o=function(){return y.current===n};return function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}((function(){return d({type:Z.Loading}),ie(null==r.onMutate?void 0:r.onMutate(e),(function(n){return u=n,ie(v()(e),(function(n){return o()&&d({type:Z.Resolve,data:n}),ie(null==r.onSuccess?void 0:r.onSuccess(n,e),(function(){return ie(null==t.onSuccess?void 0:t.onSuccess(n,e),(function(){return ie(null==r.onSettled?void 0:r.onSettled(n,null,e),(function(){return ie(null==t.onSettled?void 0:t.onSettled(n,null,e),(function(){return n}))}))}))}))}))}))}),(function(n){return c.error(n),ie(null==r.onError?void 0:r.onError(n,e,u),(function(){return ie(null==t.onError?void 0:t.onError(n,e,u),(function(){return ie(null==r.onSettled?void 0:r.onSettled(void 0,n,e,u),(function(){return ie(null==t.onSettled?void 0:t.onSettled(void 0,n,e,u),(function(){var e;if(o()&&d({type:Z.Reject,error:n}),null!=(e=t.throwOnError)?e:r.throwOnError)throw n}))}))}))}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(s.apply(this,e))}catch(e){return Promise.reject(e)}}),[d,a,v]),p=e.useCallback((function(){d({type:Z.Reset})}),[d]);return e.useEffect((function(){var e=a(),t=e.suspense,r=e.useErrorBoundary;if((null!=r?r:t)&&f.error)throw f.error}),[a,f.error]),[g,t({},f,{reset:p})]}function se(t){void 0===t&&(t={}),t=function(e){var t=Y(),r=V(),n=(null==e?void 0:e.queryCache)||r;return C(n.getDefaultConfig(),t,e,{queryCache:n})}(t);var r,n=(r=te({})[1],e.useCallback((function(){return r({})}),[r])),i=e.useRef(),u=!i.current,o=i.current||new T(t);i.current=o,e.useEffect((function(){return o.subscribe((function(){n()}))}),[o,n]),u||o.updateConfig(t);var c=o.getCurrentResult();if(t.suspense||t.useErrorBoundary){var s=o.getCurrentQuery();if(c.isError&&s.state.throwInErrorBoundary)throw c.error;if(t.enabled&&t.suspense&&!c.isSuccess){var a=o.subscribe();throw o.fetch().finally(a)}}return c}function ae(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=d(t)[1];return se(n)}function he(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=d(r)[1],u=se(t({keepPreviousData:!0},i));return t({},u,{resolvedData:u.data,latestData:u.isPreviousData?void 0:u.data})}function fe(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=d(r)[1];return se(t({},i,{infinite:!0}))}export{n as CancelledError,r as QueryStatus,W as ReactQueryCacheProvider,$ as ReactQueryConfigProvider,b as isCancelledError,p as isError,H as makeQueryCache,B as queryCache,x as queryCaches,s as setConsole,J as setFocusHandler,N as setOnlineHandler,fe as useInfiniteQuery,re as useIsFetching,ce as useMutation,he as usePaginatedQuery,ae as useQuery,V as useQueryCache};
//# sourceMappingURL=react-query.min.mjs.map
