!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactQuery={},e.React)}(this,(function(e,t){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var n;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,(n=e.QueryStatus||(e.QueryStatus={})).Idle="idle",n.Loading="loading",n.Error="error",n.Success="success";var i=function(){},u=0,o="undefined"==typeof window;function c(){}var s=console||{error:c,warn:c,log:c};function a(e,t){return"function"==typeof e?e(t):e}function f(e,t){if("function"==typeof t)throw new Error("Cannot stringify non JSON value");return v(t)?Object.keys(t).sort().reduce((function(e,r){return e[r]=t[r],e}),{}):t}function h(){return"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}function l(){return void 0===navigator.onLine||navigator.onLine}function d(e){var t,n,i,u;return v(e[0])?(t=e[0].queryKey,n=e[0].queryFn,i=e[0].config,u=e[1]):v(e[1])?(t=e[0],i=e[1],u=e[2]):(t=e[0],n=e[1],i=e[2],u=e[3]),i=i?r({queryKey:t},i):{queryKey:t},n&&(i=r({},i,{queryFn:n})),[t,i,u]}function v(e){return e&&"object"==typeof e&&!Array.isArray(e)}function y(e){if(!g(e))return!1;var t=e.constructor;if(void 0===t)return!0;var r=t.prototype;return!!g(r)&&!!r.hasOwnProperty("isPrototypeOf")}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function p(e){return e instanceof i}function b(t){return{status:t,isLoading:t===e.QueryStatus.Loading,isSuccess:t===e.QueryStatus.Success,isError:t===e.QueryStatus.Error,isIdle:t===e.QueryStatus.Idle}}function m(e){var t;return function(r){t&&t(),t=r(e)}}var S={queries:{cacheTime:3e5,enabled:!0,notifyOnStatusChange:!0,queryKeySerializerFn:function(e){try{var t=Array.isArray(e)?e:[e],r=(n=t,JSON.stringify(n,f));return[r,t=JSON.parse(r)]}catch(e){throw new Error("A valid query key is required!")}var n},refetchOnMount:!0,refetchOnReconnect:!0,refetchOnWindowFocus:!0,retry:3,retryDelay:function(e){return Math.min(1e3*Math.pow(2,e),3e4)},staleTime:0,structuralSharing:!0}};function F(e,t,n,i){return r({},S.shared,S.queries,null==e?void 0:e.shared,null==e?void 0:e.queries,null==t?void 0:t.shared,null==t?void 0:t.queries,n,i)}function C(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Q(){}var q,w=function(){function e(e){this.config=e,this.queryCache=e.queryCache,this.initialFetchedCount=0,this.clear=this.clear.bind(this),this.refetch=this.refetch.bind(this),this.fetchMore=this.fetchMore.bind(this),this.updateQuery()}var t=e.prototype;return t.subscribe=function(e){return this.started=!0,this.updateListener=e,this.currentQuery.subscribeObserver(this),this.config.enabled&&this.config.forceFetchOnMount?this.fetch():this.optionalFetch(),this.updateTimers(),this.unsubscribe.bind(this)},t.unsubscribe=function(){this.started=!1,this.updateListener=void 0,this.clearTimers(),this.currentQuery.unsubscribeObserver(this)},t.updateConfig=function(e){var t=this.config;this.config=e;var r=this.updateQuery();if(this.started){if(r)return this.optionalFetch(),void this.updateTimers();e.enabled&&!t.enabled&&this.optionalFetch(),e.enabled===t.enabled&&e.staleTime===t.staleTime||this.updateStaleTimeout(),e.enabled===t.enabled&&e.refetchInterval===t.refetchInterval&&e.refetchIntervalInBackground===t.refetchIntervalInBackground||this.updateRefetchInterval()}},t.isStale=function(){return this.currentResult.isStale},t.getCurrentQuery=function(){return this.currentQuery},t.getCurrentResult=function(){return this.currentResult},t.clear=function(){return this.currentQuery.clear()},t.refetch=function(e){try{return this.currentQuery.refetch(e,this.config)}catch(e){return Promise.reject(e)}},t.fetchMore=function(e,t){try{return this.currentQuery.fetchMore(e,t,this.config)}catch(e){return Promise.reject(e)}},t.fetch=function(){var e=this;return C(function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}((function(){return C(e.currentQuery.fetch(void 0,e.config))}),Q))},t.optionalFetch=function(){!this.config.enabled||this.config.suspense&&this.currentResult.isFetched||!this.currentResult.isStale||!this.config.refetchOnMount&&1!==this.currentQuery.observers.length||this.fetch()},t.updateIsStale=function(){this.currentQuery.isStaleByTime(this.config.staleTime)!==this.currentResult.isStale&&(this.updateResult(),this.notify())},t.notify=function(){var e;null==(e=this.updateListener)||e.call(this,this.currentResult)},t.updateStaleTimeout=function(){var e=this;if(!o){this.clearStaleTimeout();var t=this.config.staleTime||0,r=this.currentResult,n=r.isStale,i=r.updatedAt;if(!n&&t!==1/0){var u=t-(Date.now()-i),c=Math.max(u,0);this.staleTimeoutId=setTimeout((function(){e.updateIsStale()}),c)}}},t.updateRefetchInterval=function(){var e=this;o||(this.clearRefetchInterval(),!this.config.enabled||!this.config.refetchInterval||this.config.refetchInterval<0||this.config.refetchInterval===1/0||(this.refetchIntervalId=setInterval((function(){(e.config.refetchIntervalInBackground||h())&&e.fetch()}),this.config.refetchInterval)))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval()},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearInterval(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.updateResult=function(){var e=this.currentQuery,t=this.currentResult,n=this.previousQueryResult,i=this.config,u=e.state,o=u.data,c=u.status,s=u.updatedAt,a=!1;i.keepPreviousData&&(u.isIdle||u.isLoading)&&(null==n?void 0:n.isSuccess)&&(o=n.data,s=n.updatedAt,c=n.status,a=!0);var f=!1;f=t||u.isFetched?e.isStaleByTime(i.staleTime):"function"==typeof i.initialStale?i.initialStale():"boolean"==typeof i.initialStale?i.initialStale:void 0===u.data,this.currentResult=r({},b(c),{canFetchMore:u.canFetchMore,clear:this.clear,data:o,error:u.error,failureCount:u.failureCount,fetchMore:this.fetchMore,isFetched:u.isFetched,isFetchedAfterMount:u.fetchedCount>this.initialFetchedCount,isFetching:u.isFetching,isFetchingMore:u.isFetchingMore,isPreviousData:a,isStale:f,refetch:this.refetch,updatedAt:s})},t.updateQuery=function(){var e=this.currentQuery,t=this.config.keepPreviousData&&e?r({},this.config,{initialData:void 0}):this.config,n=this.queryCache.buildQuery(t.queryKey,t);return n!==e&&(this.previousQueryResult=this.currentResult,this.currentQuery=n,this.initialFetchedCount=n.state.fetchedCount,this.updateResult(),this.started&&(null==e||e.unsubscribeObserver(this),this.currentQuery.subscribeObserver(this)),!0)},t.onQueryUpdate=function(e){var t=this.currentResult;this.updateResult();var r=this.currentResult,n=this.config;"Success"===e.type&&r.isSuccess?(null==n.onSuccess||n.onSuccess(r.data),null==n.onSettled||n.onSettled(r.data,null),this.updateTimers()):"Error"===e.type&&r.isError&&(null==n.onError||n.onError(r.error),null==n.onSettled||n.onSettled(void 0,r.error),this.updateTimers()),(r.data!==t.data||r.error!==t.error||n.notifyOnStatusChange)&&this.notify()},e}();function E(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function T(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function I(e,t){var r=e();return r&&r.then?r.then(t):t(r)}function R(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function O(){}!function(e){e.Failed="Failed",e.Fetch="Fetch",e.Success="Success",e.Error="Error"}(q||(q={}));var M=function(){function t(t){var n,i,u;this.config=t.config,this.queryCache=t.queryCache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.notifyGlobalListeners=t.notifyGlobalListeners,this.observers=[],this.state=(n=t.config,i="function"==typeof n.initialData?n.initialData():n.initialData,r({},b(u=void 0!==i?e.QueryStatus.Success:n.enabled?e.QueryStatus.Loading:e.QueryStatus.Idle),{error:null,isFetched:!1,isFetching:u===e.QueryStatus.Loading,isFetchingMore:!1,failureCount:0,fetchedCount:0,data:i,updatedAt:Date.now(),canFetchMore:L(n,i)})),this.cacheTime=t.config.cacheTime,this.scheduleGc()}var n=t.prototype;return n.updateConfig=function(e){this.config=e,this.cacheTime=Math.max(this.cacheTime,e.cacheTime||0)},n.dispatch=function(t){this.state=function(t,n){switch(n.type){case q.Failed:return r({},t,{failureCount:t.failureCount+1});case q.Fetch:var i=void 0!==t.data?e.QueryStatus.Success:e.QueryStatus.Loading;return r({},t,b(i),{isFetching:!0,isFetchingMore:n.isFetchingMore||!1,failureCount:0});case q.Success:return r({},t,b(e.QueryStatus.Success),{data:n.data,error:null,fetchedCount:t.fetchedCount+1,isFetched:!0,isFetching:!1,isFetchingMore:!1,canFetchMore:n.canFetchMore,updatedAt:Date.now(),failureCount:0});case q.Error:return r({},t,b(e.QueryStatus.Error),{error:n.error,fetchedCount:t.fetchedCount+1,isFetched:!0,isFetching:!1,isFetchingMore:!1,failureCount:t.failureCount+1,throwInErrorBoundary:!0});default:return t}}(this.state,t),this.observers.forEach((function(e){e.onQueryUpdate(t)})),this.notifyGlobalListeners(this)},n.scheduleGc=function(){var e=this;o||(this.clearGcTimeout(),this.cacheTime===1/0||this.observers.length>0||(this.gcTimeout=setTimeout((function(){e.clear()}),this.cacheTime)))},n.cancel=function(){var e;null==(e=this.cancelFetch)||e.call(this)},n.continue=function(){var e;null==(e=this.continueFetch)||e.call(this)},n.clearTimersObservers=function(){this.observers.forEach((function(e){e.clearTimers()}))},n.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},n.setData=function(e){var t,r,n=this.state.data,i=a(e,n);this.config.structuralSharing&&(i=function e(t,r){if(t===r)return t;var n=Array.isArray(t)&&Array.isArray(r);if(n||y(t)&&y(r)){for(var i=n?t.length:Object.keys(t).length,u=n?r:Object.keys(r),o=u.length,c=n?[]:{},s=0,a=0;a<o;a++){var f=n?a:u[a];c[f]=e(t[f],r[f]),c[f]===t[f]&&s++}return i===o&&s===i?t:c}return r}(n,i)),(null==(t=(r=this.config).isDataEqual)?void 0:t.call(r,n,i))&&(i=n);var u=L(this.config,i);this.dispatch({type:q.Success,data:i,canFetchMore:u})},n.clear=function(){this.queryCache.removeQuery(this)},n.destroy=function(){this.clearGcTimeout(),this.clearTimersObservers(),this.cancel()},n.isEnabled=function(){return this.observers.some((function(e){return e.config.enabled}))},n.isStale=function(){return this.observers.some((function(e){return e.isStale()}))},n.isStaleByTime=function(e){return void 0===e&&(e=0),!this.state.isSuccess||this.state.updatedAt+e<=Date.now()},n.onInteraction=function(e){var t=this.observers.find((function(t){return t.isStale()&&t.config.enabled&&(t.config.refetchOnWindowFocus&&"focus"===e||t.config.refetchOnReconnect&&"online"===e)}));t&&t.fetch().catch(c),this.continue()},n.subscribe=function(e){var t=new w(r({queryCache:this.queryCache,queryKey:this.queryKey},this.config));return t.subscribe(e),t},n.subscribeObserver=function(e){this.observers.push(e),this.clearGcTimeout()},n.unsubscribeObserver=function(e){this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||this.isTransportCancelable&&this.cancel(),this.scheduleGc()},n.refetch=function(e,t){try{var r=this;return T((function(){return E(r.fetch(void 0,t))}),(function(t){if(!0===(null==e?void 0:e.throwOnError))throw t}))}catch(e){return Promise.reject(e)}},n.fetchMore=function(e,t,r){try{return this.fetch({fetchMore:{fetchMoreVariable:e,previous:(null==t?void 0:t.previous)||!1}},r)}catch(e){return Promise.reject(e)}},n.fetch=function(e,t){try{var r=this;if(r.promise)return r.promise;if(t&&r.updateConfig(t),"function"!=typeof(t=r.config).queryFn)return;var n=t.queryFnParamsFilter,i=n?n(r.queryKey):r.queryKey;return r.promise=R((function(){return T((function(){var n;return I((function(){return t.infinite?E(r.startInfiniteFetch(t,i,e),(function(e){n=e})):E(r.startFetch(t,i,e),(function(e){n=e}))}),(function(){return r.setData(n),delete r.promise,n}))}),(function(e){throw r.dispatch({type:q.Error,error:e}),p(e)||s.error(e),delete r.promise,e}))}))(),r.promise}catch(e){return Promise.reject(e)}},n.startFetch=function(e,t,r){try{return this.state.isFetching||this.dispatch({type:q.Fetch}),this.tryFetchData(e,(function(){return e.queryFn.apply(void 0,t)}))}catch(e){return Promise.reject(e)}},n.startInfiniteFetch=function(e,t,r){try{var n=null==r?void 0:r.fetchMore,i=n||{},u=i.previous,o=i.fetchMoreVariable,c=!!n&&(u?"previous":"next"),s=this.state.data||[],a=R((function(r,n,i){var u=P(r,n);return void 0===i&&void 0!==u&&e.getFetchMore&&(i=e.getFetchMore(u,r)),E(e.queryFn.apply(void 0,t.concat([i])),(function(e){return n?[e].concat(r):[].concat(r,[e])}))}));return this.state.isFetching||this.dispatch({type:q.Fetch,isFetchingMore:c}),this.tryFetchData(e,(function(){if(c)return a(s,u,o);if(s.length){for(var e=a([]),t=1;t<s.length;t++)e=e.then(a);return e}return a([])}))}catch(e){return Promise.reject(e)}},n.tryFetchData=function(e,t){try{var r=this;return new Promise((function(n,u){var o,c,s=!1,f=function(){s=!0,delete r.cancelFetch,delete r.continueFetch,delete r.isTransportCancelable,null==o||o()},d=function(e){f(),u(e)};r.cancelFetch=function(){d(new i);try{null==c||c()}catch(e){}},r.continueFetch=function(){null==o||o()};var v=R((function(){return T((function(){var e,i=t();return"function"==typeof(null==(e=i)?void 0:e.cancel)&&(c=function(){i.cancel()},r.isTransportCancelable=!0),E(i,(function(e){!function(e){f(),n(e)}(e)}))}),(function(t){if(!s){var n,i=r.state.failureCount,u=e.retry,c=e.retryDelay;if(!0===u||i<u||"function"==typeof u&&u(i,t))return r.dispatch({type:q.Failed}),E((n=a(c,i)||0,new Promise((function(e){setTimeout(e,n)}))),(function(){return I((function(){if(!h()||!l())return function(e,t){if(!t)return e&&e.then?e.then(O):Promise.resolve()}(new Promise((function(e){o=e})))}),(function(){s||v()}))}));d(t)}}))}));v()}))}catch(e){return Promise.reject(e)}},t}();function P(e,t){return t?e[0]:e[e.length-1]}function L(e,t,r){if(e.infinite&&e.getFetchMore&&Array.isArray(t))return Boolean(e.getFetchMore(P(t,r),t))}function D(){}function j(e,t){if(!t)return e&&e.then?e.then(D):Promise.resolve()}function A(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function k(e,t){var r=e();return r&&r.then?r.then(t):t(r)}var G=function(){function e(e){this.config=e||{},this.globalListeners=[],this.queries={},this.queriesArray=[],this.isFetching=0}var t=e.prototype;return t.notifyGlobalListeners=function(e){var t=this;this.isFetching=this.getQueries().reduce((function(e,t){return t.state.isFetching?e+1:e}),0),this.globalListeners.forEach((function(r){r(t,e)}))},t.getDefaultConfig=function(){return this.config.defaultConfig},t.getDefaultedQueryConfig=function(e){return F(this.getDefaultConfig(),void 0,e,{queryCache:this})},t.subscribe=function(e){var t=this;return this.globalListeners.push(e),function(){t.globalListeners=t.globalListeners.filter((function(t){return t!==e}))}},t.clear=function(e){this.removeQueries(),(null==e?void 0:e.notify)&&this.notifyGlobalListeners()},t.getQueries=function(e,t){if(!0===e||void 0===e)return this.queriesArray;var r;if("function"==typeof e)r=e;else{var n=this.getDefaultedQueryConfig().queryKeySerializerFn(e),i=n[0],u=n[1];r=function(e){return(null==t?void 0:t.exact)?e.queryHash===i:function e(t,r){return t===r||typeof t==typeof r&&("object"==typeof t&&!Object.keys(r).some((function(n){return!e(t[n],r[n])})))}(e.queryKey,u)}}return this.queriesArray.filter(r)},t.getQuery=function(e){return this.getQueries(e,{exact:!0})[0]},t.getQueryData=function(e){var t;return null==(t=this.getQuery(e))?void 0:t.state.data},t.removeQuery=function(e){this.queries[e.queryHash]&&(e.destroy(),delete this.queries[e.queryHash],this.queriesArray=this.queriesArray.filter((function(t){return t!==e})),this.notifyGlobalListeners(e))},t.removeQueries=function(e,t){var r=this;this.getQueries(e,t).forEach((function(e){r.removeQuery(e)}))},t.cancelQueries=function(e,t){this.getQueries(e,t).forEach((function(e){e.cancel()}))},t.invalidateQueries=function(e,t){try{var r=this,n=t||{},i=n.refetchActive,u=void 0===i||i,o=n.refetchInactive,c=void 0!==o&&o,s=n.throwOnError;return A((function(){return j(Promise.all(r.getQueries(e,t).map((function(e){var t=e.isEnabled();if(t&&u||!t&&c)return e.fetch()}))))}),(function(e){if(s)throw e}))}catch(e){return Promise.reject(e)}},t.resetErrorBoundaries=function(){this.getQueries().forEach((function(e){e.state.throwInErrorBoundary=!1}))},t.buildQuery=function(e,t){var r=this,n=this.getDefaultedQueryConfig(t),i=n.queryKeySerializerFn(e),u=i[0],o=i[1];if(this.queries[u])return this.queries[u];var c=new M({queryCache:this,queryKey:o,queryHash:u,config:n,notifyGlobalListeners:function(e){r.notifyGlobalListeners(e)}});return this.config.frozen||(this.queries[u]=c,this.queriesArray.push(c),this.notifyGlobalListeners(c)),c},t.prefetchQuery=function(){try{for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v(n[1])&&(n[1].hasOwnProperty("throwOnError")||n[1].hasOwnProperty("force"))&&(n[3]=n[1],n[1]=void 0,n[2]=void 0);var u,o=d(n),c=o[0],s=o[1],a=o[2],f=e.getDefaultedQueryConfig(r({retry:!1},s));return A((function(){return u=e.buildQuery(c,f),k((function(){if((null==a?void 0:a.force)||u.isStaleByTime(s.staleTime))return j(u.fetch(void 0,f))}),(function(){return u.state.data}))}),(function(e){if(null==a?void 0:a.throwOnError)throw e}))}catch(e){return Promise.reject(e)}},t.setQueryData=function(e,t,n){var i=this.getQuery(e);i?i.setData(t):this.buildQuery(e,r({initialStale:void 0===(null==n?void 0:n.staleTime),initialData:a(t,void 0)},n))},e}(),K=x({frozen:o}),B=[K];function x(e){return new G(e)}function H(e){h()&&l()&&B.forEach((function(t){t.getQueries().forEach((function(t){t.onInteraction(e)}))}))}var z=m((function(){return H("focus")}));z((function(e){var t;if(!o&&(null==(t=window)?void 0:t.addEventListener))return window.addEventListener("visibilitychange",e,!1),window.addEventListener("focus",e,!1),function(){window.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}}));var J=m((function(){return H("online")}));J((function(e){var t;if(!o&&(null==(t=window)?void 0:t.addEventListener))return window.addEventListener("online",e,!1),function(){window.removeEventListener("online",e)}}));var N=t.createContext(K),U=function(){return t.useContext(N)},V=t.createContext(void 0);function W(){return t.useContext(V)}var _;function X(e){var r=t.useRef(e);return r.current=e,t.useCallback((function(){return r.current}),[])}function Y(){var e=t.useRef(!1),r=t.useCallback((function(){return e.current}),[]);return t[o?"useEffect":"useLayoutEffect"]((function(){return e.current=!0,function(){e.current=!1}}),[]),r}function Z(e){var r=Y(),n=t.useState(e),i=n[0],u=n[1];return[i,t.useCallback((function(e){var t;t=function(){r()&&u(e)},Promise.resolve().then(t).catch((function(e){return setTimeout((function(){throw e}))}))}),[r])]}function $(e){var t=W(),n=U(),i=(null==e?void 0:e.queryCache)||n;return function(e,t,n,i){return r({},S.shared,S.mutations,null==e?void 0:e.shared,null==e?void 0:e.mutations,null==t?void 0:t.shared,null==t?void 0:t.mutations,n,i)}(i.getDefaultConfig(),t,e,{queryCache:i})}function ee(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}!function(e){e.Reset="Reset",e.Loading="Loading",e.Resolve="Resolve",e.Reject="Reject"}(_||(_={}));var te=function(){return r({},b(e.QueryStatus.Idle),{data:void 0,error:null})};function re(t,n){switch(n.type){case _.Reset:return te();case _.Loading:return r({},b(e.QueryStatus.Loading),{data:void 0,error:null});case _.Resolve:return r({},b(e.QueryStatus.Success),{data:n.data,error:null});case _.Reject:return r({},b(e.QueryStatus.Error),{data:void 0,error:n.error});default:return t}}function ne(e){void 0===e&&(e={}),e=function(e){var t=W(),r=U(),n=(null==e?void 0:e.queryCache)||r;return F(n.getDefaultConfig(),t,e,{queryCache:n})}(e);var r,n=(r=Z({})[1],t.useCallback((function(){return r({})}),[r])),i=t.useRef(),u=!i.current,o=i.current||new w(e);i.current=o,t.useEffect((function(){return o.subscribe((function(){n()}))}),[o,n]),u||o.updateConfig(e);var c=o.getCurrentResult();if(e.suspense||e.useErrorBoundary){var s=o.getCurrentQuery();if(c.isError&&s.state.throwInErrorBoundary)throw c.error;if(e.enabled&&e.suspense&&!c.isSuccess){var a=o.subscribe();throw o.fetch().finally(a)}}return c}e.CancelledError=i,e.ReactQueryCacheProvider=function(e){var r=e.queryCache,n=e.children,i=t.useMemo((function(){return r||x()}),[r]);return t.useEffect((function(){return B.push(i),function(){var e=B.indexOf(i);e>-1&&B.splice(e,1),null==r&&i.clear({notify:!1})}}),[i,r]),t.createElement(N.Provider,{value:i},n)},e.ReactQueryConfigProvider=function(e){var n=e.config,i=e.children,u=W(),o=t.useMemo((function(){return u?(t=n,{shared:r({},(e=u).shared,t.shared),queries:r({},e.queries,t.queries),mutations:r({},e.mutations,t.mutations)}):n;var e,t}),[n,u]);return t.createElement(V.Provider,{value:o},i)},e.isCancelledError=p,e.isError=function(e){return e instanceof Error},e.makeQueryCache=x,e.queryCache=K,e.queryCaches=B,e.setConsole=function(e){s=e},e.setFocusHandler=z,e.setOnlineHandler=J,e.useInfiniteQuery=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=d(t)[1];return ne(r({},i,{infinite:!0}))},e.useIsFetching=function(){var e=U(),r=Z(e.isFetching),n=r[0],i=r[1];return t.useEffect((function(){return e.subscribe((function(){i(e.isFetching)}))}),[e,i]),n},e.useMutation=function(e,n){void 0===n&&(n={});var i,o,c,a=X(n=$(n)),f=t.useReducer(re,null,te),h=f[0],l=f[1],d=(i=l,o=Y(),t.useCallback((function(){if(o())return i.apply(void 0,arguments)}),[i,o])),v=X(e),y=t.useRef(),g=t.useCallback((c=function(e,t){void 0===t&&(t={});var r=a(),n=u++;y.current=n;var i,o=function(){return y.current===n};return function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}((function(){return d({type:_.Loading}),ee(null==r.onMutate?void 0:r.onMutate(e),(function(n){return i=n,ee(v()(e),(function(n){return o()&&d({type:_.Resolve,data:n}),ee(null==r.onSuccess?void 0:r.onSuccess(n,e),(function(){return ee(null==t.onSuccess?void 0:t.onSuccess(n,e),(function(){return ee(null==r.onSettled?void 0:r.onSettled(n,null,e),(function(){return ee(null==t.onSettled?void 0:t.onSettled(n,null,e),(function(){return n}))}))}))}))}))}))}),(function(n){return s.error(n),ee(null==r.onError?void 0:r.onError(n,e,i),(function(){return ee(null==t.onError?void 0:t.onError(n,e,i),(function(){return ee(null==r.onSettled?void 0:r.onSettled(void 0,n,e,i),(function(){return ee(null==t.onSettled?void 0:t.onSettled(void 0,n,e,i),(function(){var e;if(o()&&d({type:_.Reject,error:n}),null!=(e=t.throwOnError)?e:r.throwOnError)throw n}))}))}))}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(c.apply(this,e))}catch(e){return Promise.reject(e)}}),[d,a,v]),p=t.useCallback((function(){d({type:_.Reset})}),[d]);return t.useEffect((function(){var e=a(),t=e.suspense,r=e.useErrorBoundary;if((null!=r?r:t)&&h.error)throw h.error}),[a,h.error]),[g,r({},h,{reset:p})]},e.usePaginatedQuery=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=d(t)[1],u=ne(r({keepPreviousData:!0},i));return r({},u,{resolvedData:u.data,latestData:u.isPreviousData?void 0:u.data})},e.useQuery=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=d(t)[1];return ne(n)},e.useQueryCache=U,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-query.production.min.js.map
