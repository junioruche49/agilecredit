{"version":3,"file":"react-query.mjs","sources":["../src/core/types.ts","../src/core/utils.ts","../src/core/config.ts","../src/core/queryObserver.ts","../src/core/query.ts","../src/core/queryCache.ts","../src/core/setFocusHandler.ts","../src/core/setOnlineHandler.ts","../src/react/ReactQueryCacheProvider.tsx","../src/react/ReactQueryConfigProvider.tsx","../src/react/utils.ts","../src/react/useIsFetching.ts","../src/react/useDefaultedMutationConfig.tsx","../src/react/useMutation.ts","../src/react/useDefaultedQueryConfig.tsx","../src/react/useBaseQuery.ts","../src/react/useQuery.ts","../src/react/usePaginatedQuery.ts","../src/react/useInfiniteQuery.ts"],"sourcesContent":["import type { FetchMoreOptions, RefetchOptions } from './query'\nimport type { QueryCache } from './queryCache'\n\nexport type QueryKey =\n  | boolean\n  | null\n  | number\n  | object\n  | string\n  | undefined\n  | { [key: number]: QueryKey }\n  | { [key: string]: QueryKey }\n  | readonly QueryKey[]\n\nexport type ArrayQueryKey = QueryKey[]\n\nexport type QueryFunction<TResult> = (\n  ...args: any[]\n) => TResult | Promise<TResult>\n\nexport type TypedQueryFunction<\n  TResult,\n  TArgs extends TypedQueryFunctionArgs = TypedQueryFunctionArgs\n> = (...args: TArgs) => TResult | Promise<TResult>\n\nexport type TypedQueryFunctionArgs = readonly [unknown, ...unknown[]]\n\nexport type InitialDataFunction<TResult> = () => TResult | undefined\n\nexport type InitialStaleFunction = () => boolean\n\nexport type QueryKeySerializerFunction = (\n  queryKey: QueryKey\n) => [string, QueryKey[]]\n\nexport interface BaseQueryConfig<TResult, TError = unknown, TData = TResult> {\n  /**\n   * If `false`, failed queries will not retry by default.\n   * If `true`, failed queries will retry infinitely., failureCount: num\n   * If set to an integer number, e.g. 3, failed queries will retry until the failed query count meets that number.\n   * If set to a function `(failureCount, error) => boolean` failed queries will retry until the function returns false.\n   */\n  retry?: boolean | number | ((failureCount: number, error: TError) => boolean)\n  retryDelay?: number | ((retryAttempt: number) => number)\n  staleTime?: number\n  cacheTime?: number\n  isDataEqual?: (oldData: unknown, newData: unknown) => boolean\n  queryFn?: QueryFunction<TData>\n  queryKey?: QueryKey\n  queryKeySerializerFn?: QueryKeySerializerFunction\n  queryFnParamsFilter?: (args: ArrayQueryKey) => ArrayQueryKey\n  initialData?: TResult | InitialDataFunction<TResult>\n  initialStale?: boolean | InitialStaleFunction\n  infinite?: true\n  /**\n   * Set this to `false` to disable structural sharing between query results.\n   * Defaults to `true`.\n   */\n  structuralSharing?: boolean\n  /**\n   * This function can be set to automatically get the next cursor for infinite queries.\n   * The result will also be used to determine the value of `canFetchMore`.\n   */\n  getFetchMore?: (lastPage: TData, allPages: TData[]) => unknown\n}\n\nexport interface QueryObserverConfig<\n  TResult,\n  TError = unknown,\n  TData = TResult\n> extends BaseQueryConfig<TResult, TError, TData> {\n  /**\n   * Set this to `false` to disable automatic refetching when the query mounts or changes query keys.\n   * To refetch the query, use the `refetch` method returned from the `useQuery` instance.\n   * Defaults to `true`.\n   */\n  enabled?: boolean | unknown\n  /**\n   * If set to a number, the query will continuously refetch at this frequency in milliseconds.\n   * Defaults to `false`.\n   */\n  refetchInterval?: number | false\n  /**\n   * If set to `true`, the query will continue to refetch while their tab/window is in the background.\n   * Defaults to `false`.\n   */\n  refetchIntervalInBackground?: boolean\n  /**\n   * Set this to `true` or `false` to enable/disable automatic refetching on window focus for this query.\n   * Defaults to `true`.\n   */\n  refetchOnWindowFocus?: boolean\n  /**\n   * Set this to `true` or `false` to enable/disable automatic refetching on reconnect for this query.\n   * Defaults to `true`.\n   */\n  refetchOnReconnect?: boolean\n  /**\n   * If set to `false`, will disable additional instances of a query to trigger background refetches.\n   * Defaults to `true`.\n   */\n  refetchOnMount?: boolean\n  /**\n   * Set this to `true` to always fetch when the component mounts (regardless of staleness).\n   * Defaults to `false`.\n   */\n  forceFetchOnMount?: boolean\n  /**\n   * Whether a change to the query status should re-render a component.\n   * If set to `false`, the component will only re-render when the actual `data` or `error` changes.\n   * Defaults to `true`.\n   */\n  notifyOnStatusChange?: boolean\n  /**\n   * This callback will fire any time the query successfully fetches new data.\n   */\n  onSuccess?: (data: TResult) => void\n  /**\n   * This callback will fire if the query encounters an error and will be passed the error.\n   */\n  onError?: (err: TError) => void\n  /**\n   * This callback will fire any time the query is either successfully fetched or errors and be passed either the data or error.\n   */\n  onSettled?: (data: TResult | undefined, error: TError | null) => void\n  /**\n   * Whether errors should be thrown instead of setting the `error` property.\n   * Defaults to `false`.\n   */\n  useErrorBoundary?: boolean\n  /**\n   * If set to `true`, the query will suspend when `status === 'loading'`\n   * and throw errors when `status === 'error'`.\n   * Defaults to `false`.\n   */\n  suspense?: boolean\n  /**\n   * Set this to `true` to keep the previous `data` when fetching based on a new query key.\n   * Defaults to `false`.\n   */\n  keepPreviousData?: boolean\n  /**\n   * By default the query cache from the context is used, but a different cache can be specified.\n   */\n  queryCache?: QueryCache\n}\n\nexport interface QueryConfig<TResult, TError = unknown>\n  extends QueryObserverConfig<TResult, TError> {}\n\nexport interface PaginatedQueryConfig<TResult, TError = unknown>\n  extends QueryObserverConfig<TResult, TError> {}\n\nexport interface InfiniteQueryConfig<TResult, TError = unknown>\n  extends QueryObserverConfig<TResult[], TError, TResult> {}\n\nexport type IsFetchingMoreValue = 'previous' | 'next' | false\n\nexport enum QueryStatus {\n  Idle = 'idle',\n  Loading = 'loading',\n  Error = 'error',\n  Success = 'success',\n}\n\nexport interface QueryResultBase<TResult, TError = unknown> {\n  canFetchMore: boolean | undefined\n  clear: () => void\n  data: TResult | undefined\n  error: TError | null\n  failureCount: number\n  fetchMore: (\n    fetchMoreVariable?: unknown,\n    options?: FetchMoreOptions\n  ) => Promise<TResult | undefined>\n  isError: boolean\n  isFetched: boolean\n  isFetchedAfterMount: boolean\n  isFetching: boolean\n  isFetchingMore?: IsFetchingMoreValue\n  isIdle: boolean\n  isLoading: boolean\n  isStale: boolean\n  isSuccess: boolean\n  isPreviousData: boolean\n  refetch: (options?: RefetchOptions) => Promise<TResult | undefined>\n  status: QueryStatus\n  updatedAt: number\n}\n\nexport interface QueryResult<TResult, TError = unknown>\n  extends QueryResultBase<TResult, TError> {}\n\nexport interface PaginatedQueryResult<TResult, TError = unknown>\n  extends QueryResultBase<TResult, TError> {\n  resolvedData: TResult | undefined\n  latestData: TResult | undefined\n}\n\nexport interface InfiniteQueryResult<TResult, TError = unknown>\n  extends QueryResultBase<TResult[], TError> {}\n\nexport interface MutateConfig<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> {\n  onSuccess?: (data: TResult, variables: TVariables) => Promise<void> | void\n  onError?: (\n    error: TError,\n    variables: TVariables,\n    snapshotValue: TSnapshot\n  ) => Promise<void> | void\n  onSettled?: (\n    data: undefined | TResult,\n    error: TError | null,\n    variables: TVariables,\n    snapshotValue?: TSnapshot\n  ) => Promise<void> | void\n  throwOnError?: boolean\n}\n\nexport interface MutationConfig<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> extends MutateConfig<TResult, TError, TVariables, TSnapshot> {\n  onMutate?: (variables: TVariables) => Promise<TSnapshot> | TSnapshot\n  useErrorBoundary?: boolean\n  suspense?: boolean\n  /**\n   * By default the query cache from the context is used, but a different cache can be specified.\n   */\n  queryCache?: QueryCache\n}\n\nexport type MutationFunction<TResult, TVariables = unknown> = (\n  variables: TVariables\n) => Promise<TResult>\n\nexport type MutateFunction<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> = (\n  variables?: TVariables,\n  config?: MutateConfig<TResult, TError, TVariables, TSnapshot>\n) => Promise<TResult | undefined>\n\nexport type MutationResultPair<TResult, TError, TVariables, TSnapshot> = [\n  MutateFunction<TResult, TError, TVariables, TSnapshot>,\n  MutationResult<TResult, TError>\n]\n\nexport interface MutationResult<TResult, TError = unknown> {\n  status: QueryStatus\n  data: TResult | undefined\n  error: TError | null\n  isIdle: boolean\n  isLoading: boolean\n  isSuccess: boolean\n  isError: boolean\n  reset: () => void\n}\n\nexport interface ReactQueryConfig<TResult = unknown, TError = unknown> {\n  queries?: ReactQueryQueriesConfig<TResult, TError>\n  shared?: ReactQuerySharedConfig\n  mutations?: ReactQueryMutationsConfig<TResult, TError>\n}\n\nexport interface ReactQuerySharedConfig {\n  suspense?: boolean\n}\n\nexport interface ReactQueryQueriesConfig<TResult, TError>\n  extends QueryObserverConfig<TResult, TError> {}\n\nexport interface ReactQueryMutationsConfig<\n  TResult,\n  TError = unknown,\n  TVariables = unknown,\n  TSnapshot = unknown\n> extends MutationConfig<TResult, TError, TVariables, TSnapshot> {}\n","import { QueryConfig, QueryStatus, QueryKey, QueryFunction } from './types'\n\n// TYPES\n\nexport type DataUpdateFunction<TInput, TOutput> = (input: TInput) => TOutput\n\nexport type Updater<TInput, TOutput> =\n  | TOutput\n  | DataUpdateFunction<TInput, TOutput>\n\ntype ConsoleFunction = (...args: any[]) => void\n\nexport interface ConsoleObject {\n  log: ConsoleFunction\n  warn: ConsoleFunction\n  error: ConsoleFunction\n}\n\ninterface Cancelable {\n  cancel(): void\n}\n\nexport class CancelledError {}\n\n// UTILS\n\nlet _uid = 0\nexport const uid = () => _uid++\n\nexport const isServer = typeof window === 'undefined'\n\nexport function noop(): void {\n  return void 0\n}\n\nexport let Console: ConsoleObject = console || {\n  error: noop,\n  warn: noop,\n  log: noop,\n}\n\nexport function setConsole(c: ConsoleObject) {\n  Console = c\n}\n\nexport function functionalUpdate<TInput, TOutput>(\n  updater: Updater<TInput, TOutput>,\n  input: TInput\n): TOutput {\n  return typeof updater === 'function'\n    ? (updater as DataUpdateFunction<TInput, TOutput>)(input)\n    : updater\n}\n\nfunction stableStringifyReplacer(_key: string, value: any): unknown {\n  if (typeof value === 'function') {\n    throw new Error('Cannot stringify non JSON value')\n  }\n\n  if (isObject(value)) {\n    return Object.keys(value)\n      .sort()\n      .reduce((result, key) => {\n        result[key] = value[key]\n        return result\n      }, {} as any)\n  }\n\n  return value\n}\n\nexport function stableStringify(value: any): string {\n  return JSON.stringify(value, stableStringifyReplacer)\n}\n\nexport function deepIncludes(a: any, b: any): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (typeof a !== typeof b) {\n    return false\n  }\n\n  if (typeof a === 'object') {\n    return !Object.keys(b).some(key => !deepIncludes(a[key], b[key]))\n  }\n\n  return false\n}\n\nexport function isDocumentVisible(): boolean {\n  // document global can be unavailable in react native\n  if (typeof document === 'undefined') {\n    return true\n  }\n  return [undefined, 'visible', 'prerender'].includes(document.visibilityState)\n}\n\nexport function isOnline(): boolean {\n  return navigator.onLine === undefined || navigator.onLine\n}\n\nexport function getQueryArgs<TResult, TError, TOptions = undefined>(\n  args: any[]\n): [QueryKey, QueryConfig<TResult, TError>, TOptions] {\n  let queryKey: QueryKey\n  let queryFn: QueryFunction<TResult> | undefined\n  let config: QueryConfig<TResult, TError> | undefined\n  let options: TOptions\n\n  if (isObject(args[0])) {\n    queryKey = args[0].queryKey\n    queryFn = args[0].queryFn\n    config = args[0].config\n    options = args[1]\n  } else if (isObject(args[1])) {\n    queryKey = args[0]\n    config = args[1]\n    options = args[2]\n  } else {\n    queryKey = args[0]\n    queryFn = args[1]\n    config = args[2]\n    options = args[3]\n  }\n\n  config = config ? { queryKey, ...config } : { queryKey }\n\n  if (queryFn) {\n    config = { ...config, queryFn }\n  }\n\n  return [queryKey, config, options]\n}\n\nexport function deepEqual(a: any, b: any): boolean {\n  return replaceEqualDeep(a, b) === a\n}\n\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\nexport function replaceEqualDeep<T>(a: unknown, b: T): T\nexport function replaceEqualDeep(a: any, b: any): any {\n  if (a === b) {\n    return a\n  }\n\n  const array = Array.isArray(a) && Array.isArray(b)\n\n  if (array || (isPlainObject(a) && isPlainObject(b))) {\n    const aSize = array ? a.length : Object.keys(a).length\n    const bItems = array ? b : Object.keys(b)\n    const bSize = bItems.length\n    const copy: any = array ? [] : {}\n\n    let equalItems = 0\n\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i]\n      copy[key] = replaceEqualDeep(a[key], b[key])\n      if (copy[key] === a[key]) {\n        equalItems++\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy\n  }\n\n  return b\n}\n\nexport function isObject(a: unknown): boolean {\n  return a && typeof a === 'object' && !Array.isArray(a)\n}\n\n// Copied from: https://github.com/jonschlinkert/is-plain-object\nfunction isPlainObject(o: any): o is Object {\n  if (!hasObjectPrototype(o)) {\n    return false\n  }\n\n  // If has modified constructor\n  const ctor = o.constructor\n  if (typeof ctor === 'undefined') {\n    return true\n  }\n\n  // If has modified prototype\n  const prot = ctor.prototype\n  if (!hasObjectPrototype(prot)) {\n    return false\n  }\n\n  // If constructor does not have an Object-specific method\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false\n  }\n\n  // Most likely a plain Object\n  return true\n}\n\nfunction hasObjectPrototype(o: any): boolean {\n  return Object.prototype.toString.call(o) === '[object Object]'\n}\n\nexport function isCancelable(value: any): value is Cancelable {\n  return typeof value?.cancel === 'function'\n}\n\nexport function isError(value: any): value is Error {\n  return value instanceof Error\n}\n\nexport function isCancelledError(value: any): value is CancelledError {\n  return value instanceof CancelledError\n}\n\nexport function sleep(timeout: number): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(resolve, timeout)\n  })\n}\n\nexport function getStatusProps<T extends QueryStatus>(status: T) {\n  return {\n    status,\n    isLoading: status === QueryStatus.Loading,\n    isSuccess: status === QueryStatus.Success,\n    isError: status === QueryStatus.Error,\n    isIdle: status === QueryStatus.Idle,\n  }\n}\n\nexport function createSetHandler(fn: () => void) {\n  let removePreviousHandler: (() => void) | void\n  return (callback: (handler: () => void) => void) => {\n    // Unsub the old handler\n    if (removePreviousHandler) {\n      removePreviousHandler()\n    }\n    // Sub the new handler\n    removePreviousHandler = callback(fn)\n  }\n}\n","import { stableStringify } from './utils'\nimport {\n  ArrayQueryKey,\n  QueryKey,\n  QueryKeySerializerFunction,\n  ReactQueryConfig,\n  QueryConfig,\n  MutationConfig,\n} from './types'\n\n// TYPES\n\nexport interface ReactQueryConfigRef {\n  current: ReactQueryConfig\n}\n\n// CONFIG\n\nexport const defaultQueryKeySerializerFn: QueryKeySerializerFunction = (\n  queryKey: QueryKey\n): [string, ArrayQueryKey] => {\n  try {\n    let arrayQueryKey: ArrayQueryKey = Array.isArray(queryKey)\n      ? queryKey\n      : [queryKey]\n    const queryHash = stableStringify(arrayQueryKey)\n    arrayQueryKey = JSON.parse(queryHash)\n    return [queryHash, arrayQueryKey]\n  } catch {\n    throw new Error('A valid query key is required!')\n  }\n}\n\n/**\n * Config merging strategy\n *\n * When using hooks the config will be merged in the following order:\n *\n * 1. These defaults.\n * 2. Defaults from the hook query cache.\n * 3. Combined defaults from any config providers in the tree.\n * 4. Query/mutation config provided to the hook.\n *\n * When using a query cache directly the config will be merged in the following order:\n *\n * 1. These defaults.\n * 2. Defaults from the query cache.\n * 3. Query/mutation config provided to the query cache method.\n */\nexport const DEFAULT_STALE_TIME = 0\nexport const DEFAULT_CACHE_TIME = 5 * 60 * 1000\nexport const DEFAULT_CONFIG: ReactQueryConfig = {\n  queries: {\n    cacheTime: DEFAULT_CACHE_TIME,\n    enabled: true,\n    notifyOnStatusChange: true,\n    queryKeySerializerFn: defaultQueryKeySerializerFn,\n    refetchOnMount: true,\n    refetchOnReconnect: true,\n    refetchOnWindowFocus: true,\n    retry: 3,\n    retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000),\n    staleTime: DEFAULT_STALE_TIME,\n    structuralSharing: true,\n  },\n}\n\nexport function mergeReactQueryConfigs(\n  a: ReactQueryConfig,\n  b: ReactQueryConfig\n): ReactQueryConfig {\n  return {\n    shared: {\n      ...a.shared,\n      ...b.shared,\n    },\n    queries: {\n      ...a.queries,\n      ...b.queries,\n    },\n    mutations: {\n      ...a.mutations,\n      ...b.mutations,\n    },\n  }\n}\n\nexport function getDefaultedQueryConfig<TResult, TError>(\n  queryCacheConfig?: ReactQueryConfig,\n  contextConfig?: ReactQueryConfig,\n  config?: QueryConfig<TResult, TError>,\n  configOverrides?: QueryConfig<TResult, TError>\n): QueryConfig<TResult, TError> {\n  return {\n    ...DEFAULT_CONFIG.shared,\n    ...DEFAULT_CONFIG.queries,\n    ...queryCacheConfig?.shared,\n    ...queryCacheConfig?.queries,\n    ...contextConfig?.shared,\n    ...contextConfig?.queries,\n    ...config,\n    ...configOverrides,\n  } as QueryConfig<TResult, TError>\n}\n\nexport function getDefaultedMutationConfig<\n  TResult,\n  TError,\n  TVariables,\n  TSnapshot\n>(\n  queryCacheConfig?: ReactQueryConfig,\n  contextConfig?: ReactQueryConfig,\n  config?: MutationConfig<TResult, TError, TVariables, TSnapshot>,\n  configOverrides?: MutationConfig<TResult, TError, TVariables, TSnapshot>\n): MutationConfig<TResult, TError, TVariables, TSnapshot> {\n  return {\n    ...DEFAULT_CONFIG.shared,\n    ...DEFAULT_CONFIG.mutations,\n    ...queryCacheConfig?.shared,\n    ...queryCacheConfig?.mutations,\n    ...contextConfig?.shared,\n    ...contextConfig?.mutations,\n    ...config,\n    ...configOverrides,\n  } as MutationConfig<TResult, TError, TVariables, TSnapshot>\n}\n","import { getStatusProps, isServer, isDocumentVisible } from './utils'\nimport type { QueryResult, QueryObserverConfig } from './types'\nimport type { Query, Action, FetchMoreOptions, RefetchOptions } from './query'\nimport type { QueryCache } from './queryCache'\n\nexport type UpdateListener<TResult, TError> = (\n  result: QueryResult<TResult, TError>\n) => void\n\nexport class QueryObserver<TResult, TError> {\n  config: QueryObserverConfig<TResult, TError>\n\n  private queryCache: QueryCache\n  private currentQuery!: Query<TResult, TError>\n  private currentResult!: QueryResult<TResult, TError>\n  private previousQueryResult?: QueryResult<TResult, TError>\n  private updateListener?: UpdateListener<TResult, TError>\n  private initialFetchedCount: number\n  private staleTimeoutId?: number\n  private refetchIntervalId?: number\n  private started?: boolean\n\n  constructor(config: QueryObserverConfig<TResult, TError>) {\n    this.config = config\n    this.queryCache = config.queryCache!\n    this.initialFetchedCount = 0\n\n    // Bind exposed methods\n    this.clear = this.clear.bind(this)\n    this.refetch = this.refetch.bind(this)\n    this.fetchMore = this.fetchMore.bind(this)\n\n    // Subscribe to the query\n    this.updateQuery()\n  }\n\n  subscribe(listener?: UpdateListener<TResult, TError>): () => void {\n    this.started = true\n    this.updateListener = listener\n    this.currentQuery.subscribeObserver(this)\n\n    if (this.config.enabled && this.config.forceFetchOnMount) {\n      this.fetch()\n    } else {\n      this.optionalFetch()\n    }\n\n    this.updateTimers()\n    return this.unsubscribe.bind(this)\n  }\n\n  unsubscribe(): void {\n    this.started = false\n    this.updateListener = undefined\n    this.clearTimers()\n    this.currentQuery.unsubscribeObserver(this)\n  }\n\n  updateConfig(config: QueryObserverConfig<TResult, TError>): void {\n    const prevConfig = this.config\n    this.config = config\n\n    const updated = this.updateQuery()\n\n    // Take no further actions if the observer did not start yet\n    if (!this.started) {\n      return\n    }\n\n    // If we subscribed to a new query, optionally fetch and update refetch\n    if (updated) {\n      this.optionalFetch()\n      this.updateTimers()\n      return\n    }\n\n    // Optionally fetch if the query became enabled\n    if (config.enabled && !prevConfig.enabled) {\n      this.optionalFetch()\n    }\n\n    // Update stale interval if needed\n    if (\n      config.enabled !== prevConfig.enabled ||\n      config.staleTime !== prevConfig.staleTime\n    ) {\n      this.updateStaleTimeout()\n    }\n\n    // Update refetch interval if needed\n    if (\n      config.enabled !== prevConfig.enabled ||\n      config.refetchInterval !== prevConfig.refetchInterval ||\n      config.refetchIntervalInBackground !==\n        prevConfig.refetchIntervalInBackground\n    ) {\n      this.updateRefetchInterval()\n    }\n  }\n\n  isStale(): boolean {\n    return this.currentResult.isStale\n  }\n\n  getCurrentQuery(): Query<TResult, TError> {\n    return this.currentQuery\n  }\n\n  getCurrentResult(): QueryResult<TResult, TError> {\n    return this.currentResult\n  }\n\n  clear(): void {\n    return this.currentQuery.clear()\n  }\n\n  async refetch(options?: RefetchOptions): Promise<TResult | undefined> {\n    return this.currentQuery.refetch(options, this.config)\n  }\n\n  async fetchMore(\n    fetchMoreVariable?: unknown,\n    options?: FetchMoreOptions\n  ): Promise<TResult | undefined> {\n    return this.currentQuery.fetchMore(fetchMoreVariable, options, this.config)\n  }\n\n  async fetch(): Promise<TResult | undefined> {\n    try {\n      return await this.currentQuery.fetch(undefined, this.config)\n    } catch {\n      // ignore\n    }\n  }\n\n  private optionalFetch(): void {\n    if (\n      this.config.enabled && // Don't auto refetch if disabled\n      !(this.config.suspense && this.currentResult.isFetched) && // Don't refetch if in suspense mode and the data is already fetched\n      this.currentResult.isStale && // Only refetch if stale\n      (this.config.refetchOnMount || this.currentQuery.observers.length === 1)\n    ) {\n      this.fetch()\n    }\n  }\n\n  private updateIsStale(): void {\n    const isStale = this.currentQuery.isStaleByTime(this.config.staleTime)\n    if (isStale !== this.currentResult.isStale) {\n      this.updateResult()\n      this.notify()\n    }\n  }\n\n  private notify(): void {\n    this.updateListener?.(this.currentResult)\n  }\n\n  private updateStaleTimeout(): void {\n    if (isServer) {\n      return\n    }\n\n    this.clearStaleTimeout()\n\n    const staleTime = this.config.staleTime || 0\n    const { isStale, updatedAt } = this.currentResult\n\n    if (isStale || staleTime === Infinity) {\n      return\n    }\n\n    const timeElapsed = Date.now() - updatedAt\n    const timeUntilStale = staleTime - timeElapsed\n    const timeout = Math.max(timeUntilStale, 0)\n\n    this.staleTimeoutId = setTimeout(() => {\n      this.updateIsStale()\n    }, timeout)\n  }\n\n  private updateRefetchInterval(): void {\n    if (isServer) {\n      return\n    }\n\n    this.clearRefetchInterval()\n\n    if (\n      !this.config.enabled ||\n      !this.config.refetchInterval ||\n      this.config.refetchInterval < 0 ||\n      this.config.refetchInterval === Infinity\n    ) {\n      return\n    }\n\n    this.refetchIntervalId = setInterval(() => {\n      if (this.config.refetchIntervalInBackground || isDocumentVisible()) {\n        this.fetch()\n      }\n    }, this.config.refetchInterval)\n  }\n\n  updateTimers(): void {\n    this.updateStaleTimeout()\n    this.updateRefetchInterval()\n  }\n\n  clearTimers(): void {\n    this.clearStaleTimeout()\n    this.clearRefetchInterval()\n  }\n\n  private clearStaleTimeout(): void {\n    if (this.staleTimeoutId) {\n      clearInterval(this.staleTimeoutId)\n      this.staleTimeoutId = undefined\n    }\n  }\n\n  private clearRefetchInterval(): void {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId)\n      this.refetchIntervalId = undefined\n    }\n  }\n\n  private updateResult(): void {\n    const { currentQuery, currentResult, previousQueryResult, config } = this\n    const { state } = currentQuery\n    let { data, status, updatedAt } = state\n    let isPreviousData = false\n\n    // Keep previous data if needed\n    if (\n      config.keepPreviousData &&\n      (state.isIdle || state.isLoading) &&\n      previousQueryResult?.isSuccess\n    ) {\n      data = previousQueryResult.data\n      updatedAt = previousQueryResult.updatedAt\n      status = previousQueryResult.status\n      isPreviousData = true\n    }\n\n    let isStale = false\n\n    // When the query has not been fetched yet and this is the initial render,\n    // determine the staleness based on the initialStale or existence of initial data.\n    if (!currentResult && !state.isFetched) {\n      if (typeof config.initialStale === 'function') {\n        isStale = config.initialStale()\n      } else if (typeof config.initialStale === 'boolean') {\n        isStale = config.initialStale\n      } else {\n        isStale = typeof state.data === 'undefined'\n      }\n    } else {\n      isStale = currentQuery.isStaleByTime(config.staleTime)\n    }\n\n    this.currentResult = {\n      ...getStatusProps(status),\n      canFetchMore: state.canFetchMore,\n      clear: this.clear,\n      data,\n      error: state.error,\n      failureCount: state.failureCount,\n      fetchMore: this.fetchMore,\n      isFetched: state.isFetched,\n      isFetchedAfterMount: state.fetchedCount > this.initialFetchedCount,\n      isFetching: state.isFetching,\n      isFetchingMore: state.isFetchingMore,\n      isPreviousData,\n      isStale,\n      refetch: this.refetch,\n      updatedAt,\n    }\n  }\n\n  private updateQuery(): boolean {\n    const prevQuery = this.currentQuery\n\n    // Remove the initial data when there is an existing query\n    // because this data should not be used for a new query\n    const config =\n      this.config.keepPreviousData && prevQuery\n        ? { ...this.config, initialData: undefined }\n        : this.config\n\n    const newQuery = this.queryCache.buildQuery(config.queryKey, config)\n\n    if (newQuery === prevQuery) {\n      return false\n    }\n\n    this.previousQueryResult = this.currentResult\n    this.currentQuery = newQuery\n    this.initialFetchedCount = newQuery.state.fetchedCount\n    this.updateResult()\n\n    if (this.started) {\n      prevQuery?.unsubscribeObserver(this)\n      this.currentQuery.subscribeObserver(this)\n    }\n\n    return true\n  }\n\n  onQueryUpdate(action: Action<TResult, TError>): void {\n    // Store current result and get new result\n    const prevResult = this.currentResult\n    this.updateResult()\n\n    const { currentResult, config } = this\n\n    // We need to check the action because the state could have\n    // transitioned from success to success in case of `setQueryData`.\n    if (action.type === 'Success' && currentResult.isSuccess) {\n      config.onSuccess?.(currentResult.data!)\n      config.onSettled?.(currentResult.data!, null)\n      this.updateTimers()\n    } else if (action.type === 'Error' && currentResult.isError) {\n      config.onError?.(currentResult.error!)\n      config.onSettled?.(undefined, currentResult.error!)\n      this.updateTimers()\n    }\n\n    if (\n      // Always notify on data or error change\n      currentResult.data !== prevResult.data ||\n      currentResult.error !== prevResult.error ||\n      // Maybe notify on other changes\n      config.notifyOnStatusChange\n    ) {\n      this.notify()\n    }\n  }\n}\n","import {\n  CancelledError,\n  Console,\n  Updater,\n  functionalUpdate,\n  getStatusProps,\n  isCancelable,\n  isCancelledError,\n  isDocumentVisible,\n  isOnline,\n  isServer,\n  noop,\n  replaceEqualDeep,\n  sleep,\n} from './utils'\nimport {\n  ArrayQueryKey,\n  InitialDataFunction,\n  IsFetchingMoreValue,\n  QueryConfig,\n  QueryFunction,\n  QueryStatus,\n} from './types'\nimport type { QueryCache } from './queryCache'\nimport { QueryObserver, UpdateListener } from './queryObserver'\n\n// TYPES\n\ninterface QueryInitConfig<TResult, TError> {\n  queryCache: QueryCache\n  queryKey: ArrayQueryKey\n  queryHash: string\n  config: QueryConfig<TResult, TError>\n  notifyGlobalListeners: (query: Query<TResult, TError>) => void\n}\n\nexport interface QueryState<TResult, TError> {\n  canFetchMore?: boolean\n  data?: TResult\n  error: TError | null\n  failureCount: number\n  fetchedCount: number\n  isError: boolean\n  isFetched: boolean\n  isFetching: boolean\n  isFetchingMore: IsFetchingMoreValue\n  isIdle: boolean\n  isLoading: boolean\n  isSuccess: boolean\n  status: QueryStatus\n  throwInErrorBoundary?: boolean\n  updatedAt: number\n}\n\ninterface FetchOptions {\n  fetchMore?: FetchMoreOptions\n}\n\nexport interface FetchMoreOptions {\n  fetchMoreVariable?: unknown\n  previous: boolean\n}\n\nexport interface RefetchOptions {\n  throwOnError?: boolean\n}\n\nexport enum ActionType {\n  Failed = 'Failed',\n  Fetch = 'Fetch',\n  Success = 'Success',\n  Error = 'Error',\n}\n\ninterface FailedAction {\n  type: ActionType.Failed\n}\n\ninterface FetchAction {\n  type: ActionType.Fetch\n  isFetchingMore?: IsFetchingMoreValue\n}\n\ninterface SuccessAction<TResult> {\n  type: ActionType.Success\n  data: TResult | undefined\n  canFetchMore?: boolean\n}\n\ninterface ErrorAction<TError> {\n  type: ActionType.Error\n  error: TError\n}\n\nexport type Action<TResult, TError> =\n  | ErrorAction<TError>\n  | FailedAction\n  | FetchAction\n  | SuccessAction<TResult>\n\n// CLASS\n\nexport class Query<TResult, TError> {\n  queryKey: ArrayQueryKey\n  queryHash: string\n  config: QueryConfig<TResult, TError>\n  observers: QueryObserver<TResult, TError>[]\n  state: QueryState<TResult, TError>\n  cacheTime: number\n\n  private queryCache: QueryCache\n  private promise?: Promise<TResult | undefined>\n  private gcTimeout?: number\n  private cancelFetch?: () => void\n  private continueFetch?: () => void\n  private isTransportCancelable?: boolean\n  private notifyGlobalListeners: (query: Query<TResult, TError>) => void\n\n  constructor(init: QueryInitConfig<TResult, TError>) {\n    this.config = init.config\n    this.queryCache = init.queryCache\n    this.queryKey = init.queryKey\n    this.queryHash = init.queryHash\n    this.notifyGlobalListeners = init.notifyGlobalListeners\n    this.observers = []\n    this.state = getDefaultState(init.config)\n    this.cacheTime = init.config.cacheTime!\n    this.scheduleGc()\n  }\n\n  private updateConfig(config: QueryConfig<TResult, TError>): void {\n    this.config = config\n    this.cacheTime = Math.max(this.cacheTime, config.cacheTime || 0)\n  }\n\n  private dispatch(action: Action<TResult, TError>): void {\n    this.state = queryReducer(this.state, action)\n\n    this.observers.forEach(observer => {\n      observer.onQueryUpdate(action)\n    })\n\n    this.notifyGlobalListeners(this)\n  }\n\n  private scheduleGc(): void {\n    if (isServer) {\n      return\n    }\n\n    this.clearGcTimeout()\n\n    if (this.cacheTime === Infinity || this.observers.length > 0) {\n      return\n    }\n\n    this.gcTimeout = setTimeout(() => {\n      this.clear()\n    }, this.cacheTime)\n  }\n\n  cancel(): void {\n    this.cancelFetch?.()\n  }\n\n  private continue(): void {\n    this.continueFetch?.()\n  }\n\n  private clearTimersObservers(): void {\n    this.observers.forEach(observer => {\n      observer.clearTimers()\n    })\n  }\n\n  private clearGcTimeout() {\n    if (this.gcTimeout) {\n      clearTimeout(this.gcTimeout)\n      this.gcTimeout = undefined\n    }\n  }\n\n  setData(updater: Updater<TResult | undefined, TResult>): void {\n    const prevData = this.state.data\n\n    // Get the new data\n    let data: TResult | undefined = functionalUpdate(updater, prevData)\n\n    // Structurally share data between prev and new data if needed\n    if (this.config.structuralSharing) {\n      data = replaceEqualDeep(prevData, data)\n    }\n\n    // Use prev data if an isDataEqual function is defined and returns `true`\n    if (this.config.isDataEqual?.(prevData, data)) {\n      data = prevData\n    }\n\n    // Try to determine if more data can be fetched\n    const canFetchMore = hasMorePages(this.config, data)\n\n    // Set data and mark it as cached\n    this.dispatch({\n      type: ActionType.Success,\n      data,\n      canFetchMore,\n    })\n  }\n\n  clear(): void {\n    this.queryCache.removeQuery(this)\n  }\n\n  destroy(): void {\n    this.clearGcTimeout()\n    this.clearTimersObservers()\n    this.cancel()\n  }\n\n  isEnabled(): boolean {\n    return this.observers.some(observer => observer.config.enabled)\n  }\n\n  isStale(): boolean {\n    return this.observers.some(observer => observer.isStale())\n  }\n\n  isStaleByTime(staleTime = 0): boolean {\n    return (\n      !this.state.isSuccess || this.state.updatedAt + staleTime <= Date.now()\n    )\n  }\n\n  onInteraction(type: 'focus' | 'online'): void {\n    // Execute the first observer which is enabled,\n    // stale and wants to refetch on this interaction.\n    const observer = this.observers.find(\n      observer =>\n        observer.isStale() &&\n        observer.config.enabled &&\n        ((observer.config.refetchOnWindowFocus && type === 'focus') ||\n          (observer.config.refetchOnReconnect && type === 'online'))\n    )\n\n    if (observer) {\n      observer.fetch().catch(noop)\n    }\n\n    // Continue any paused fetch\n    this.continue()\n  }\n\n  subscribe(\n    listener?: UpdateListener<TResult, TError>\n  ): QueryObserver<TResult, TError> {\n    const observer = new QueryObserver<TResult, TError>({\n      queryCache: this.queryCache,\n      queryKey: this.queryKey,\n      ...this.config,\n    })\n\n    observer.subscribe(listener)\n\n    return observer\n  }\n\n  subscribeObserver(observer: QueryObserver<TResult, TError>): void {\n    this.observers.push(observer)\n\n    // Stop the query from being garbage collected\n    this.clearGcTimeout()\n  }\n\n  unsubscribeObserver(observer: QueryObserver<TResult, TError>): void {\n    this.observers = this.observers.filter(x => x !== observer)\n\n    if (!this.observers.length) {\n      // If the transport layer does not support cancellation\n      // we'll let the query continue so the result can be cached\n      if (this.isTransportCancelable) {\n        this.cancel()\n      }\n    }\n\n    this.scheduleGc()\n  }\n\n  async refetch(\n    options?: RefetchOptions,\n    config?: QueryConfig<TResult, TError>\n  ): Promise<TResult | undefined> {\n    try {\n      return await this.fetch(undefined, config)\n    } catch (error) {\n      if (options?.throwOnError === true) {\n        throw error\n      }\n    }\n  }\n\n  async fetchMore(\n    fetchMoreVariable?: unknown,\n    options?: FetchMoreOptions,\n    config?: QueryConfig<TResult, TError>\n  ): Promise<TResult | undefined> {\n    return this.fetch(\n      {\n        fetchMore: {\n          fetchMoreVariable,\n          previous: options?.previous || false,\n        },\n      },\n      config\n    )\n  }\n\n  async fetch(\n    options?: FetchOptions,\n    config?: QueryConfig<TResult, TError>\n  ): Promise<TResult | undefined> {\n    // If we are already fetching, return current promise\n    if (this.promise) {\n      return this.promise\n    }\n\n    // Update config if passed, otherwise the config from the last execution is used\n    if (config) {\n      this.updateConfig(config)\n    }\n\n    config = this.config\n\n    // Check if there is a query function\n    if (typeof config.queryFn !== 'function') {\n      return\n    }\n\n    // Get the query function params\n    const filter = config.queryFnParamsFilter\n    const params = filter ? filter(this.queryKey) : this.queryKey\n\n    this.promise = (async () => {\n      try {\n        let data: any\n\n        if (config.infinite) {\n          data = await this.startInfiniteFetch(config, params, options)\n        } else {\n          data = await this.startFetch(config, params, options)\n        }\n\n        // Set success state\n        this.setData(data)\n\n        // Cleanup\n        delete this.promise\n\n        // Return data\n        return data\n      } catch (error) {\n        // Set error state\n        this.dispatch({\n          type: ActionType.Error,\n          error,\n        })\n\n        // Log error\n        if (!isCancelledError(error)) {\n          Console.error(error)\n        }\n\n        // Cleanup\n        delete this.promise\n\n        // Propagate error\n        throw error\n      }\n    })()\n\n    return this.promise\n  }\n\n  private async startFetch(\n    config: QueryConfig<TResult, TError>,\n    params: unknown[],\n    _options?: FetchOptions\n  ): Promise<TResult> {\n    // Create function to fetch the data\n    const fetchData = () => config.queryFn!(...params)\n\n    // Set to fetching state if not already in it\n    if (!this.state.isFetching) {\n      this.dispatch({ type: ActionType.Fetch })\n    }\n\n    // Try to fetch the data\n    return this.tryFetchData(config, fetchData)\n  }\n\n  private async startInfiniteFetch(\n    config: QueryConfig<TResult, TError>,\n    params: unknown[],\n    options?: FetchOptions\n  ): Promise<TResult[]> {\n    const fetchMore = options?.fetchMore\n    const { previous, fetchMoreVariable } = fetchMore || {}\n    const isFetchingMore = fetchMore ? (previous ? 'previous' : 'next') : false\n    const prevPages: TResult[] = (this.state.data as any) || []\n\n    // Create function to fetch a page\n    const fetchPage = async (\n      pages: TResult[],\n      prepend?: boolean,\n      cursor?: unknown\n    ) => {\n      const lastPage = getLastPage(pages, prepend)\n\n      if (\n        typeof cursor === 'undefined' &&\n        typeof lastPage !== 'undefined' &&\n        config.getFetchMore\n      ) {\n        cursor = config.getFetchMore(lastPage, pages)\n      }\n\n      const page = await config.queryFn!(...params, cursor)\n\n      return prepend ? [page, ...pages] : [...pages, page]\n    }\n\n    // Create function to fetch the data\n    const fetchData = () => {\n      if (isFetchingMore) {\n        return fetchPage(prevPages, previous, fetchMoreVariable)\n      } else if (!prevPages.length) {\n        return fetchPage([])\n      } else {\n        let promise = fetchPage([])\n        for (let i = 1; i < prevPages.length; i++) {\n          promise = promise.then(fetchPage)\n        }\n        return promise\n      }\n    }\n\n    // Set to fetching state if not already in it\n    if (!this.state.isFetching) {\n      this.dispatch({ type: ActionType.Fetch, isFetchingMore })\n    }\n\n    // Try to get the data\n    return this.tryFetchData(config, fetchData)\n  }\n\n  private async tryFetchData<T>(\n    config: QueryConfig<TResult, TError>,\n    fn: QueryFunction<T>\n  ): Promise<T> {\n    return new Promise<T>((outerResolve, outerReject) => {\n      let resolved = false\n      let continueLoop: () => void\n      let cancelTransport: () => void\n\n      const done = () => {\n        resolved = true\n\n        delete this.cancelFetch\n        delete this.continueFetch\n        delete this.isTransportCancelable\n\n        // End loop if currently paused\n        continueLoop?.()\n      }\n\n      const resolve = (value: any) => {\n        done()\n        outerResolve(value)\n      }\n\n      const reject = (value: any) => {\n        done()\n        outerReject(value)\n      }\n\n      // Create callback to cancel this fetch\n      this.cancelFetch = () => {\n        reject(new CancelledError())\n        try {\n          cancelTransport?.()\n        } catch {}\n      }\n\n      // Create callback to continue this fetch\n      this.continueFetch = () => {\n        continueLoop?.()\n      }\n\n      // Create loop function\n      const run = async () => {\n        try {\n          // Execute query\n          const promiseOrValue = fn()\n\n          // Check if the transport layer support cancellation\n          if (isCancelable(promiseOrValue)) {\n            cancelTransport = () => {\n              promiseOrValue.cancel()\n            }\n            this.isTransportCancelable = true\n          }\n\n          // Await data\n          resolve(await promiseOrValue)\n        } catch (error) {\n          // Stop if the fetch is already resolved\n          if (resolved) {\n            return\n          }\n\n          // Do we need to retry the request?\n          const { failureCount } = this.state\n          const { retry, retryDelay } = config\n\n          const shouldRetry =\n            retry === true ||\n            failureCount < retry! ||\n            (typeof retry === 'function' && retry(failureCount, error))\n\n          if (!shouldRetry) {\n            // We are done if the query does not need to be retried\n            reject(error)\n            return\n          }\n\n          // Increase the failureCount\n          this.dispatch({ type: ActionType.Failed })\n\n          // Delay\n          await sleep(functionalUpdate(retryDelay, failureCount) || 0)\n\n          // Pause retry if the document is not visible or when the device is offline\n          if (!isDocumentVisible() || !isOnline()) {\n            await new Promise(continueResolve => {\n              continueLoop = continueResolve\n            })\n          }\n\n          // Try again if not resolved yet\n          if (!resolved) {\n            run()\n          }\n        }\n      }\n\n      // Start loop\n      run()\n    })\n  }\n}\n\nfunction getLastPage<TResult>(pages: TResult[], previous?: boolean): TResult {\n  return previous ? pages[0] : pages[pages.length - 1]\n}\n\nfunction hasMorePages<TResult, TError>(\n  config: QueryConfig<TResult, TError>,\n  pages: unknown,\n  previous?: boolean\n): boolean | undefined {\n  if (config.infinite && config.getFetchMore && Array.isArray(pages)) {\n    return Boolean(config.getFetchMore(getLastPage(pages, previous), pages))\n  }\n}\n\nfunction getDefaultState<TResult, TError>(\n  config: QueryConfig<TResult, TError>\n): QueryState<TResult, TError> {\n  const initialData =\n    typeof config.initialData === 'function'\n      ? (config.initialData as InitialDataFunction<TResult>)()\n      : config.initialData\n\n  const hasInitialData = typeof initialData !== 'undefined'\n\n  const initialStatus = hasInitialData\n    ? QueryStatus.Success\n    : config.enabled\n    ? QueryStatus.Loading\n    : QueryStatus.Idle\n\n  return {\n    ...getStatusProps(initialStatus),\n    error: null,\n    isFetched: false,\n    isFetching: initialStatus === QueryStatus.Loading,\n    isFetchingMore: false,\n    failureCount: 0,\n    fetchedCount: 0,\n    data: initialData,\n    updatedAt: Date.now(),\n    canFetchMore: hasMorePages(config, initialData),\n  }\n}\n\nexport function queryReducer<TResult, TError>(\n  state: QueryState<TResult, TError>,\n  action: Action<TResult, TError>\n): QueryState<TResult, TError> {\n  switch (action.type) {\n    case ActionType.Failed:\n      return {\n        ...state,\n        failureCount: state.failureCount + 1,\n      }\n    case ActionType.Fetch:\n      const status =\n        typeof state.data !== 'undefined'\n          ? QueryStatus.Success\n          : QueryStatus.Loading\n      return {\n        ...state,\n        ...getStatusProps(status),\n        isFetching: true,\n        isFetchingMore: action.isFetchingMore || false,\n        failureCount: 0,\n      }\n    case ActionType.Success:\n      return {\n        ...state,\n        ...getStatusProps(QueryStatus.Success),\n        data: action.data,\n        error: null,\n        fetchedCount: state.fetchedCount + 1,\n        isFetched: true,\n        isFetching: false,\n        isFetchingMore: false,\n        canFetchMore: action.canFetchMore,\n        updatedAt: Date.now(),\n        failureCount: 0,\n      }\n    case ActionType.Error:\n      return {\n        ...state,\n        ...getStatusProps(QueryStatus.Error),\n        error: action.error,\n        fetchedCount: state.fetchedCount + 1,\n        isFetched: true,\n        isFetching: false,\n        isFetchingMore: false,\n        failureCount: state.failureCount + 1,\n        throwInErrorBoundary: true,\n      }\n    default:\n      return state\n  }\n}\n","import {\n  Updater,\n  deepIncludes,\n  functionalUpdate,\n  getQueryArgs,\n  isDocumentVisible,\n  isObject,\n  isOnline,\n  isServer,\n} from './utils'\nimport { getDefaultedQueryConfig } from './config'\nimport { Query } from './query'\nimport {\n  QueryConfig,\n  QueryFunction,\n  QueryKey,\n  ReactQueryConfig,\n  TypedQueryFunction,\n  TypedQueryFunctionArgs,\n} from './types'\n\n// TYPES\n\ninterface QueryCacheConfig {\n  frozen?: boolean\n  defaultConfig?: ReactQueryConfig\n}\n\ninterface ClearOptions {\n  notify?: boolean\n}\n\ninterface PrefetchQueryOptions {\n  force?: boolean\n  throwOnError?: boolean\n}\n\ninterface InvalidateQueriesOptions extends QueryPredicateOptions {\n  refetchActive?: boolean\n  refetchInactive?: boolean\n  throwOnError?: boolean\n}\n\ninterface QueryPredicateOptions {\n  exact?: boolean\n}\n\ntype QueryPredicate = QueryKey | QueryPredicateFn | true\n\ntype QueryPredicateFn = (query: Query<unknown, unknown>) => boolean\n\nexport interface PrefetchQueryObjectConfig<TResult, TError> {\n  queryKey: QueryKey\n  queryFn?: QueryFunction<TResult>\n  config?: QueryConfig<TResult, TError>\n  options?: PrefetchQueryOptions\n}\n\ninterface QueryHashMap {\n  [hash: string]: Query<any, any>\n}\n\ntype QueryCacheListener = (\n  cache: QueryCache,\n  query?: Query<unknown, unknown>\n) => void\n\n// CLASS\n\nexport class QueryCache {\n  isFetching: number\n\n  private config: QueryCacheConfig\n  private globalListeners: QueryCacheListener[]\n  private queries: QueryHashMap\n  private queriesArray: Query<any, any>[]\n\n  constructor(config?: QueryCacheConfig) {\n    this.config = config || {}\n\n    // A frozen cache does not add new queries to the cache\n    this.globalListeners = []\n\n    this.queries = {}\n    this.queriesArray = []\n    this.isFetching = 0\n  }\n\n  private notifyGlobalListeners(query?: Query<any, any>) {\n    this.isFetching = this.getQueries().reduce(\n      (acc, query) => (query.state.isFetching ? acc + 1 : acc),\n      0\n    )\n\n    this.globalListeners.forEach(listener => {\n      listener(this, query)\n    })\n  }\n\n  getDefaultConfig() {\n    return this.config.defaultConfig\n  }\n\n  getDefaultedQueryConfig<TResult, TError>(\n    config?: QueryConfig<TResult, TError>\n  ): QueryConfig<TResult, TError> {\n    return getDefaultedQueryConfig(this.getDefaultConfig(), undefined, config, {\n      queryCache: this,\n    })\n  }\n\n  subscribe(listener: QueryCacheListener): () => void {\n    this.globalListeners.push(listener)\n    return () => {\n      this.globalListeners = this.globalListeners.filter(x => x !== listener)\n    }\n  }\n\n  clear(options?: ClearOptions): void {\n    this.removeQueries()\n    if (options?.notify) {\n      this.notifyGlobalListeners()\n    }\n  }\n\n  getQueries<TResult = unknown, TError = unknown>(\n    predicate?: QueryPredicate,\n    options?: QueryPredicateOptions\n  ): Query<TResult, TError>[] {\n    if (predicate === true || typeof predicate === 'undefined') {\n      return this.queriesArray\n    }\n\n    let predicateFn: QueryPredicateFn\n\n    if (typeof predicate === 'function') {\n      predicateFn = predicate as QueryPredicateFn\n    } else {\n      const config = this.getDefaultedQueryConfig()\n      const [queryHash, queryKey] = config.queryKeySerializerFn!(predicate)\n\n      predicateFn = d =>\n        options?.exact\n          ? d.queryHash === queryHash\n          : deepIncludes(d.queryKey, queryKey)\n    }\n\n    return this.queriesArray.filter(predicateFn)\n  }\n\n  getQuery<TResult, TError = unknown>(\n    predicate: QueryPredicate\n  ): Query<TResult, TError> | undefined {\n    return this.getQueries<TResult, TError>(predicate, { exact: true })[0]\n  }\n\n  getQueryData<TResult>(predicate: QueryPredicate): TResult | undefined {\n    return this.getQuery<TResult>(predicate)?.state.data\n  }\n\n  removeQuery(query: Query<any, any>): void {\n    if (this.queries[query.queryHash]) {\n      query.destroy()\n      delete this.queries[query.queryHash]\n      this.queriesArray = this.queriesArray.filter(x => x !== query)\n      this.notifyGlobalListeners(query)\n    }\n  }\n\n  removeQueries(\n    predicate?: QueryPredicate,\n    options?: QueryPredicateOptions\n  ): void {\n    this.getQueries(predicate, options).forEach(query => {\n      this.removeQuery(query)\n    })\n  }\n\n  cancelQueries(\n    predicate?: QueryPredicate,\n    options?: QueryPredicateOptions\n  ): void {\n    this.getQueries(predicate, options).forEach(query => {\n      query.cancel()\n    })\n  }\n\n  async invalidateQueries(\n    predicate?: QueryPredicate,\n    options?: InvalidateQueriesOptions\n  ): Promise<void> {\n    const { refetchActive = true, refetchInactive = false, throwOnError } =\n      options || {}\n\n    try {\n      await Promise.all(\n        this.getQueries(predicate, options).map(query => {\n          const enabled = query.isEnabled()\n\n          if ((enabled && refetchActive) || (!enabled && refetchInactive)) {\n            return query.fetch()\n          }\n\n          return undefined\n        })\n      )\n    } catch (err) {\n      if (throwOnError) {\n        throw err\n      }\n    }\n  }\n\n  resetErrorBoundaries(): void {\n    this.getQueries().forEach(query => {\n      query.state.throwInErrorBoundary = false\n    })\n  }\n\n  buildQuery<TResult, TError = unknown>(\n    userQueryKey: QueryKey,\n    queryConfig?: QueryConfig<TResult, TError>\n  ): Query<TResult, TError> {\n    const config = this.getDefaultedQueryConfig(queryConfig)\n    const [queryHash, queryKey] = config.queryKeySerializerFn!(userQueryKey)\n\n    if (this.queries[queryHash]) {\n      return this.queries[queryHash] as Query<TResult, TError>\n    }\n\n    const query = new Query<TResult, TError>({\n      queryCache: this,\n      queryKey,\n      queryHash,\n      config,\n      notifyGlobalListeners: query => {\n        this.notifyGlobalListeners(query)\n      },\n    })\n\n    if (!this.config.frozen) {\n      this.queries[queryHash] = query\n      this.queriesArray.push(query)\n      this.notifyGlobalListeners(query)\n    }\n\n    return query\n  }\n\n  // Parameter syntax with optional prefetch options\n  async prefetchQuery<TResult = unknown, TError = unknown>(\n    queryKey: QueryKey,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Parameter syntax with query function and optional prefetch options\n  async prefetchQuery<TResult, TError, TArgs extends TypedQueryFunctionArgs>(\n    queryKey: QueryKey,\n    queryFn: TypedQueryFunction<TResult, TArgs>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  async prefetchQuery<TResult = unknown, TError = unknown>(\n    queryKey: QueryKey,\n    queryFn: QueryFunction<TResult>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Parameter syntax with query function, config and optional prefetch options\n  async prefetchQuery<TResult, TError, TArgs extends TypedQueryFunctionArgs>(\n    queryKey: QueryKey,\n    queryFn: TypedQueryFunction<TResult, TArgs>,\n    queryConfig: QueryConfig<TResult, TError>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  async prefetchQuery<TResult = unknown, TError = unknown>(\n    queryKey: QueryKey,\n    queryFn: QueryFunction<TResult>,\n    queryConfig: QueryConfig<TResult, TError>,\n    options?: PrefetchQueryOptions\n  ): Promise<TResult | undefined>\n\n  // Object syntax\n  async prefetchQuery<TResult = unknown, TError = unknown>(\n    config: PrefetchQueryObjectConfig<TResult, TError>\n  ): Promise<TResult | undefined>\n\n  // Implementation\n  async prefetchQuery<TResult, TError>(\n    ...args: any[]\n  ): Promise<TResult | undefined> {\n    if (\n      isObject(args[1]) &&\n      (args[1].hasOwnProperty('throwOnError') ||\n        args[1].hasOwnProperty('force'))\n    ) {\n      args[3] = args[1]\n      args[1] = undefined\n      args[2] = undefined\n    }\n\n    const [queryKey, config, options] = getQueryArgs<\n      TResult,\n      TError,\n      PrefetchQueryOptions | undefined\n    >(args)\n\n    // https://github.com/tannerlinsley/react-query/issues/652\n    const configWithoutRetry = this.getDefaultedQueryConfig({\n      retry: false,\n      ...config,\n    })\n\n    let query\n    try {\n      query = this.buildQuery<TResult, TError>(queryKey, configWithoutRetry)\n      if (options?.force || query.isStaleByTime(config.staleTime)) {\n        await query.fetch(undefined, configWithoutRetry)\n      }\n      return query.state.data\n    } catch (error) {\n      if (options?.throwOnError) {\n        throw error\n      }\n    }\n  }\n\n  setQueryData<TResult, TError = unknown>(\n    queryKey: QueryKey,\n    updater: Updater<TResult | undefined, TResult>,\n    config?: QueryConfig<TResult, TError>\n  ) {\n    const query = this.getQuery<TResult, TError>(queryKey)\n\n    if (query) {\n      query.setData(updater)\n      return\n    }\n\n    this.buildQuery<TResult, TError>(queryKey, {\n      initialStale: typeof config?.staleTime === 'undefined',\n      initialData: functionalUpdate(updater, undefined),\n      ...config,\n    })\n  }\n}\n\nconst defaultQueryCache = makeQueryCache({ frozen: isServer })\nexport { defaultQueryCache as queryCache }\nexport const queryCaches = [defaultQueryCache]\n\nexport function makeQueryCache(config?: QueryCacheConfig) {\n  return new QueryCache(config)\n}\n\nexport function onVisibilityOrOnlineChange(type: 'focus' | 'online') {\n  if (isDocumentVisible() && isOnline()) {\n    queryCaches.forEach(queryCache => {\n      queryCache.getQueries().forEach(query => {\n        query.onInteraction(type)\n      })\n    })\n  }\n}\n","import { createSetHandler, isServer } from './utils'\nimport { onVisibilityOrOnlineChange } from './queryCache'\n\nexport const setFocusHandler = createSetHandler(() =>\n  onVisibilityOrOnlineChange('focus')\n)\n\nsetFocusHandler(handleFocus => {\n  if (isServer || !window?.addEventListener) {\n    return\n  }\n\n  // Listen to visibillitychange and focus\n  window.addEventListener('visibilitychange', handleFocus, false)\n  window.addEventListener('focus', handleFocus, false)\n\n  return () => {\n    // Be sure to unsubscribe if a new handler is set\n    window.removeEventListener('visibilitychange', handleFocus)\n    window.removeEventListener('focus', handleFocus)\n  }\n})\n","import { createSetHandler, isServer } from './utils'\nimport { onVisibilityOrOnlineChange } from './queryCache'\n\nexport const setOnlineHandler = createSetHandler(() =>\n  onVisibilityOrOnlineChange('online')\n)\n\nsetOnlineHandler(handleOnline => {\n  if (isServer || !window?.addEventListener) {\n    return\n  }\n\n  // Listen to online\n  window.addEventListener('online', handleOnline, false)\n\n  return () => {\n    // Be sure to unsubscribe if a new handler is set\n    window.removeEventListener('online', handleOnline)\n  }\n})\n","import React from 'react'\n\nimport {\n  queryCache as defaultQueryCache,\n  queryCaches,\n  makeQueryCache,\n} from '../core'\nimport { QueryCache } from '../core/queryCache'\n\nexport const queryCacheContext = React.createContext(defaultQueryCache)\n\nexport const useQueryCache = () => React.useContext(queryCacheContext)\n\nexport interface ReactQueryCacheProviderProps {\n  queryCache?: QueryCache\n}\n\nexport const ReactQueryCacheProvider: React.FC<ReactQueryCacheProviderProps> = ({\n  queryCache,\n  children,\n}) => {\n  const resolvedQueryCache = React.useMemo(\n    () => queryCache || makeQueryCache(),\n    [queryCache]\n  )\n\n  React.useEffect(() => {\n    queryCaches.push(resolvedQueryCache)\n\n    return () => {\n      // remove the cache from the active list\n      const i = queryCaches.indexOf(resolvedQueryCache)\n      if (i > -1) {\n        queryCaches.splice(i, 1)\n      }\n      // if the resolvedQueryCache was created by us, we need to tear it down\n      if (queryCache == null) {\n        resolvedQueryCache.clear({ notify: false })\n      }\n    }\n  }, [resolvedQueryCache, queryCache])\n\n  return (\n    <queryCacheContext.Provider value={resolvedQueryCache}>\n      {children}\n    </queryCacheContext.Provider>\n  )\n}\n","import React from 'react'\n\nimport { mergeReactQueryConfigs } from '../core/config'\nimport { ReactQueryConfig } from '../core/types'\n\nconst configContext = React.createContext<ReactQueryConfig | undefined>(\n  undefined\n)\n\nexport function useContextConfig() {\n  return React.useContext(configContext)\n}\n\nexport interface ReactQueryConfigProviderProps {\n  config: ReactQueryConfig\n}\n\nexport const ReactQueryConfigProvider: React.FC<ReactQueryConfigProviderProps> = ({\n  config,\n  children,\n}) => {\n  const parentConfig = useContextConfig()\n\n  const mergedConfig = React.useMemo(\n    () =>\n      parentConfig ? mergeReactQueryConfigs(parentConfig, config) : config,\n    [config, parentConfig]\n  )\n\n  return (\n    <configContext.Provider value={mergedConfig}>\n      {children}\n    </configContext.Provider>\n  )\n}\n","import React from 'react'\n\nimport { isServer } from '../core/utils'\n\nexport function useGetLatest<T>(obj: T): () => T {\n  const ref = React.useRef<T>(obj)\n  ref.current = obj\n  return React.useCallback(() => ref.current, [])\n}\n\nfunction useIsMounted(): () => boolean {\n  const mountedRef = React.useRef(false)\n  const isMounted = React.useCallback(() => mountedRef.current, [])\n\n  React[isServer ? 'useEffect' : 'useLayoutEffect'](() => {\n    mountedRef.current = true\n    return () => {\n      mountedRef.current = false\n    }\n  }, [])\n\n  return isMounted\n}\n\nexport function useMountedCallback<T extends Function>(callback: T): T {\n  const isMounted = useIsMounted()\n  return (React.useCallback(\n    (...args: any[]) => {\n      if (isMounted()) {\n        return callback(...args)\n      }\n    },\n    [callback, isMounted]\n  ) as any) as T\n}\n\n/**\n * This hook is a safe useState version which schedules state updates in microtasks\n * to prevent updating a component state while React is rendering different components\n * or when the component is not mounted anymore.\n */\nexport function useSafeState<S>(\n  initialState: S | (() => S)\n): [S, React.Dispatch<React.SetStateAction<S>>] {\n  const isMounted = useIsMounted()\n  const [state, setState] = React.useState(initialState)\n\n  const safeSetState = React.useCallback(\n    (value: React.SetStateAction<S>) => {\n      scheduleMicrotask(() => {\n        if (isMounted()) {\n          setState(value)\n        }\n      })\n    },\n    [isMounted]\n  )\n\n  return [state, safeSetState]\n}\n\nexport function useRerenderer() {\n  const [, setState] = useSafeState({})\n  return React.useCallback(() => setState({}), [setState])\n}\n\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\nfunction scheduleMicrotask(callback: () => void): void {\n  Promise.resolve()\n    .then(callback)\n    .catch(error =>\n      setTimeout(() => {\n        throw error\n      })\n    )\n}\n","import React from 'react'\n\nimport { useQueryCache } from './ReactQueryCacheProvider'\nimport { useSafeState } from './utils'\n\nexport function useIsFetching(): number {\n  const queryCache = useQueryCache()\n\n  const [isFetching, setIsFetching] = useSafeState(queryCache.isFetching)\n\n  React.useEffect(\n    () =>\n      queryCache.subscribe(() => {\n        setIsFetching(queryCache.isFetching)\n      }),\n    [queryCache, setIsFetching]\n  )\n\n  return isFetching\n}\n","import { MutationConfig } from '../core/types'\nimport { getDefaultedMutationConfig } from '../core/config'\nimport { useQueryCache } from './ReactQueryCacheProvider'\nimport { useContextConfig } from './ReactQueryConfigProvider'\n\nexport function useDefaultedMutationConfig<\n  TResult,\n  TError,\n  TVariables,\n  TSnapshot\n>(\n  config?: MutationConfig<TResult, TError, TVariables, TSnapshot>\n): MutationConfig<TResult, TError, TVariables, TSnapshot> {\n  const contextConfig = useContextConfig()\n  const contextQueryCache = useQueryCache()\n  const queryCache = config?.queryCache || contextQueryCache\n  const queryCacheConfig = queryCache.getDefaultConfig()\n  return getDefaultedMutationConfig(queryCacheConfig, contextConfig, config, {\n    queryCache,\n  })\n}\n","import React from 'react'\n\nimport { useDefaultedMutationConfig } from './useDefaultedMutationConfig'\nimport { useGetLatest, useMountedCallback } from './utils'\nimport { Console, uid, getStatusProps } from '../core/utils'\nimport {\n  QueryStatus,\n  MutationResultPair,\n  MutationFunction,\n  MutationConfig,\n  MutateConfig,\n} from '../core/types'\n\n// TYPES\n\ntype Reducer<S, A> = (prevState: S, action: A) => S\n\ninterface State<TResult, TError> {\n  status: QueryStatus\n  data: TResult | undefined\n  error: TError | null\n  isIdle: boolean\n  isLoading: boolean\n  isSuccess: boolean\n  isError: boolean\n}\n\nenum ActionType {\n  Reset = 'Reset',\n  Loading = 'Loading',\n  Resolve = 'Resolve',\n  Reject = 'Reject',\n}\n\ninterface ResetAction {\n  type: ActionType.Reset\n}\n\ninterface LoadingAction {\n  type: ActionType.Loading\n}\n\ninterface ResolveAction<TResult> {\n  type: ActionType.Resolve\n  data: TResult\n}\n\ninterface RejectAction<TError> {\n  type: ActionType.Reject\n  error: TError\n}\n\ntype Action<TResult, TError> =\n  | ResetAction\n  | LoadingAction\n  | ResolveAction<TResult>\n  | RejectAction<TError>\n\n// HOOK\n\nconst getDefaultState = (): State<any, any> => ({\n  ...getStatusProps(QueryStatus.Idle),\n  data: undefined,\n  error: null,\n})\n\nfunction mutationReducer<TResult, TError>(\n  state: State<TResult, TError>,\n  action: Action<TResult, TError>\n): State<TResult, TError> {\n  switch (action.type) {\n    case ActionType.Reset:\n      return getDefaultState()\n    case ActionType.Loading:\n      return {\n        ...getStatusProps(QueryStatus.Loading),\n        data: undefined,\n        error: null,\n      }\n    case ActionType.Resolve:\n      return {\n        ...getStatusProps(QueryStatus.Success),\n        data: action.data,\n        error: null,\n      }\n    case ActionType.Reject:\n      return {\n        ...getStatusProps(QueryStatus.Error),\n        data: undefined,\n        error: action.error,\n      }\n    default:\n      return state\n  }\n}\n\nexport function useMutation<\n  TResult,\n  TError = unknown,\n  TVariables = undefined,\n  TSnapshot = unknown\n>(\n  mutationFn: MutationFunction<TResult, TVariables>,\n  config: MutationConfig<TResult, TError, TVariables, TSnapshot> = {}\n): MutationResultPair<TResult, TError, TVariables, TSnapshot> {\n  config = useDefaultedMutationConfig(config)\n  const getConfig = useGetLatest(config)\n\n  const [state, unsafeDispatch] = React.useReducer(\n    mutationReducer as Reducer<State<TResult, TError>, Action<TResult, TError>>,\n    null,\n    getDefaultState\n  )\n\n  const dispatch = useMountedCallback(unsafeDispatch)\n\n  const getMutationFn = useGetLatest(mutationFn)\n\n  const latestMutationRef = React.useRef<number>()\n\n  const mutate = React.useCallback(\n    async (\n      variables?: TVariables,\n      mutateConfig: MutateConfig<TResult, TError, TVariables, TSnapshot> = {}\n    ): Promise<TResult | undefined> => {\n      const config = getConfig()\n\n      const mutationId = uid()\n      latestMutationRef.current = mutationId\n\n      const isLatest = () => latestMutationRef.current === mutationId\n\n      let snapshotValue: TSnapshot | undefined\n\n      try {\n        dispatch({ type: ActionType.Loading })\n        snapshotValue = (await config.onMutate?.(variables!)) as TSnapshot\n\n        const data = await getMutationFn()(variables!)\n\n        if (isLatest()) {\n          dispatch({ type: ActionType.Resolve, data })\n        }\n\n        await config.onSuccess?.(data, variables!)\n        await mutateConfig.onSuccess?.(data, variables!)\n        await config.onSettled?.(data, null, variables!)\n        await mutateConfig.onSettled?.(data, null, variables!)\n\n        return data\n      } catch (error) {\n        Console.error(error)\n        await config.onError?.(error, variables!, snapshotValue!)\n        await mutateConfig.onError?.(error, variables!, snapshotValue!)\n        await config.onSettled?.(\n          undefined,\n          error,\n          variables!,\n          snapshotValue as TSnapshot\n        )\n        await mutateConfig.onSettled?.(\n          undefined,\n          error,\n          variables!,\n          snapshotValue\n        )\n\n        if (isLatest()) {\n          dispatch({ type: ActionType.Reject, error })\n        }\n\n        if (mutateConfig.throwOnError ?? config.throwOnError) {\n          throw error\n        }\n      }\n    },\n    [dispatch, getConfig, getMutationFn]\n  )\n\n  const reset = React.useCallback(() => {\n    dispatch({ type: ActionType.Reset })\n  }, [dispatch])\n\n  React.useEffect(() => {\n    const { suspense, useErrorBoundary } = getConfig()\n\n    if ((useErrorBoundary ?? suspense) && state.error) {\n      throw state.error\n    }\n  }, [getConfig, state.error])\n\n  return [mutate, { ...state, reset }]\n}\n","import { QueryConfig } from '../core/types'\nimport { getDefaultedQueryConfig } from '../core/config'\nimport { useQueryCache } from './ReactQueryCacheProvider'\nimport { useContextConfig } from './ReactQueryConfigProvider'\n\nexport function useDefaultedQueryConfig<TResult, TError>(\n  config?: QueryConfig<TResult, TError>\n): QueryConfig<TResult, TError> {\n  const contextConfig = useContextConfig()\n  const contextQueryCache = useQueryCache()\n  const queryCache = config?.queryCache || contextQueryCache\n  const queryCacheConfig = queryCache.getDefaultConfig()\n  return getDefaultedQueryConfig(queryCacheConfig, contextConfig, config, {\n    queryCache,\n  })\n}\n","import React from 'react'\n\nimport { useRerenderer } from './utils'\nimport { QueryObserver } from '../core/queryObserver'\nimport { QueryResultBase, QueryObserverConfig } from '../core/types'\nimport { useDefaultedQueryConfig } from './useDefaultedQueryConfig'\n\nexport function useBaseQuery<TResult, TError>(\n  config: QueryObserverConfig<TResult, TError> = {}\n): QueryResultBase<TResult, TError> {\n  config = useDefaultedQueryConfig(config)\n\n  // Make a rerender function\n  const rerender = useRerenderer()\n\n  // Create query observer\n  const observerRef = React.useRef<QueryObserver<TResult, TError>>()\n  const firstRender = !observerRef.current\n  const observer = observerRef.current || new QueryObserver(config)\n  observerRef.current = observer\n\n  // Subscribe to the observer\n  React.useEffect(\n    () =>\n      observer.subscribe(() => {\n        rerender()\n      }),\n    [observer, rerender]\n  )\n\n  // Update config\n  if (!firstRender) {\n    observer.updateConfig(config)\n  }\n\n  const result = observer.getCurrentResult()\n\n  // Handle suspense\n  if (config.suspense || config.useErrorBoundary) {\n    const query = observer.getCurrentQuery()\n\n    if (result.isError && query.state.throwInErrorBoundary) {\n      throw result.error\n    }\n\n    if (config.enabled && config.suspense && !result.isSuccess) {\n      const unsubscribe = observer.subscribe()\n      throw observer.fetch().finally(unsubscribe)\n    }\n  }\n\n  return result\n}\n","import {\n  QueryConfig,\n  QueryFunction,\n  QueryKey,\n  QueryResult,\n  TypedQueryFunction,\n  TypedQueryFunctionArgs,\n} from '../core/types'\nimport { getQueryArgs } from '../core/utils'\nimport { useBaseQuery } from './useBaseQuery'\n\n// TYPES\n\nexport interface UseQueryObjectConfig<TResult, TError> {\n  queryKey: QueryKey\n  queryFn?: QueryFunction<TResult>\n  config?: QueryConfig<TResult, TError>\n}\n\n// HOOK\n\n// Parameter syntax with optional config\nexport function useQuery<TResult = unknown, TError = unknown>(\n  queryKey: QueryKey,\n  queryConfig?: QueryConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function useQuery<TResult, TError, TArgs extends TypedQueryFunctionArgs>(\n  queryKey: QueryKey,\n  queryFn: TypedQueryFunction<TResult, TArgs>,\n  queryConfig?: QueryConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\nexport function useQuery<TResult = unknown, TError = unknown>(\n  queryKey: QueryKey,\n  queryFn: QueryFunction<TResult>,\n  queryConfig?: QueryConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\n// Object syntax\nexport function useQuery<TResult = unknown, TError = unknown>(\n  config: UseQueryObjectConfig<TResult, TError>\n): QueryResult<TResult, TError>\n\n// Implementation\nexport function useQuery<TResult, TError>(\n  ...args: any[]\n): QueryResult<TResult, TError> {\n  const config = getQueryArgs<TResult, TError>(args)[1]\n  return useBaseQuery<TResult, TError>(config)\n}\n","import {\n  PaginatedQueryConfig,\n  PaginatedQueryResult,\n  QueryFunction,\n  QueryKey,\n  TypedQueryFunction,\n  TypedQueryFunctionArgs,\n} from '../core/types'\nimport { getQueryArgs } from '../core/utils'\nimport { useBaseQuery } from './useBaseQuery'\n\n// A paginated query is more like a \"lag\" query, which means\n// as the query key changes, we keep the results from the\n// last query and use them as placeholder data in the next one\n// We DON'T use it as initial data though. That's important\n\n// TYPES\n\nexport interface UsePaginatedQueryObjectConfig<TResult, TError> {\n  queryKey: QueryKey\n  queryFn?: QueryFunction<TResult>\n  config?: PaginatedQueryConfig<TResult, TError>\n}\n\n// HOOK\n\n// Parameter syntax with optional config\nexport function usePaginatedQuery<TResult = unknown, TError = unknown>(\n  queryKey: QueryKey,\n  queryConfig?: PaginatedQueryConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function usePaginatedQuery<\n  TResult,\n  TError,\n  TArgs extends TypedQueryFunctionArgs\n>(\n  queryKey: QueryKey,\n  queryFn: TypedQueryFunction<TResult, TArgs>,\n  queryConfig?: PaginatedQueryConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\nexport function usePaginatedQuery<TResult = unknown, TError = unknown>(\n  queryKey: QueryKey,\n  queryFn: QueryFunction<TResult>,\n  queryConfig?: PaginatedQueryConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\n// Object syntax\nexport function usePaginatedQuery<TResult = unknown, TError = unknown>(\n  config: UsePaginatedQueryObjectConfig<TResult, TError>\n): PaginatedQueryResult<TResult, TError>\n\n// Implementation\nexport function usePaginatedQuery<TResult, TError>(\n  ...args: any[]\n): PaginatedQueryResult<TResult, TError> {\n  const config = getQueryArgs<TResult, TError>(args)[1]\n  const result = useBaseQuery<TResult, TError>({\n    keepPreviousData: true,\n    ...config,\n  })\n  return {\n    ...result,\n    resolvedData: result.data,\n    latestData: result.isPreviousData ? undefined : result.data,\n  }\n}\n","import {\n  InfiniteQueryConfig,\n  InfiniteQueryResult,\n  QueryFunction,\n  QueryKey,\n  TypedQueryFunction,\n  TypedQueryFunctionArgs,\n} from '../core/types'\nimport { getQueryArgs } from '../core/utils'\nimport { useBaseQuery } from './useBaseQuery'\n\n// TYPES\n\nexport interface UseInfiniteQueryObjectConfig<TResult, TError> {\n  queryKey: QueryKey\n  queryFn?: QueryFunction<TResult>\n  config?: InfiniteQueryConfig<TResult, TError>\n}\n\n// HOOK\n\n// Parameter syntax with optional config\nexport function useInfiniteQuery<TResult = unknown, TError = unknown>(\n  queryKey: QueryKey,\n  queryConfig?: InfiniteQueryConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\n// Parameter syntax with query function and optional config\nexport function useInfiniteQuery<\n  TResult,\n  TError,\n  TArgs extends TypedQueryFunctionArgs\n>(\n  queryKey: QueryKey,\n  queryFn: TypedQueryFunction<TResult, TArgs>,\n  queryConfig?: InfiniteQueryConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\nexport function useInfiniteQuery<TResult = unknown, TError = unknown>(\n  queryKey: QueryKey,\n  queryFn: QueryFunction<TResult>,\n  queryConfig?: InfiniteQueryConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\n// Object syntax\nexport function useInfiniteQuery<TResult = unknown, TError = unknown>(\n  config: UseInfiniteQueryObjectConfig<TResult, TError>\n): InfiniteQueryResult<TResult, TError>\n\n// Implementation\nexport function useInfiniteQuery<TResult, TError>(\n  ...args: any[]\n): InfiniteQueryResult<TResult, TError> {\n  const config = getQueryArgs<TResult[], TError>(args)[1]\n  return useBaseQuery<TResult[], TError>({ ...config, infinite: true })\n}\n"],"names":["QueryStatus","CancelledError","_uid","uid","isServer","window","noop","Console","console","error","warn","log","setConsole","c","functionalUpdate","updater","input","stableStringifyReplacer","_key","value","Error","isObject","Object","keys","sort","reduce","result","key","stableStringify","JSON","stringify","deepIncludes","a","b","some","isDocumentVisible","document","undefined","includes","visibilityState","isOnline","navigator","onLine","getQueryArgs","args","queryKey","queryFn","config","options","replaceEqualDeep","array","Array","isArray","isPlainObject","aSize","length","bItems","bSize","copy","equalItems","i","o","hasObjectPrototype","ctor","constructor","prot","prototype","hasOwnProperty","toString","call","isCancelable","cancel","isError","isCancelledError","sleep","timeout","Promise","resolve","setTimeout","getStatusProps","status","isLoading","Loading","isSuccess","Success","isIdle","Idle","createSetHandler","fn","removePreviousHandler","callback","defaultQueryKeySerializerFn","arrayQueryKey","queryHash","parse","DEFAULT_STALE_TIME","DEFAULT_CACHE_TIME","DEFAULT_CONFIG","queries","cacheTime","enabled","notifyOnStatusChange","queryKeySerializerFn","refetchOnMount","refetchOnReconnect","refetchOnWindowFocus","retry","retryDelay","attemptIndex","Math","min","staleTime","structuralSharing","mergeReactQueryConfigs","shared","mutations","getDefaultedQueryConfig","queryCacheConfig","contextConfig","configOverrides","getDefaultedMutationConfig","then","direct","body","recover","e","QueryObserver","queryCache","initialFetchedCount","clear","bind","refetch","fetchMore","updateQuery","subscribe","listener","started","updateListener","currentQuery","subscribeObserver","forceFetchOnMount","fetch","optionalFetch","updateTimers","unsubscribe","clearTimers","unsubscribeObserver","updateConfig","prevConfig","updated","updateStaleTimeout","refetchInterval","refetchIntervalInBackground","updateRefetchInterval","isStale","currentResult","getCurrentQuery","getCurrentResult","fetchMoreVariable","suspense","isFetched","observers","updateIsStale","isStaleByTime","updateResult","notify","clearStaleTimeout","updatedAt","Infinity","timeElapsed","Date","now","timeUntilStale","max","staleTimeoutId","clearRefetchInterval","refetchIntervalId","setInterval","clearInterval","previousQueryResult","state","data","isPreviousData","keepPreviousData","initialStale","canFetchMore","failureCount","isFetchedAfterMount","fetchedCount","isFetching","isFetchingMore","prevQuery","initialData","newQuery","buildQuery","onQueryUpdate","action","prevResult","type","onSuccess","onSettled","onError","f","arguments","apply","reject","ActionType","Query","init","notifyGlobalListeners","getDefaultState","scheduleGc","dispatch","queryReducer","forEach","observer","clearGcTimeout","gcTimeout","cancelFetch","continue","continueFetch","clearTimersObservers","clearTimeout","setData","prevData","isDataEqual","hasMorePages","removeQuery","destroy","isEnabled","onInteraction","find","catch","push","filter","x","isTransportCancelable","throwOnError","previous","promise","queryFnParamsFilter","params","infinite","startInfiniteFetch","startFetch","_options","fetchData","Fetch","tryFetchData","prevPages","fetchPage","pages","prepend","cursor","lastPage","getLastPage","getFetchMore","page","outerResolve","outerReject","resolved","continueLoop","cancelTransport","done","run","promiseOrValue","shouldRetry","Failed","continueResolve","Boolean","hasInitialData","initialStatus","throwInErrorBoundary","QueryCache","globalListeners","queriesArray","query","getQueries","acc","getDefaultConfig","defaultConfig","removeQueries","predicate","predicateFn","d","exact","getQuery","getQueryData","cancelQueries","invalidateQueries","refetchActive","refetchInactive","all","map","err","resetErrorBoundaries","userQueryKey","queryConfig","frozen","prefetchQuery","configWithoutRetry","force","setQueryData","defaultQueryCache","makeQueryCache","queryCaches","onVisibilityOrOnlineChange","setFocusHandler","handleFocus","addEventListener","removeEventListener","setOnlineHandler","handleOnline","queryCacheContext","React","createContext","useQueryCache","useContext","ReactQueryCacheProvider","children","resolvedQueryCache","useMemo","useEffect","indexOf","splice","configContext","useContextConfig","ReactQueryConfigProvider","parentConfig","mergedConfig","useGetLatest","obj","ref","useRef","current","useCallback","useIsMounted","mountedRef","isMounted","useMountedCallback","useSafeState","initialState","useState","setState","safeSetState","scheduleMicrotask","useRerenderer","useIsFetching","setIsFetching","useDefaultedMutationConfig","contextQueryCache","_await","mutationReducer","Reset","Resolve","Reject","useMutation","mutationFn","getConfig","useReducer","unsafeDispatch","getMutationFn","latestMutationRef","mutate","variables","mutateConfig","mutationId","isLatest","snapshotValue","onMutate","reset","useErrorBoundary","useDefaultedQueryConfig","useBaseQuery","rerender","observerRef","firstRender","finally","useQuery","usePaginatedQuery","resolvedData","latestData","useInfiniteQuery"],"mappings":"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"}