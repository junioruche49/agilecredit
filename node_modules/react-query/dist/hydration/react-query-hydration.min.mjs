import e from"react";import{useQueryCache as t}from"react-query";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var o=function(e){return"success"===e.state.status};function a(e,t){for(var r,a,i,u=(t||{}).shouldDehydrate,c=void 0===u?o:u,f={queries:[]},d=n(e.getQueries());!(r=d()).done;){var l=r.value;c(l)&&f.queries.push((i=void 0,i={config:{queryKey:(a=l).queryKey},updatedAt:a.state.updatedAt},3e5!==a.cacheTime&&(i.config.cacheTime=a.cacheTime),void 0!==a.state.data&&(i.config.initialData=a.state.data),i))}return f}function i(e,t){if("object"==typeof t&&null!==t)for(var r,o=n(t.queries||[]);!(r=o()).done;){var a=r.value,i=a.config.queryKey,u=a.config;e.buildQuery(i,u).state.updatedAt=a.updatedAt}}function u(r){var n=t();e.useMemo((function(){r&&i(n,r)}),[n,r])}var c=function(e){var t=e.state,r=e.children;return u(t),r};export{c as Hydrate,a as dehydrate,i as hydrate,u as useHydrate};
//# sourceMappingURL=react-query-hydration.min.mjs.map
